var Ld=Object.create;var Ri=Object.defineProperty;var Dd=Object.getOwnPropertyDescriptor;var Nd=Object.getOwnPropertyNames;var Md=Object.getPrototypeOf,Pd=Object.prototype.hasOwnProperty;var x=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Sa=(t,e)=>{for(var r in e)Ri(t,r,{get:e[r],enumerable:!0})},Kd=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Nd(e))!Pd.call(t,i)&&i!==r&&Ri(t,i,{get:()=>e[i],enumerable:!(n=Dd(e,i))||n.enumerable});return t};var c=(t,e,r)=>(r=t!=null?Ld(Md(t)):{},Kd(e||!t||!t.__esModule?Ri(r,"default",{value:t,enumerable:!0}):r,t));var Ba=x(ln=>{"use strict";var W0=c(u());ln.byteLength=qd;ln.toByteArray=jd;ln.fromByteArray=Hd;var we=[],ie=[],Fd=typeof Uint8Array<"u"?Uint8Array:Array,Oi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(dt=0,Aa=Oi.length;dt<Aa;++dt)we[dt]=Oi[dt],ie[Oi.charCodeAt(dt)]=dt;var dt,Aa;ie[45]=62;ie[95]=63;function Ta(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function qd(t){var e=Ta(t),r=e[0],n=e[1];return(r+n)*3/4-n}function $d(t,e,r){return(e+r)*3/4-r}function jd(t){var e,r=Ta(t),n=r[0],i=r[1],o=new Fd($d(t,n,i)),s=0,a=i>0?n-4:n,f;for(f=0;f<a;f+=4)e=ie[t.charCodeAt(f)]<<18|ie[t.charCodeAt(f+1)]<<12|ie[t.charCodeAt(f+2)]<<6|ie[t.charCodeAt(f+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=ie[t.charCodeAt(f)]<<2|ie[t.charCodeAt(f+1)]>>4,o[s++]=e&255),i===1&&(e=ie[t.charCodeAt(f)]<<10|ie[t.charCodeAt(f+1)]<<4|ie[t.charCodeAt(f+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function Vd(t){return we[t>>18&63]+we[t>>12&63]+we[t>>6&63]+we[t&63]}function Wd(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(Vd(n));return i.join("")}function Hd(t){for(var e,r=t.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(Wd(t,s,s+o>a?a:s+o));return n===1?(e=t[r-1],i.push(we[e>>2]+we[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(we[e>>10]+we[e>>4&63]+we[e<<2&63]+"=")),i.join("")}});var Ia=x(ki=>{var G0=c(u());ki.read=function(t,e,r,n,i){var o,s,a=i*8-n-1,f=(1<<a)-1,l=f>>1,d=-7,h=r?i-1:0,b=r?-1:1,w=t[e+h];for(h+=b,o=w&(1<<-d)-1,w>>=-d,d+=a;d>0;o=o*256+t[e+h],h+=b,d-=8);for(s=o&(1<<-d)-1,o>>=-d,d+=n;d>0;s=s*256+t[e+h],h+=b,d-=8);if(o===0)o=1-l;else{if(o===f)return s?NaN:(w?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-l}return(w?-1:1)*s*Math.pow(2,o-n)};ki.write=function(t,e,r,n,i,o){var s,a,f,l=o*8-i-1,d=(1<<l)-1,h=d>>1,b=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=n?0:o-1,p=n?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=d):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),s+h>=1?e+=b/f:e+=b*Math.pow(2,1-h),e*f>=2&&(s++,f/=2),s+h>=d?(a=0,s=d):s+h>=1?(a=(e*f-1)*Math.pow(2,i),s=s+h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;t[r+w]=a&255,w+=p,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;t[r+w]=s&255,w+=p,s/=256,l-=8);t[r+w-p]|=m*128}});var Y=x(Jt=>{"use strict";var Y0=c(u());var Ci=Ba(),Gt=Ia(),Ra=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Jt.Buffer=y;Jt.SlowBuffer=Zd;Jt.INSPECT_MAX_BYTES=50;var dn=2147483647;Jt.kMaxLength=dn;y.TYPED_ARRAY_SUPPORT=Gd();!y.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Gd(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(y.prototype,"parent",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.buffer}});Object.defineProperty(y.prototype,"offset",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.byteOffset}});function Ue(t){if(t>dn)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,y.prototype),e}function y(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Ni(t)}return Ua(t,e,r)}y.poolSize=8192;function Ua(t,e,r){if(typeof t=="string")return Jd(t,e);if(ArrayBuffer.isView(t))return Yd(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(be(t,ArrayBuffer)||t&&be(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(be(t,SharedArrayBuffer)||t&&be(t.buffer,SharedArrayBuffer)))return Li(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return y.from(n,e,r);let i=Xd(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return y.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}y.from=function(t,e,r){return Ua(t,e,r)};Object.setPrototypeOf(y.prototype,Uint8Array.prototype);Object.setPrototypeOf(y,Uint8Array);function La(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function zd(t,e,r){return La(t),t<=0?Ue(t):e!==void 0?typeof r=="string"?Ue(t).fill(e,r):Ue(t).fill(e):Ue(t)}y.alloc=function(t,e,r){return zd(t,e,r)};function Ni(t){return La(t),Ue(t<0?0:Mi(t)|0)}y.allocUnsafe=function(t){return Ni(t)};y.allocUnsafeSlow=function(t){return Ni(t)};function Jd(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!y.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=Da(t,e)|0,n=Ue(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function Ui(t){let e=t.length<0?0:Mi(t.length)|0,r=Ue(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function Yd(t){if(be(t,Uint8Array)){let e=new Uint8Array(t);return Li(e.buffer,e.byteOffset,e.byteLength)}return Ui(t)}function Li(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,y.prototype),n}function Xd(t){if(y.isBuffer(t)){let e=Mi(t.length)|0,r=Ue(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||Ki(t.length)?Ue(0):Ui(t);if(t.type==="Buffer"&&Array.isArray(t.data))return Ui(t.data)}function Mi(t){if(t>=dn)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+dn.toString(16)+" bytes");return t|0}function Zd(t){return+t!=t&&(t=0),y.alloc(+t)}y.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==y.prototype};y.compare=function(e,r){if(be(e,Uint8Array)&&(e=y.from(e,e.offset,e.byteLength)),be(r,Uint8Array)&&(r=y.from(r,r.offset,r.byteLength)),!y.isBuffer(e)||!y.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};y.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};y.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return y.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=y.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){let s=e[n];if(be(s,Uint8Array))o+s.length>i.length?(y.isBuffer(s)||(s=y.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(y.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function Da(t,e){if(y.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||be(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Di(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return Va(t).length;default:if(i)return n?-1:Di(t).length;e=(""+e).toLowerCase(),i=!0}}y.byteLength=Da;function Qd(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return uh(this,e,r);case"utf8":case"utf-8":return Ma(this,e,r);case"ascii":return ah(this,e,r);case"latin1":case"binary":return ch(this,e,r);case"base64":return oh(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fh(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}y.prototype._isBuffer=!0;function ht(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}y.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)ht(this,r,r+1);return this};y.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)ht(this,r,r+3),ht(this,r+1,r+2);return this};y.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)ht(this,r,r+7),ht(this,r+1,r+6),ht(this,r+2,r+5),ht(this,r+3,r+4);return this};y.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Ma(this,0,e):Qd.apply(this,arguments)};y.prototype.toLocaleString=y.prototype.toString;y.prototype.equals=function(e){if(!y.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:y.compare(this,e)===0};y.prototype.inspect=function(){let e="",r=Jt.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};Ra&&(y.prototype[Ra]=y.prototype.inspect);y.prototype.compare=function(e,r,n,i,o){if(be(e,Uint8Array)&&(e=y.from(e,e.offset,e.byteLength)),!y.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let s=o-i,a=n-r,f=Math.min(s,a),l=this.slice(i,o),d=e.slice(r,n);for(let h=0;h<f;++h)if(l[h]!==d[h]){s=l[h],a=d[h];break}return s<a?-1:a<s?1:0};function Na(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Ki(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=y.from(e,n)),y.isBuffer(e))return e.length===0?-1:Oa(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Oa(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Oa(t,e,r,n,i){let o=1,s=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,a/=2,r/=2}function f(d,h){return o===1?d[h]:d.readUInt16BE(h*o)}let l;if(i){let d=-1;for(l=r;l<s;l++)if(f(t,l)===f(e,d===-1?0:l-d)){if(d===-1&&(d=l),l-d+1===a)return d*o}else d!==-1&&(l-=l-d),d=-1}else for(r+a>s&&(r=s-a),l=r;l>=0;l--){let d=!0;for(let h=0;h<a;h++)if(f(t,l+h)!==f(e,h)){d=!1;break}if(d)return l}return-1}y.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};y.prototype.indexOf=function(e,r,n){return Na(this,e,r,n,!0)};y.prototype.lastIndexOf=function(e,r,n){return Na(this,e,r,n,!1)};function eh(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=e.length;n>o/2&&(n=o/2);let s;for(s=0;s<n;++s){let a=parseInt(e.substr(s*2,2),16);if(Ki(a))return s;t[r+s]=a}return s}function th(t,e,r,n){return hn(Di(e,t.length-r),t,r,n)}function rh(t,e,r,n){return hn(ph(e),t,r,n)}function nh(t,e,r,n){return hn(Va(e),t,r,n)}function ih(t,e,r,n){return hn(yh(e,t.length-r),t,r,n)}y.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return eh(this,e,r,n);case"utf8":case"utf-8":return th(this,e,r,n);case"ascii":case"latin1":case"binary":return rh(this,e,r,n);case"base64":return nh(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ih(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function oh(t,e,r){return e===0&&r===t.length?Ci.fromByteArray(t):Ci.fromByteArray(t.slice(e,r))}function Ma(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=r){let f,l,d,h;switch(a){case 1:o<128&&(s=o);break;case 2:f=t[i+1],(f&192)===128&&(h=(o&31)<<6|f&63,h>127&&(s=h));break;case 3:f=t[i+1],l=t[i+2],(f&192)===128&&(l&192)===128&&(h=(o&15)<<12|(f&63)<<6|l&63,h>2047&&(h<55296||h>57343)&&(s=h));break;case 4:f=t[i+1],l=t[i+2],d=t[i+3],(f&192)===128&&(l&192)===128&&(d&192)===128&&(h=(o&15)<<18|(f&63)<<12|(l&63)<<6|d&63,h>65535&&h<1114112&&(s=h))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=a}return sh(n)}var ka=4096;function sh(t){let e=t.length;if(e<=ka)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=ka));return r}function ah(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function ch(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function uh(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=e;o<r;++o)i+=wh[t[o]];return i}function fh(t,e,r){let n=t.slice(e,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}y.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,y.prototype),i};function q(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}y.prototype.readUintLE=y.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||q(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return i};y.prototype.readUintBE=y.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||q(e,r,this.length);let i=this[e+--r],o=1;for(;r>0&&(o*=256);)i+=this[e+--r]*o;return i};y.prototype.readUint8=y.prototype.readUInt8=function(e,r){return e=e>>>0,r||q(e,1,this.length),this[e]};y.prototype.readUint16LE=y.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||q(e,2,this.length),this[e]|this[e+1]<<8};y.prototype.readUint16BE=y.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||q(e,2,this.length),this[e]<<8|this[e+1]};y.prototype.readUint32LE=y.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||q(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};y.prototype.readUint32BE=y.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||q(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};y.prototype.readBigUInt64LE=Xe(function(e){e=e>>>0,zt(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&vr(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});y.prototype.readBigUInt64BE=Xe(function(e){e=e>>>0,zt(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&vr(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});y.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||q(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};y.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||q(e,r,this.length);let i=r,o=1,s=this[e+--i];for(;i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};y.prototype.readInt8=function(e,r){return e=e>>>0,r||q(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};y.prototype.readInt16LE=function(e,r){e=e>>>0,r||q(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};y.prototype.readInt16BE=function(e,r){e=e>>>0,r||q(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};y.prototype.readInt32LE=function(e,r){return e=e>>>0,r||q(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};y.prototype.readInt32BE=function(e,r){return e=e>>>0,r||q(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};y.prototype.readBigInt64LE=Xe(function(e){e=e>>>0,zt(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&vr(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});y.prototype.readBigInt64BE=Xe(function(e){e=e>>>0,zt(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&vr(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});y.prototype.readFloatLE=function(e,r){return e=e>>>0,r||q(e,4,this.length),Gt.read(this,e,!0,23,4)};y.prototype.readFloatBE=function(e,r){return e=e>>>0,r||q(e,4,this.length),Gt.read(this,e,!1,23,4)};y.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||q(e,8,this.length),Gt.read(this,e,!0,52,8)};y.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||q(e,8,this.length),Gt.read(this,e,!1,52,8)};function J(t,e,r,n,i,o){if(!y.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}y.prototype.writeUintLE=y.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;J(this,e,r,n,a,0)}let o=1,s=0;for(this[r]=e&255;++s<n&&(o*=256);)this[r+s]=e/o&255;return r+n};y.prototype.writeUintBE=y.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;J(this,e,r,n,a,0)}let o=n-1,s=1;for(this[r+o]=e&255;--o>=0&&(s*=256);)this[r+o]=e/s&255;return r+n};y.prototype.writeUint8=y.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||J(this,e,r,1,255,0),this[r]=e&255,r+1};y.prototype.writeUint16LE=y.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||J(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};y.prototype.writeUint16BE=y.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||J(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};y.prototype.writeUint32LE=y.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||J(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};y.prototype.writeUint32BE=y.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||J(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function Pa(t,e,r,n,i){ja(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function Ka(t,e,r,n,i){ja(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o=o>>8,t[r+6]=o,o=o>>8,t[r+5]=o,o=o>>8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}y.prototype.writeBigUInt64LE=Xe(function(e,r=0){return Pa(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});y.prototype.writeBigUInt64BE=Xe(function(e,r=0){return Ka(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});y.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let f=Math.pow(2,8*n-1);J(this,e,r,n,f-1,-f)}let o=0,s=1,a=0;for(this[r]=e&255;++o<n&&(s*=256);)e<0&&a===0&&this[r+o-1]!==0&&(a=1),this[r+o]=(e/s>>0)-a&255;return r+n};y.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let f=Math.pow(2,8*n-1);J(this,e,r,n,f-1,-f)}let o=n-1,s=1,a=0;for(this[r+o]=e&255;--o>=0&&(s*=256);)e<0&&a===0&&this[r+o+1]!==0&&(a=1),this[r+o]=(e/s>>0)-a&255;return r+n};y.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||J(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};y.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||J(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};y.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||J(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};y.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||J(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};y.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||J(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};y.prototype.writeBigInt64LE=Xe(function(e,r=0){return Pa(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});y.prototype.writeBigInt64BE=Xe(function(e,r=0){return Ka(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Fa(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function qa(t,e,r,n,i){return e=+e,r=r>>>0,i||Fa(t,e,r,4,34028234663852886e22,-34028234663852886e22),Gt.write(t,e,r,n,23,4),r+4}y.prototype.writeFloatLE=function(e,r,n){return qa(this,e,r,!0,n)};y.prototype.writeFloatBE=function(e,r,n){return qa(this,e,r,!1,n)};function $a(t,e,r,n,i){return e=+e,r=r>>>0,i||Fa(t,e,r,8,17976931348623157e292,-17976931348623157e292),Gt.write(t,e,r,n,52,8),r+8}y.prototype.writeDoubleLE=function(e,r,n){return $a(this,e,r,!0,n)};y.prototype.writeDoubleBE=function(e,r,n){return $a(this,e,r,!1,n)};y.prototype.copy=function(e,r,n,i){if(!y.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),o};y.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!y.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{let s=y.isBuffer(e)?e:y.from(e,i),a=s.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=s[o%a]}return this};var Ht={};function Pi(t,e,r){Ht[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}Pi("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Pi("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);Pi("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=Ca(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=Ca(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function Ca(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function lh(t,e,r){zt(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&vr(e,t.length-(r+1))}function ja(t,e,r,n,i,o){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",a;throw o>3?e===0||e===BigInt(0)?a=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:a=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:a=`>= ${e}${s} and <= ${r}${s}`,new Ht.ERR_OUT_OF_RANGE("value",a,t)}lh(n,i,o)}function zt(t,e){if(typeof t!="number")throw new Ht.ERR_INVALID_ARG_TYPE(e,"number",t)}function vr(t,e,r){throw Math.floor(t)!==t?(zt(t,r),new Ht.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new Ht.ERR_BUFFER_OUT_OF_BOUNDS:new Ht.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var dh=/[^+/0-9A-Za-z-_]/g;function hh(t){if(t=t.split("=")[0],t=t.trim().replace(dh,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function Di(t,e){e=e||1/0;let r,n=t.length,i=null,o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function ph(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function yh(t,e){let r,n,i,o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function Va(t){return Ci.toByteArray(hh(t))}function hn(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function be(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Ki(t){return t!==t}var wh=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Xe(t){return typeof BigInt>"u"?bh:t}function bh(){throw new Error("BigInt not supported")}});var u=x(()=>{"use strict";var Wa=Y().Buffer,{Buffer:mh}=Y();Wa.prototype.writeBigUInt64BE=mh.prototype.writeBigUInt64BE;globalThis.Buffer=Wa});var $i=x((Q0,Ha)=>{var ex=c(u()),gh=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,pn=()=>gh.now(),xh=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),Fi=t=>t===1/0||xh(t),qi=class t{constructor({max:e=1/0,ttl:r,updateAgeOnGet:n=!1,checkAgeOnGet:i=!1,noUpdateTTL:o=!1,dispose:s,noDisposeOnSet:a=!1}={}){if(this.expirations=Object.create(null),this.data=new Map,this.expirationMap=new Map,r!==void 0&&!Fi(r))throw new TypeError("ttl must be positive integer or Infinity if set");if(!Fi(e))throw new TypeError("max must be positive integer or Infinity");if(this.ttl=r,this.max=e,this.updateAgeOnGet=!!n,this.checkAgeOnGet=!!i,this.noUpdateTTL=!!o,this.noDisposeOnSet=!!a,s!==void 0){if(typeof s!="function")throw new TypeError("dispose must be function if set");this.dispose=s}this.timer=void 0,this.timerExpiration=void 0}setTimer(e,r){if(this.timerExpiration<e)return;this.timer&&clearTimeout(this.timer);let n=setTimeout(()=>{this.timer=void 0,this.timerExpiration=void 0,this.purgeStale();for(let i in this.expirations){this.setTimer(i,i-pn());break}},r);n.unref&&n.unref(),this.timerExpiration=e,this.timer=n}cancelTimer(){this.timer&&(clearTimeout(this.timer),this.timerExpiration=void 0,this.timer=void 0)}cancelTimers(){return process.emitWarning('TTLCache.cancelTimers has been renamed to TTLCache.cancelTimer (no "s"), and will be removed in the next major version update'),this.cancelTimer()}clear(){let e=this.dispose!==t.prototype.dispose?[...this]:[];this.data.clear(),this.expirationMap.clear(),this.cancelTimer(),this.expirations=Object.create(null);for(let[r,n]of e)this.dispose(n,r,"delete")}setTTL(e,r=this.ttl){let n=this.expirationMap.get(e);if(n!==void 0){let i=this.expirations[n];!i||i.length<=1?delete this.expirations[n]:this.expirations[n]=i.filter(o=>o!==e)}if(r!==1/0){let i=Math.floor(pn()+r);this.expirationMap.set(e,i),this.expirations[i]||(this.expirations[i]=[],this.setTimer(i,r)),this.expirations[i].push(e)}else this.expirationMap.set(e,1/0)}set(e,r,{ttl:n=this.ttl,noUpdateTTL:i=this.noUpdateTTL,noDisposeOnSet:o=this.noDisposeOnSet}={}){if(!Fi(n))throw new TypeError("ttl must be positive integer or Infinity");if(this.expirationMap.has(e)){i||this.setTTL(e,n);let s=this.data.get(e);s!==r&&(this.data.set(e,r),o||this.dispose(s,e,"set"))}else this.setTTL(e,n),this.data.set(e,r);for(;this.size>this.max;)this.purgeToCapacity();return this}has(e){return this.data.has(e)}getRemainingTTL(e){let r=this.expirationMap.get(e);return r===1/0?r:r!==void 0?Math.max(0,Math.ceil(r-pn())):0}get(e,{updateAgeOnGet:r=this.updateAgeOnGet,ttl:n=this.ttl,checkAgeOnGet:i=this.checkAgeOnGet}={}){let o=this.data.get(e);if(i&&this.getRemainingTTL(e)===0){this.delete(e);return}return r&&this.setTTL(e,n),o}dispose(e,r){}delete(e){let r=this.expirationMap.get(e);if(r!==void 0){let n=this.data.get(e);this.data.delete(e),this.expirationMap.delete(e);let i=this.expirations[r];return i&&(i.length<=1?delete this.expirations[r]:this.expirations[r]=i.filter(o=>o!==e)),this.dispose(n,e,"delete"),this.size===0&&this.cancelTimer(),!0}return!1}purgeToCapacity(){for(let e in this.expirations){let r=this.expirations[e];if(this.size-r.length>=this.max){delete this.expirations[e];let n=[];for(let i of r)n.push([i,this.data.get(i)]),this.data.delete(i),this.expirationMap.delete(i);for(let[i,o]of n)this.dispose(o,i,"evict")}else{let n=this.size-this.max,i=[];for(let o of r.splice(0,n))i.push([o,this.data.get(o)]),this.data.delete(o),this.expirationMap.delete(o);for(let[o,s]of i)this.dispose(s,o,"evict");return}}}get size(){return this.data.size}purgeStale(){let e=Math.ceil(pn());for(let r in this.expirations){if(r==="Infinity"||r>e)return;let n=[...this.expirations[r]||[]],i=[];delete this.expirations[r];for(let o of n)i.push([o,this.data.get(o)]),this.data.delete(o),this.expirationMap.delete(o);for(let[o,s]of i)this.dispose(s,o,"stale")}this.size===0&&this.cancelTimer()}*entries(){for(let e in this.expirations)for(let r of this.expirations[e])yield[r,this.data.get(r)]}*keys(){for(let e in this.expirations)for(let r of this.expirations[e])yield r}*values(){for(let e in this.expirations)for(let r of this.expirations[e])yield this.data.get(r)}[Symbol.iterator](){return this.entries()}};Ha.exports=qi});var uc=x(cc=>{"use strict";var hE=c(u());cc.supports=function(...e){let r=e.reduce((n,i)=>Object.assign(n,i),{});return Object.assign(r,{snapshots:r.snapshots||!1,permanence:r.permanence||!1,seek:r.seek||!1,clear:r.clear||!1,getMany:r.getMany||!1,keyIterator:r.keyIterator||!1,valueIterator:r.valueIterator||!1,iteratorNextv:r.iteratorNextv||!1,iteratorAll:r.iteratorAll||!1,status:r.status||!1,createIfMissing:r.createIfMissing||!1,errorIfExists:r.errorIfExists||!1,deferredOpen:r.deferredOpen||!1,promises:r.promises||!1,streams:r.streams||!1,encodings:Object.assign({},r.encodings),events:Object.assign({},r.events),additionalMethods:Object.assign({},r.additionalMethods)})}});var fe=x((yE,fc)=>{"use strict";var wE=c(u());fc.exports=class extends Error{constructor(e,r){super(e||""),typeof r=="object"&&r!==null&&(r.code&&(this.code=String(r.code)),r.expected&&(this.expected=!0),r.transient&&(this.transient=!0),r.cause&&(this.cause=r.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}});var ro=x((bE,lc)=>{"use strict";var mE=c(u()),to=null;lc.exports=function(){return to===null&&(to={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),to}});var oo=x(dc=>{"use strict";var xE=c(u()),no=fe(),Zh=new Set(["buffer","view","utf8"]),io=class{constructor(e){if(this.encode=e.encode||this.encode,this.decode=e.decode||this.decode,this.name=e.name||this.name,this.format=e.format||this.format,typeof this.encode!="function")throw new TypeError("The 'encode' property must be a function");if(typeof this.decode!="function")throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),typeof this.name!="string"||this.name==="")throw new TypeError("The 'name' property must be a string");if(typeof this.format!="string"||!Zh.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");e.createViewTranscoder&&(this.createViewTranscoder=e.createViewTranscoder),e.createBufferTranscoder&&(this.createBufferTranscoder=e.createBufferTranscoder),e.createUTF8Transcoder&&(this.createUTF8Transcoder=e.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new no(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new no(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new no(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}};dc.Encoding=io});var uo=x(wn=>{"use strict";var vE=c(u()),{Buffer:ao}=Y()||{},{Encoding:co}=oo(),Qh=ro(),Br=class extends co{constructor(e){super({...e,format:"buffer"})}createViewTranscoder(){return new Ir({encode:this.encode,decode:e=>this.decode(ao.from(e.buffer,e.byteOffset,e.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}},Ir=class extends co{constructor(e){super({...e,format:"view"})}createBufferTranscoder(){return new Br({encode:e=>{let r=this.encode(e);return ao.from(r.buffer,r.byteOffset,r.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}},so=class extends co{constructor(e){super({...e,format:"utf8"})}createBufferTranscoder(){return new Br({encode:e=>ao.from(this.encode(e),"utf8"),decode:e=>this.decode(e.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){let{textEncoder:e,textDecoder:r}=Qh();return new Ir({encode:n=>e.encode(this.encode(n)),decode:n=>this.decode(r.decode(n)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}};wn.BufferFormat=Br;wn.ViewFormat=Ir;wn.UTF8Format=so});var wc=x(bt=>{"use strict";var SE=c(u()),{Buffer:j}=Y()||{Buffer:{isBuffer:()=>!1}},{textEncoder:pc,textDecoder:hc}=ro()(),{BufferFormat:Rr,ViewFormat:fo,UTF8Format:yc}=uo(),bn=t=>t;bt.utf8=new yc({encode:function(t){return j.isBuffer(t)?t.toString("utf8"):ArrayBuffer.isView(t)?hc.decode(t):String(t)},decode:bn,name:"utf8",createViewTranscoder(){return new fo({encode:function(t){return ArrayBuffer.isView(t)?t:pc.encode(t)},decode:function(t){return hc.decode(t)},name:`${this.name}+view`})},createBufferTranscoder(){return new Rr({encode:function(t){return j.isBuffer(t)?t:ArrayBuffer.isView(t)?j.from(t.buffer,t.byteOffset,t.byteLength):j.from(String(t),"utf8")},decode:function(t){return t.toString("utf8")},name:`${this.name}+buffer`})}});bt.json=new yc({encode:JSON.stringify,decode:JSON.parse,name:"json"});bt.buffer=new Rr({encode:function(t){return j.isBuffer(t)?t:ArrayBuffer.isView(t)?j.from(t.buffer,t.byteOffset,t.byteLength):j.from(String(t),"utf8")},decode:bn,name:"buffer",createViewTranscoder(){return new fo({encode:function(t){return ArrayBuffer.isView(t)?t:j.from(String(t),"utf8")},decode:function(t){return j.from(t.buffer,t.byteOffset,t.byteLength)},name:`${this.name}+view`})}});bt.view=new fo({encode:function(t){return ArrayBuffer.isView(t)?t:pc.encode(t)},decode:bn,name:"view",createBufferTranscoder(){return new Rr({encode:function(t){return j.isBuffer(t)?t:ArrayBuffer.isView(t)?j.from(t.buffer,t.byteOffset,t.byteLength):j.from(String(t),"utf8")},decode:bn,name:`${this.name}+buffer`})}});bt.hex=new Rr({encode:function(t){return j.isBuffer(t)?t:j.from(String(t),"hex")},decode:function(t){return t.toString("hex")},name:"hex"});bt.base64=new Rr({encode:function(t){return j.isBuffer(t)?t:j.from(String(t),"base64")},decode:function(t){return t.toString("base64")},name:"base64"})});var gc=x(mc=>{"use strict";var TE=c(u()),bc=fe(),gn=wc(),{Encoding:ep}=oo(),{BufferFormat:tp,ViewFormat:rp,UTF8Format:np}=uo(),Or=Symbol("formats"),mn=Symbol("encodings"),ip=new Set(["buffer","view","utf8"]),lo=class{constructor(e){if(Array.isArray(e)){if(!e.every(r=>ip.has(r)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}else throw new TypeError("The first argument 'formats' must be an array");this[mn]=new Map,this[Or]=new Set(e);for(let r in gn)try{this.encoding(r)}catch(n){if(n.code!=="LEVEL_ENCODING_NOT_SUPPORTED")throw n}}encodings(){return Array.from(new Set(this[mn].values()))}encoding(e){let r=this[mn].get(e);if(r===void 0){if(typeof e=="string"&&e!==""){if(r=cp[e],!r)throw new bc(`Encoding '${e}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if(typeof e!="object"||e===null)throw new TypeError("First argument 'encoding' must be a string or object");r=op(e)}let{name:n,format:i}=r;if(!this[Or].has(i))if(this[Or].has("view"))r=r.createViewTranscoder();else if(this[Or].has("buffer"))r=r.createBufferTranscoder();else if(this[Or].has("utf8"))r=r.createUTF8Transcoder();else throw new bc(`Encoding '${n}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});for(let o of[e,n,r.name,r.commonName])this[mn].set(o,r)}return r}};mc.Transcoder=lo;function op(t){if(t instanceof ep)return t;let e="type"in t&&typeof t.type=="string"?t.type:void 0,r=t.name||e||`anonymous-${up++}`;switch(sp(t)){case"view":return new rp({...t,name:r});case"utf8":return new np({...t,name:r});case"buffer":return new tp({...t,name:r});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}function sp(t){return"format"in t&&t.format!==void 0?t.format:"buffer"in t&&typeof t.buffer=="boolean"?t.buffer?"buffer":"utf8":"code"in t&&Number.isInteger(t.code)?"view":"buffer"}var ap={binary:gn.buffer,"utf-8":gn.utf8},cp={...gn,...ap},up=0});var kr=x((BE,ho)=>{"use strict";var IE=c(u()),Qt=typeof Reflect=="object"?Reflect:null,xc=Qt&&typeof Qt.apply=="function"?Qt.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},xn;Qt&&typeof Qt.ownKeys=="function"?xn=Qt.ownKeys:Object.getOwnPropertySymbols?xn=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:xn=function(e){return Object.getOwnPropertyNames(e)};function fp(t){console&&console.warn&&console.warn(t)}var vc=Number.isNaN||function(e){return e!==e};function U(){U.init.call(this)}ho.exports=U;ho.exports.once=pp;U.EventEmitter=U;U.prototype._events=void 0;U.prototype._eventsCount=0;U.prototype._maxListeners=void 0;var Ec=10;function En(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(U,"defaultMaxListeners",{enumerable:!0,get:function(){return Ec},set:function(t){if(typeof t!="number"||t<0||vc(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Ec=t}});U.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};U.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||vc(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function _c(t){return t._maxListeners===void 0?U.defaultMaxListeners:t._maxListeners}U.prototype.getMaxListeners=function(){return _c(this)};U.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var f=o[e];if(f===void 0)return!1;if(typeof f=="function")xc(f,this,r);else for(var l=f.length,d=Ic(f,l),n=0;n<l;++n)xc(d[n],this,r);return!0};function Sc(t,e,r,n){var i,o,s;if(En(r),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),s===void 0)s=o[e]=r,++t._eventsCount;else if(typeof s=="function"?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=_c(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,fp(a)}return t}U.prototype.addListener=function(e,r){return Sc(this,e,r,!1)};U.prototype.on=U.prototype.addListener;U.prototype.prependListener=function(e,r){return Sc(this,e,r,!0)};function lp(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ac(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=lp.bind(n);return i.listener=r,n.wrapFn=i,i}U.prototype.once=function(e,r){return En(r),this.on(e,Ac(this,e,r)),this};U.prototype.prependOnceListener=function(e,r){return En(r),this.prependListener(e,Ac(this,e,r)),this};U.prototype.removeListener=function(e,r){var n,i,o,s,a;if(En(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(o=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){a=n[s].listener,o=s;break}if(o<0)return this;o===0?n.shift():dp(n,o),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};U.prototype.off=U.prototype.removeListener;U.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var o=Object.keys(n),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function Tc(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?hp(i):Ic(i,i.length)}U.prototype.listeners=function(e){return Tc(this,e,!0)};U.prototype.rawListeners=function(e){return Tc(this,e,!1)};U.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Bc.call(t,e)};U.prototype.listenerCount=Bc;function Bc(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}U.prototype.eventNames=function(){return this._eventsCount>0?xn(this._events):[]};function Ic(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function dp(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function hp(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function pp(t,e){return new Promise(function(r,n){function i(s){t.removeListener(e,o),n(s)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}Rc(t,e,o,{once:!0}),e!=="error"&&yp(t,i,{once:!0})})}function yp(t,e,r){typeof t.on=="function"&&Rc(t,"error",e,r)}function Rc(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){n.once&&t.removeEventListener(e,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var kc=x((RE,Oc)=>{var OE=c(u());Oc.exports=typeof queueMicrotask=="function"?queueMicrotask:t=>Promise.resolve().then(t)});var Cr=x(po=>{"use strict";var CE=c(u()),Cc=kc();po.fromCallback=function(t,e){if(t===void 0){var r=new Promise(function(n,i){t=function(o,s){o?i(o):n(s)}});t[e!==void 0?e:"promise"]=r}else if(typeof t!="function")throw new TypeError("Callback must be a function");return t};po.fromPromise=function(t,e){if(e===void 0)return t;t.then(function(r){Cc(()=>e(null,r))}).catch(function(r){Cc(()=>e(r))})}});var vn=x(yo=>{"use strict";var LE=c(u());yo.getCallback=function(t,e){return typeof t=="function"?t:e};yo.getOptions=function(t,e){return typeof t=="object"&&t!==null?t:e!==void 0?e:{}}});var nt=x(Tn=>{"use strict";var NE=c(u()),{fromCallback:wo}=Cr(),te=fe(),{getOptions:bo,getCallback:Uc}=vn(),mt=Symbol("promise"),er=Symbol("callback"),ge=Symbol("working"),gt=Symbol("handleOne"),Ne=Symbol("handleMany"),mo=Symbol("autoClose"),tt=Symbol("finishWork"),xe=Symbol("returnMany"),Ze=Symbol("closing"),Ur=Symbol("handleClose"),_n=Symbol("closed"),Lr=Symbol("closeCallbacks"),et=Symbol("keyEncoding"),xt=Symbol("valueEncoding"),go=Symbol("abortOnClose"),Sn=Symbol("legacy"),xo=Symbol("keys"),Eo=Symbol("values"),Qe=Symbol("limit"),oe=Symbol("count"),An=Object.freeze({}),wp=()=>{},Lc=!1,Dr=class{constructor(e,r,n){if(typeof e!="object"||e===null){let i=e===null?"null":typeof e;throw new TypeError(`The first argument must be an abstract-level database, received ${i}`)}if(typeof r!="object"||r===null)throw new TypeError("The second argument must be an options object");this[_n]=!1,this[Lr]=[],this[ge]=!1,this[Ze]=!1,this[mo]=!1,this[er]=null,this[gt]=this[gt].bind(this),this[Ne]=this[Ne].bind(this),this[Ur]=this[Ur].bind(this),this[et]=r[et],this[xt]=r[xt],this[Sn]=n,this[Qe]=Number.isInteger(r.limit)&&r.limit>=0?r.limit:1/0,this[oe]=0,this[go]=!!r.abortOnClose,this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get count(){return this[oe]}get limit(){return this[Qe]}next(e){let r;if(e===void 0)r=new Promise((n,i)=>{e=(o,s,a)=>{o?i(o):this[Sn]?s===void 0&&a===void 0?n():n([s,a]):n(s)}});else if(typeof e!="function")throw new TypeError("Callback must be a function");return this[Ze]?this.nextTick(e,new te("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[ge]?this.nextTick(e,new te("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[ge]=!0,this[er]=e,this[oe]>=this[Qe]?this.nextTick(this[gt],null):this._next(this[gt])),r}_next(e){this.nextTick(e)}nextv(e,r,n){return n=Uc(r,n),n=wo(n,mt),r=bo(r,An),Number.isInteger(e)?(this[Ze]?this.nextTick(n,new te("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[ge]?this.nextTick(n,new te("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(e<1&&(e=1),this[Qe]<1/0&&(e=Math.min(e,this[Qe]-this[oe])),this[ge]=!0,this[er]=n,e<=0?this.nextTick(this[Ne],null,[]):this._nextv(e,r,this[Ne])),n[mt]):(this.nextTick(n,new TypeError("The first argument 'size' must be an integer")),n[mt])}_nextv(e,r,n){let i=[],o=(s,a,f)=>{if(s)return n(s);if(this[Sn]?a===void 0&&f===void 0:a===void 0)return n(null,i);i.push(this[Sn]?[a,f]:a),i.length===e?n(null,i):this._next(o)};this._next(o)}all(e,r){return r=Uc(e,r),r=wo(r,mt),e=bo(e,An),this[Ze]?this.nextTick(r,new te("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[ge]?this.nextTick(r,new te("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[ge]=!0,this[er]=r,this[mo]=!0,this[oe]>=this[Qe]?this.nextTick(this[Ne],null,[]):this._all(e,this[Ne])),r[mt]}_all(e,r){let n=this[oe],i=[],o=()=>{let a=this[Qe]<1/0?Math.min(1e3,this[Qe]-n):1e3;a<=0?this.nextTick(r,null,i):this._nextv(a,An,s)},s=(a,f)=>{a?r(a):f.length===0?r(null,i):(i.push.apply(i,f),n+=f.length,o())};o()}[tt](){let e=this[er];return this[go]&&e===null?wp:(this[ge]=!1,this[er]=null,this[Ze]&&this._close(this[Ur]),e)}[xe](e,r,n){this[mo]?this.close(e.bind(null,r,n)):e(r,n)}seek(e,r){if(r=bo(r,An),!this[Ze]){if(this[ge])throw new te("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{let n=this.db.keyEncoding(r.keyEncoding||this[et]),i=n.format;r.keyEncoding!==i&&(r={...r,keyEncoding:i});let o=this.db.prefixKey(n.encode(e),i);this._seek(o,r)}}}_seek(e,r){throw new te("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(e){return e=wo(e,mt),this[_n]?this.nextTick(e):this[Ze]?this[Lr].push(e):(this[Ze]=!0,this[Lr].push(e),this[ge]?this[go]&&this[tt]()(new te("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[Ur])),e[mt]}_close(e){this.nextTick(e)}[Ur](){this[_n]=!0,this.db.detachResource(this);let e=this[Lr];this[Lr]=[];for(let r of e)r()}async*[Symbol.asyncIterator](){try{let e;for(;(e=await this.next())!==void 0;)yield e}finally{this[_n]||await this.close()}}},tr=class extends Dr{constructor(e,r){super(e,r,!0),this[xo]=r.keys!==!1,this[Eo]=r.values!==!1}[gt](e,r,n){let i=this[tt]();if(e)return i(e);try{r=this[xo]&&r!==void 0?this[et].decode(r):void 0,n=this[Eo]&&n!==void 0?this[xt].decode(n):void 0}catch(o){return i(new rt("entry",o))}r===void 0&&n===void 0||this[oe]++,i(null,r,n)}[Ne](e,r){let n=this[tt]();if(e)return this[xe](n,e);try{for(let i of r){let o=i[0],s=i[1];i[0]=this[xo]&&o!==void 0?this[et].decode(o):void 0,i[1]=this[Eo]&&s!==void 0?this[xt].decode(s):void 0}}catch(i){return this[xe](n,new rt("entries",i))}this[oe]+=r.length,this[xe](n,null,r)}end(e){return!Lc&&typeof console<"u"&&(Lc=!0,console.warn(new te("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(e)}},vo=class extends Dr{constructor(e,r){super(e,r,!1)}[gt](e,r){let n=this[tt]();if(e)return n(e);try{r=r!==void 0?this[et].decode(r):void 0}catch(i){return n(new rt("key",i))}r!==void 0&&this[oe]++,n(null,r)}[Ne](e,r){let n=this[tt]();if(e)return this[xe](n,e);try{for(let i=0;i<r.length;i++){let o=r[i];r[i]=o!==void 0?this[et].decode(o):void 0}}catch(i){return this[xe](n,new rt("keys",i))}this[oe]+=r.length,this[xe](n,null,r)}},_o=class extends Dr{constructor(e,r){super(e,r,!1)}[gt](e,r){let n=this[tt]();if(e)return n(e);try{r=r!==void 0?this[xt].decode(r):void 0}catch(i){return n(new rt("value",i))}r!==void 0&&this[oe]++,n(null,r)}[Ne](e,r){let n=this[tt]();if(e)return this[xe](n,e);try{for(let i=0;i<r.length;i++){let o=r[i];r[i]=o!==void 0?this[xt].decode(o):void 0}}catch(i){return this[xe](n,new rt("values",i))}this[oe]+=r.length,this[xe](n,null,r)}},rt=class extends te{constructor(e,r){super(`Iterator could not decode ${e}`,{code:"LEVEL_DECODE_ERROR",cause:r})}};for(let t of["_ended property","_nexting property","_end method"])Object.defineProperty(tr.prototype,t.split(" ")[0],{get(){throw new te(`The ${t} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new te(`The ${t} has been removed`,{code:"LEVEL_LEGACY"})}});tr.keyEncoding=et;tr.valueEncoding=xt;Tn.AbstractIterator=tr;Tn.AbstractKeyIterator=vo;Tn.AbstractValueIterator=_o});var Dc=x(So=>{"use strict";var PE=c(u()),{AbstractKeyIterator:bp,AbstractValueIterator:mp}=nt(),Et=Symbol("iterator"),Nr=Symbol("callback"),rr=Symbol("handleOne"),vt=Symbol("handleMany"),Mr=class extends bp{constructor(e,r){super(e,r),this[Et]=e.iterator({...r,keys:!0,values:!1}),this[rr]=this[rr].bind(this),this[vt]=this[vt].bind(this)}},Bn=class extends mp{constructor(e,r){super(e,r),this[Et]=e.iterator({...r,keys:!1,values:!0}),this[rr]=this[rr].bind(this),this[vt]=this[vt].bind(this)}};for(let t of[Mr,Bn]){let e=t===Mr,r=e?n=>n[0]:n=>n[1];t.prototype._next=function(n){this[Nr]=n,this[Et].next(this[rr])},t.prototype[rr]=function(n,i,o){let s=this[Nr];n?s(n):s(null,e?i:o)},t.prototype._nextv=function(n,i,o){this[Nr]=o,this[Et].nextv(n,i,this[vt])},t.prototype._all=function(n,i){this[Nr]=i,this[Et].all(n,this[vt])},t.prototype[vt]=function(n,i){let o=this[Nr];n?o(n):o(null,i.map(r))},t.prototype._seek=function(n,i){this[Et].seek(n,i)},t.prototype._close=function(n){this[Et].close(n)}}So.DefaultKeyIterator=Mr;So.DefaultValueIterator=Bn});var Nc=x(Un=>{"use strict";var FE=c(u()),{AbstractIterator:gp,AbstractKeyIterator:xp,AbstractValueIterator:Ep}=nt(),Ao=fe(),Z=Symbol("nut"),kn=Symbol("undefer"),Cn=Symbol("factory"),In=class extends gp{constructor(e,r){super(e,r),this[Z]=null,this[Cn]=()=>e.iterator(r),this.db.defer(()=>this[kn]())}},Rn=class extends xp{constructor(e,r){super(e,r),this[Z]=null,this[Cn]=()=>e.keys(r),this.db.defer(()=>this[kn]())}},On=class extends Ep{constructor(e,r){super(e,r),this[Z]=null,this[Cn]=()=>e.values(r),this.db.defer(()=>this[kn]())}};for(let t of[In,Rn,On])t.prototype[kn]=function(){this.db.status==="open"&&(this[Z]=this[Cn]())},t.prototype._next=function(e){this[Z]!==null?this[Z].next(e):this.db.status==="opening"?this.db.defer(()=>this._next(e)):this.nextTick(e,new Ao("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._nextv=function(e,r,n){this[Z]!==null?this[Z].nextv(e,r,n):this.db.status==="opening"?this.db.defer(()=>this._nextv(e,r,n)):this.nextTick(n,new Ao("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._all=function(e,r){this[Z]!==null?this[Z].all(r):this.db.status==="opening"?this.db.defer(()=>this._all(e,r)):this.nextTick(r,new Ao("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._seek=function(e,r){this[Z]!==null?this[Z]._seek(e,r):this.db.status==="opening"&&this.db.defer(()=>this._seek(e,r))},t.prototype._close=function(e){this[Z]!==null?this[Z].close(e):this.db.status==="opening"?this.db.defer(()=>this._close(e)):this.nextTick(e)};Un.DeferredIterator=In;Un.DeferredKeyIterator=Rn;Un.DeferredValueIterator=On});var Bo=x(Pc=>{"use strict";var $E=c(u()),{fromCallback:Mc}=Cr(),Ln=fe(),{getCallback:vp,getOptions:_p}=vn(),Dn=Symbol("promise"),se=Symbol("status"),nr=Symbol("operations"),Pr=Symbol("finishClose"),ir=Symbol("closeCallbacks"),To=class{constructor(e){if(typeof e!="object"||e===null){let r=e===null?"null":typeof e;throw new TypeError(`The first argument must be an abstract-level database, received ${r}`)}this[nr]=[],this[ir]=[],this[se]="open",this[Pr]=this[Pr].bind(this),this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get length(){return this[nr].length}put(e,r,n){if(this[se]!=="open")throw new Ln("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let i=this.db._checkKey(e)||this.db._checkValue(r);if(i)throw i;let o=n&&n.sublevel!=null?n.sublevel:this.db,s=n,a=o.keyEncoding(n&&n.keyEncoding),f=o.valueEncoding(n&&n.valueEncoding),l=a.format;n={...n,keyEncoding:l,valueEncoding:f.format},o!==this.db&&(n.sublevel=null);let d=o.prefixKey(a.encode(e),l),h=f.encode(r);return this._put(d,h,n),this[nr].push({...s,type:"put",key:e,value:r}),this}_put(e,r,n){}del(e,r){if(this[se]!=="open")throw new Ln("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let n=this.db._checkKey(e);if(n)throw n;let i=r&&r.sublevel!=null?r.sublevel:this.db,o=r,s=i.keyEncoding(r&&r.keyEncoding),a=s.format;return r={...r,keyEncoding:a},i!==this.db&&(r.sublevel=null),this._del(i.prefixKey(s.encode(e),a),r),this[nr].push({...o,type:"del",key:e}),this}_del(e,r){}clear(){if(this[se]!=="open")throw new Ln("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[nr]=[],this}_clear(){}write(e,r){return r=vp(e,r),r=Mc(r,Dn),e=_p(e),this[se]!=="open"?this.nextTick(r,new Ln("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):this.length===0?this.close(r):(this[se]="writing",this._write(e,n=>{this[se]="closing",this[ir].push(()=>r(n)),n||this.db.emit("batch",this[nr]),this._close(this[Pr])})),r[Dn]}_write(e,r){}close(e){return e=Mc(e,Dn),this[se]==="closing"?this[ir].push(e):this[se]==="closed"?this.nextTick(e):(this[ir].push(e),this[se]!=="writing"&&(this[se]="closing",this._close(this[Pr]))),e[Dn]}_close(e){this.nextTick(e)}[Pr](){this[se]="closed",this.db.detachResource(this);let e=this[ir];this[ir]=[];for(let r of e)r()}};Pc.AbstractChainedBatch=To});var Fc=x(Kc=>{"use strict";var VE=c(u()),{AbstractChainedBatch:Sp}=Bo(),Ap=fe(),or=Symbol("encoded"),Io=class extends Sp{constructor(e){super(e),this[or]=[]}_put(e,r,n){this[or].push({...n,type:"put",key:e,value:r})}_del(e,r){this[or].push({...r,type:"del",key:e})}_clear(){this[or]=[]}_write(e,r){this.db.status==="opening"?this.db.defer(()=>this._write(e,r)):this.db.status==="open"?this[or].length===0?this.nextTick(r):this.db._batch(this[or],e,r):this.nextTick(r,new Ap("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}};Kc.DefaultChainedBatch=Io});var jc=x((WE,$c)=>{"use strict";var HE=c(u()),qc=fe(),Tp=Object.prototype.hasOwnProperty,Bp=new Set(["lt","lte","gt","gte"]);$c.exports=function(t,e){let r={};for(let n in t)if(Tp.call(t,n)&&!(n==="keyEncoding"||n==="valueEncoding")){if(n==="start"||n==="end")throw new qc(`The legacy range option '${n}' has been removed`,{code:"LEVEL_LEGACY"});if(n==="encoding")throw new qc("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});Bp.has(n)?r[n]=e.encode(t[n]):r[n]=t[n]}return r.reverse=!!r.reverse,r.limit=Number.isInteger(r.limit)&&r.limit>=0?r.limit:-1,r}});var Ro=x((GE,Wc)=>{var zE=c(u());var Vc;Wc.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:globalThis):t=>(Vc||(Vc=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0))});var zc=x((JE,Gc)=>{"use strict";var YE=c(u()),Hc=Ro();Gc.exports=function(t,...e){e.length===0?Hc(t):Hc(()=>t(...e))}});var Jc=x(Nn=>{"use strict";var ZE=c(u()),{AbstractIterator:Ip,AbstractKeyIterator:Rp,AbstractValueIterator:Op}=nt(),sr=Symbol("unfix"),le=Symbol("iterator"),_t=Symbol("handleOne"),it=Symbol("handleMany"),Me=Symbol("callback"),Kr=class extends Ip{constructor(e,r,n,i){super(e,r),this[le]=n,this[sr]=i,this[_t]=this[_t].bind(this),this[it]=this[it].bind(this),this[Me]=null}[_t](e,r,n){let i=this[Me];if(e)return i(e);r!==void 0&&(r=this[sr](r)),i(e,r,n)}[it](e,r){let n=this[Me];if(e)return n(e);for(let i of r){let o=i[0];o!==void 0&&(i[0]=this[sr](o))}n(e,r)}},Fr=class extends Rp{constructor(e,r,n,i){super(e,r),this[le]=n,this[sr]=i,this[_t]=this[_t].bind(this),this[it]=this[it].bind(this),this[Me]=null}[_t](e,r){let n=this[Me];if(e)return n(e);r!==void 0&&(r=this[sr](r)),n(e,r)}[it](e,r){let n=this[Me];if(e)return n(e);for(let i=0;i<r.length;i++){let o=r[i];o!==void 0&&(r[i]=this[sr](o))}n(e,r)}},qr=class extends Op{constructor(e,r,n){super(e,r),this[le]=n}};for(let t of[Kr,Fr])t.prototype._next=function(e){this[Me]=e,this[le].next(this[_t])},t.prototype._nextv=function(e,r,n){this[Me]=n,this[le].nextv(e,r,this[it])},t.prototype._all=function(e,r){this[Me]=r,this[le].all(e,this[it])};for(let t of[qr])t.prototype._next=function(e){this[le].next(e)},t.prototype._nextv=function(e,r,n){this[le].nextv(e,r,n)},t.prototype._all=function(e,r){this[le].all(e,r)};for(let t of[Kr,Fr,qr])t.prototype._seek=function(e,r){this[le].seek(e,r)},t.prototype._close=function(e){this[le].close(e)};Nn.AbstractSublevelIterator=Kr;Nn.AbstractSublevelKeyIterator=Fr;Nn.AbstractSublevelValueIterator=qr});var Qc=x((QE,Zc)=>{"use strict";var ev=c(u()),Oo=fe(),{Buffer:Uo}=Y()||{},{AbstractSublevelIterator:kp,AbstractSublevelKeyIterator:Cp,AbstractSublevelValueIterator:Up}=Jc(),Pe=Symbol("prefix"),Yc=Symbol("upperBound"),$r=Symbol("prefixRange"),re=Symbol("parent"),ko=Symbol("unfix"),Xc=new TextEncoder,Lp={separator:"!"};Zc.exports=function({AbstractLevel:t}){class e extends t{static defaults(n){if(typeof n=="string")throw new Oo("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(n&&n.open)throw new Oo("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return n==null?Lp:n.separator?n:{...n,separator:"!"}}constructor(n,i,o){let{separator:s,manifest:a,...f}=e.defaults(o);i=Np(i,s);let l=s.charCodeAt(0)+1,d=n[re]||n;if(!Xc.encode(i).every(w=>w>l&&w<127))throw new Oo(`Prefix must use bytes > ${l} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(Dp(d,a),f);let h=(n.prefix||"")+s+i+s,b=h.slice(0,-1)+String.fromCharCode(l);this[re]=d,this[Pe]=new Mn(h),this[Yc]=new Mn(b),this[ko]=new Lo,this.nextTick=d.nextTick}prefixKey(n,i){if(i==="utf8")return this[Pe].utf8+n;if(n.byteLength===0)return this[Pe][i];if(i==="view"){let o=this[Pe].view,s=new Uint8Array(o.byteLength+n.byteLength);return s.set(o,0),s.set(n,o.byteLength),s}else{let o=this[Pe].buffer;return Uo.concat([o,n],o.byteLength+n.byteLength)}}[$r](n,i){n.gte!==void 0?n.gte=this.prefixKey(n.gte,i):n.gt!==void 0?n.gt=this.prefixKey(n.gt,i):n.gte=this[Pe][i],n.lte!==void 0?n.lte=this.prefixKey(n.lte,i):n.lt!==void 0?n.lt=this.prefixKey(n.lt,i):n.lte=this[Yc][i]}get prefix(){return this[Pe].utf8}get db(){return this[re]}_open(n,i){this[re].open({passive:!0},i)}_put(n,i,o,s){this[re].put(n,i,o,s)}_get(n,i,o){this[re].get(n,i,o)}_getMany(n,i,o){this[re].getMany(n,i,o)}_del(n,i,o){this[re].del(n,i,o)}_batch(n,i,o){this[re].batch(n,i,o)}_clear(n,i){this[$r](n,n.keyEncoding),this[re].clear(n,i)}_iterator(n){this[$r](n,n.keyEncoding);let i=this[re].iterator(n),o=this[ko].get(this[Pe].utf8.length,n.keyEncoding);return new kp(this,n,i,o)}_keys(n){this[$r](n,n.keyEncoding);let i=this[re].keys(n),o=this[ko].get(this[Pe].utf8.length,n.keyEncoding);return new Cp(this,n,i,o)}_values(n){this[$r](n,n.keyEncoding);let i=this[re].values(n);return new Up(this,n,i)}}return{AbstractSublevel:e}};var Dp=function(t,e){return{...t.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...e,encodings:{utf8:Co(t,"utf8"),buffer:Co(t,"buffer"),view:Co(t,"view")}}},Co=function(t,e){return t.supports.encodings[e]?t.keyEncoding(e).name===e:!1},Mn=class{constructor(e){this.utf8=e,this.view=Xc.encode(e),this.buffer=Uo?Uo.from(this.view.buffer,0,this.view.byteLength):{}}},Lo=class{constructor(){this.cache=new Map}get(e,r){let n=this.cache.get(r);return n===void 0&&(r==="view"?n=(function(i,o){return o.subarray(i)}).bind(null,e):n=(function(i,o){return o.slice(i)}).bind(null,e),this.cache.set(r,n)),n}},Np=function(t,e){let r=0,n=t.length;for(;r<n&&t[r]===e;)r++;for(;n>r&&t[n-1]===e;)n--;return t.slice(r,n)}});var Ko=x(Po=>{"use strict";var rv=c(u()),{supports:Mp}=uc(),{Transcoder:Pp}=gc(),{EventEmitter:Kp}=kr(),{fromCallback:ot}=Cr(),de=fe(),{AbstractIterator:St}=nt(),{DefaultKeyIterator:Fp,DefaultValueIterator:qp}=Dc(),{DeferredIterator:$p,DeferredKeyIterator:jp,DeferredValueIterator:Vp}=Nc(),{DefaultChainedBatch:eu}=Fc(),{getCallback:At,getOptions:st}=vn(),Pn=jc(),A=Symbol("promise"),Ke=Symbol("landed"),Tt=Symbol("resources"),Do=Symbol("closeResources"),jr=Symbol("operations"),Vr=Symbol("undefer"),Kn=Symbol("deferOpen"),tu=Symbol("options"),I=Symbol("status"),Bt=Symbol("defaultOptions"),ar=Symbol("transcoder"),Fn=Symbol("keyEncoding"),No=Symbol("valueEncoding"),Wp=()=>{},Wr=class extends Kp{constructor(e,r){if(super(),typeof e!="object"||e===null)throw new TypeError("The first argument 'manifest' must be an object");r=st(r);let{keyEncoding:n,valueEncoding:i,passive:o,...s}=r;this[Tt]=new Set,this[jr]=[],this[Kn]=!0,this[tu]=s,this[I]="opening",this.supports=Mp(e,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:e.snapshots!==!1,permanence:e.permanence!==!1,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:e.encodings||{},events:Object.assign({},e.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[ar]=new Pp(Hp(this)),this[Fn]=this[ar].encoding(n||"utf8"),this[No]=this[ar].encoding(i||"utf8");for(let a of this[ar].encodings())this.supports.encodings[a.commonName]||(this.supports.encodings[a.commonName]=!0);this[Bt]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[Fn].commonName,valueEncoding:this[No].commonName}),key:Object.freeze({keyEncoding:this[Fn].commonName})},this.nextTick(()=>{this[Kn]&&this.open({passive:!1},Wp)})}get status(){return this[I]}keyEncoding(e){return this[ar].encoding(e??this[Fn])}valueEncoding(e){return this[ar].encoding(e??this[No])}open(e,r){r=At(e,r),r=ot(r,A),e={...this[tu],...st(e)},e.createIfMissing=e.createIfMissing!==!1,e.errorIfExists=!!e.errorIfExists;let n=i=>{this[I]==="closing"||this[I]==="opening"?this.once(Ke,i?()=>n(i):n):this[I]!=="open"?r(new de("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:i})):r()};return e.passive?this[I]==="opening"?this.once(Ke,n):this.nextTick(n):this[I]==="closed"||this[Kn]?(this[Kn]=!1,this[I]="opening",this.emit("opening"),this._open(e,i=>{if(i){this[I]="closed",this[Do](()=>{this.emit(Ke),n(i)}),this[Vr]();return}this[I]="open",this[Vr](),this.emit(Ke),this[I]==="open"&&this.emit("open"),this[I]==="open"&&this.emit("ready"),n()})):this[I]==="open"?this.nextTick(n):this.once(Ke,()=>this.open(e,r)),r[A]}_open(e,r){this.nextTick(r)}close(e){e=ot(e,A);let r=n=>{this[I]==="opening"||this[I]==="closing"?this.once(Ke,n?r(n):r):this[I]!=="closed"?e(new de("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:n})):e()};if(this[I]==="open"){this[I]="closing",this.emit("closing");let n=i=>{this[I]="open",this[Vr](),this.emit(Ke),r(i)};this[Do](()=>{this._close(i=>{if(i)return n(i);this[I]="closed",this[Vr](),this.emit(Ke),this[I]==="closed"&&this.emit("closed"),r()})})}else this[I]==="closed"?this.nextTick(r):this.once(Ke,()=>this.close(e));return e[A]}[Do](e){if(this[Tt].size===0)return this.nextTick(e);let r=this[Tt].size,n=!0,i=()=>{--r===0&&(n?this.nextTick(e):e())};for(let o of this[Tt])o.close(i);n=!1,this[Tt].clear()}_close(e){this.nextTick(e)}get(e,r,n){if(n=At(r,n),n=ot(n,A),r=st(r,this[Bt].entry),this[I]==="opening")return this.defer(()=>this.get(e,r,n)),n[A];if(cr(this,n))return n[A];let i=this._checkKey(e);if(i)return this.nextTick(n,i),n[A];let o=this.keyEncoding(r.keyEncoding),s=this.valueEncoding(r.valueEncoding),a=o.format,f=s.format;return(r.keyEncoding!==a||r.valueEncoding!==f)&&(r=Object.assign({},r,{keyEncoding:a,valueEncoding:f})),this._get(this.prefixKey(o.encode(e),a),r,(l,d)=>{if(l)return(l.code==="LEVEL_NOT_FOUND"||l.notFound||/NotFound/i.test(l))&&(l.code||(l.code="LEVEL_NOT_FOUND"),l.notFound||(l.notFound=!0),l.status||(l.status=404)),n(l);try{d=s.decode(d)}catch(h){return n(new de("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:h}))}n(null,d)}),n[A]}_get(e,r,n){this.nextTick(n,new Error("NotFound"))}getMany(e,r,n){if(n=At(r,n),n=ot(n,A),r=st(r,this[Bt].entry),this[I]==="opening")return this.defer(()=>this.getMany(e,r,n)),n[A];if(cr(this,n))return n[A];if(!Array.isArray(e))return this.nextTick(n,new TypeError("The first argument 'keys' must be an array")),n[A];if(e.length===0)return this.nextTick(n,null,[]),n[A];let i=this.keyEncoding(r.keyEncoding),o=this.valueEncoding(r.valueEncoding),s=i.format,a=o.format;(r.keyEncoding!==s||r.valueEncoding!==a)&&(r=Object.assign({},r,{keyEncoding:s,valueEncoding:a}));let f=new Array(e.length);for(let l=0;l<e.length;l++){let d=e[l],h=this._checkKey(d);if(h)return this.nextTick(n,h),n[A];f[l]=this.prefixKey(i.encode(d),s)}return this._getMany(f,r,(l,d)=>{if(l)return n(l);try{for(let h=0;h<d.length;h++)d[h]!==void 0&&(d[h]=o.decode(d[h]))}catch(h){return n(new de(`Could not decode one or more of ${d.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:h}))}n(null,d)}),n[A]}_getMany(e,r,n){this.nextTick(n,null,new Array(e.length).fill(void 0))}put(e,r,n,i){if(i=At(n,i),i=ot(i,A),n=st(n,this[Bt].entry),this[I]==="opening")return this.defer(()=>this.put(e,r,n,i)),i[A];if(cr(this,i))return i[A];let o=this._checkKey(e)||this._checkValue(r);if(o)return this.nextTick(i,o),i[A];let s=this.keyEncoding(n.keyEncoding),a=this.valueEncoding(n.valueEncoding),f=s.format,l=a.format;(n.keyEncoding!==f||n.valueEncoding!==l)&&(n=Object.assign({},n,{keyEncoding:f,valueEncoding:l}));let d=this.prefixKey(s.encode(e),f),h=a.encode(r);return this._put(d,h,n,b=>{if(b)return i(b);this.emit("put",e,r),i()}),i[A]}_put(e,r,n,i){this.nextTick(i)}del(e,r,n){if(n=At(r,n),n=ot(n,A),r=st(r,this[Bt].key),this[I]==="opening")return this.defer(()=>this.del(e,r,n)),n[A];if(cr(this,n))return n[A];let i=this._checkKey(e);if(i)return this.nextTick(n,i),n[A];let o=this.keyEncoding(r.keyEncoding),s=o.format;return r.keyEncoding!==s&&(r=Object.assign({},r,{keyEncoding:s})),this._del(this.prefixKey(o.encode(e),s),r,a=>{if(a)return n(a);this.emit("del",e),n()}),n[A]}_del(e,r,n){this.nextTick(n)}batch(e,r,n){if(!arguments.length){if(this[I]==="opening")return new eu(this);if(this[I]!=="open")throw new de("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(typeof e=="function"?n=e:n=At(r,n),n=ot(n,A),r=st(r,this[Bt].empty),this[I]==="opening")return this.defer(()=>this.batch(e,r,n)),n[A];if(cr(this,n))return n[A];if(!Array.isArray(e))return this.nextTick(n,new TypeError("The first argument 'operations' must be an array")),n[A];if(e.length===0)return this.nextTick(n),n[A];let i=new Array(e.length),{keyEncoding:o,valueEncoding:s,...a}=r;for(let f=0;f<e.length;f++){if(typeof e[f]!="object"||e[f]===null)return this.nextTick(n,new TypeError("A batch operation must be an object")),n[A];let l=Object.assign({},e[f]);if(l.type!=="put"&&l.type!=="del")return this.nextTick(n,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),n[A];let d=this._checkKey(l.key);if(d)return this.nextTick(n,d),n[A];let h=l.sublevel!=null?l.sublevel:this,b=h.keyEncoding(l.keyEncoding||o),w=b.format;if(l.key=h.prefixKey(b.encode(l.key),w),l.keyEncoding=w,l.type==="put"){let p=this._checkValue(l.value);if(p)return this.nextTick(n,p),n[A];let m=h.valueEncoding(l.valueEncoding||s);l.value=m.encode(l.value),l.valueEncoding=m.format}h!==this&&(l.sublevel=null),i[f]=l}return this._batch(i,a,f=>{if(f)return n(f);this.emit("batch",e),n()}),n[A]}_batch(e,r,n){this.nextTick(n)}sublevel(e,r){return this._sublevel(e,Mo.defaults(r))}_sublevel(e,r){return new Mo(this,e,r)}prefixKey(e,r){return e}clear(e,r){if(r=At(e,r),r=ot(r,A),e=st(e,this[Bt].empty),this[I]==="opening")return this.defer(()=>this.clear(e,r)),r[A];if(cr(this,r))return r[A];let n=e,i=this.keyEncoding(e.keyEncoding);return e=Pn(e,i),e.keyEncoding=i.format,e.limit===0?this.nextTick(r):this._clear(e,o=>{if(o)return r(o);this.emit("clear",n),r()}),r[A]}_clear(e,r){this.nextTick(r)}iterator(e){let r=this.keyEncoding(e&&e.keyEncoding),n=this.valueEncoding(e&&e.valueEncoding);if(e=Pn(e,r),e.keys=e.keys!==!1,e.values=e.values!==!1,e[St.keyEncoding]=r,e[St.valueEncoding]=n,e.keyEncoding=r.format,e.valueEncoding=n.format,this[I]==="opening")return new $p(this,e);if(this[I]!=="open")throw new de("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(e)}_iterator(e){return new St(this,e)}keys(e){let r=this.keyEncoding(e&&e.keyEncoding),n=this.valueEncoding(e&&e.valueEncoding);if(e=Pn(e,r),e[St.keyEncoding]=r,e[St.valueEncoding]=n,e.keyEncoding=r.format,e.valueEncoding=n.format,this[I]==="opening")return new jp(this,e);if(this[I]!=="open")throw new de("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(e)}_keys(e){return new Fp(this,e)}values(e){let r=this.keyEncoding(e&&e.keyEncoding),n=this.valueEncoding(e&&e.valueEncoding);if(e=Pn(e,r),e[St.keyEncoding]=r,e[St.valueEncoding]=n,e.keyEncoding=r.format,e.valueEncoding=n.format,this[I]==="opening")return new Vp(this,e);if(this[I]!=="open")throw new de("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(e)}_values(e){return new qp(this,e)}defer(e){if(typeof e!="function")throw new TypeError("The first argument must be a function");this[jr].push(e)}[Vr](){if(this[jr].length===0)return;let e=this[jr];this[jr]=[];for(let r of e)r()}attachResource(e){if(typeof e!="object"||e===null||typeof e.close!="function")throw new TypeError("The first argument must be a resource object");this[Tt].add(e)}detachResource(e){this[Tt].delete(e)}_chainedBatch(){return new eu(this)}_checkKey(e){if(e==null)return new de("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(e){if(e==null)return new de("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}};Wr.prototype.nextTick=zc();var{AbstractSublevel:Mo}=Qc()({AbstractLevel:Wr});Po.AbstractLevel=Wr;Po.AbstractSublevel=Mo;var cr=function(t,e){return t[I]!=="open"?(t.nextTick(e,new de("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0):!1},Hp=function(t){return Object.keys(t.supports.encodings).filter(e=>!!t.supports.encodings[e])}});var Fo=x(It=>{"use strict";var iv=c(u());It.AbstractLevel=Ko().AbstractLevel;It.AbstractSublevel=Ko().AbstractSublevel;It.AbstractIterator=nt().AbstractIterator;It.AbstractKeyIterator=nt().AbstractKeyIterator;It.AbstractValueIterator=nt().AbstractValueIterator;It.AbstractChainedBatch=Bo().AbstractChainedBatch});var nu=x((ov,ru)=>{var sv=c(u());ru.exports=zp;var Gp=Ro();function zp(t,e,r){if(typeof e!="number")throw new Error("second argument must be a Number");let n,i,o,s,a,f=!0,l;Array.isArray(t)?(n=[],o=i=t.length):(s=Object.keys(t),n={},o=i=s.length);function d(b){function w(){r&&r(b,n),r=null}f?Gp(w):w()}function h(b,w,p){if(n[b]=p,w&&(a=!0),--o===0||w)d(w);else if(!a&&l<i){let m;s?(m=s[l],l+=1,t[m](function(_,E){h(m,_,E)})):(m=l,l+=1,t[m](function(_,E){h(m,_,E)}))}}l=e,o?s?s.some(function(b,w){return t[b](function(p,m){h(b,p,m)}),w===e-1}):t.some(function(b,w){return b(function(p,m){h(w,p,m)}),w===e-1}):d(null),f=!1}});var qo=x((av,iu)=>{"use strict";var cv=c(u());iu.exports=function(e){let r=e.gte!==void 0?e.gte:e.gt!==void 0?e.gt:void 0,n=e.lte!==void 0?e.lte:e.lt!==void 0?e.lt:void 0,i=e.gte===void 0,o=e.lte===void 0;return r!==void 0&&n!==void 0?IDBKeyRange.bound(r,n,i,o):r!==void 0?IDBKeyRange.lowerBound(r,i):n!==void 0?IDBKeyRange.upperBound(n,o):null}});var $o=x((uv,ou)=>{"use strict";var fv=c(u()),Jp=new TextEncoder;ou.exports=function(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):Jp.encode(t)}});var fu=x(uu=>{"use strict";var dv=c(u()),{AbstractIterator:Yp}=Fo(),su=qo(),qn=$o(),Ee=Symbol("cache"),Fe=Symbol("finished"),ne=Symbol("options"),qe=Symbol("currentOptions"),Rt=Symbol("position"),jo=Symbol("location"),ur=Symbol("first"),au={},Vo=class extends Yp{constructor(e,r,n){super(e,n),this[Ee]=[],this[Fe]=this.limit===0,this[ne]=n,this[qe]={...n},this[Rt]=void 0,this[jo]=r,this[ur]=!0}_nextv(e,r,n){if(this[ur]=!1,this[Fe])return this.nextTick(n,null,[]);if(this[Ee].length>0)return e=Math.min(e,this[Ee].length),this.nextTick(n,null,this[Ee].splice(0,e));this[Rt]!==void 0&&(this[ne].reverse?(this[qe].lt=this[Rt],this[qe].lte=void 0):(this[qe].gt=this[Rt],this[qe].gte=void 0));let i;try{i=su(this[qe])}catch{return this[Fe]=!0,this.nextTick(n,null,[])}let o=this.db.db.transaction([this[jo]],"readonly"),s=o.objectStore(this[jo]),a=[];if(this[ne].reverse){let f=!this[ne].values&&s.openKeyCursor?"openKeyCursor":"openCursor";s[f](i,"prev").onsuccess=l=>{let d=l.target.result;if(d){let{key:h,value:b}=d;this[Rt]=h,a.push([this[ne].keys&&h!==void 0?qn(h):void 0,this[ne].values&&b!==void 0?qn(b):void 0]),a.length<e?d.continue():cu(o)}else this[Fe]=!0}}else{let f,l,d=()=>{if(f===void 0||l===void 0)return;let h=Math.max(f.length,l.length);h===0||e===1/0?this[Fe]=!0:this[Rt]=f[h-1],a.length=h;for(let b=0;b<h;b++){let w=f[b],p=l[b];a[b]=[this[ne].keys&&w!==void 0?qn(w):void 0,this[ne].values&&p!==void 0?qn(p):void 0]}cu(o)};this[ne].keys||e<1/0?s.getAllKeys(i,e<1/0?e:void 0).onsuccess=h=>{f=h.target.result,d()}:(f=[],this.nextTick(d)),this[ne].values?s.getAll(i,e<1/0?e:void 0).onsuccess=h=>{l=h.target.result,d()}:(l=[],this.nextTick(d))}o.onabort=()=>{n(o.error||new Error("aborted by user")),n=null},o.oncomplete=()=>{n(null,a),n=null}}_next(e){if(this[Ee].length>0){let[r,n]=this[Ee].shift();this.nextTick(e,null,r,n)}else if(this[Fe])this.nextTick(e);else{let r=Math.min(100,this.limit-this.count);this[ur]&&(this[ur]=!1,r=1),this._nextv(r,au,(n,i)=>{if(n)return e(n);this[Ee]=i,this._next(e)})}}_all(e,r){this[ur]=!1;let n=this[Ee].splice(0,this[Ee].length),i=this.limit-this.count-n.length;if(i<=0)return this.nextTick(r,null,n);this._nextv(i,au,(o,s)=>{if(o)return r(o);n.length>0&&(s=n.concat(s)),r(null,s)})}_seek(e,r){this[ur]=!0,this[Ee]=[],this[Fe]=!1,this[Rt]=void 0,this[qe]={...this[ne]};let n;try{n=su(this[ne])}catch{this[Fe]=!0;return}n!==null&&!n.includes(e)?this[Fe]=!0:this[ne].reverse?this[qe].lte=e:this[qe].gte=e}};uu.Iterator=Vo;function cu(t){typeof t.commit=="function"&&t.commit()}});var du=x((hv,lu)=>{"use strict";var pv=c(u());lu.exports=function(e,r,n,i,o){if(i.limit===0)return e.nextTick(o);let s=e.db.transaction([r],"readwrite"),a=s.objectStore(r),f=0;s.oncomplete=function(){o()},s.onabort=function(){o(s.error||new Error("aborted by user"))};let l=a.openKeyCursor?"openKeyCursor":"openCursor",d=i.reverse?"prev":"next";a[l](n,d).onsuccess=function(h){let b=h.target.result;b&&(a.delete(b.key).onsuccess=function(){(i.limit<=0||++f<i.limit)&&b.continue()})}}});var Go=x(bu=>{"use strict";var wv=c(u()),{AbstractLevel:Xp}=Fo(),hu=fe(),Zp=nu(),{fromCallback:Qp}=Cr(),{Iterator:ey}=fu(),pu=$o(),ty=du(),ry=qo(),wu="level-js-",Hr=Symbol("idb"),Wo=Symbol("namePrefix"),$e=Symbol("location"),Ho=Symbol("version"),Ot=Symbol("store"),Gr=Symbol("onComplete"),yu=Symbol("promise"),$n=class extends Xp{constructor(e,r,n){if(typeof r=="function"||typeof n=="function")throw new hu("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});let{prefix:i,version:o,...s}=r||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},s),typeof e!="string")throw new Error("constructor requires a location string argument");this[$e]=e,this[Wo]=i??wu,this[Ho]=parseInt(o||1,10),this[Hr]=null}get location(){return this[$e]}get namePrefix(){return this[Wo]}get version(){return this[Ho]}get db(){return this[Hr]}get type(){return"browser-level"}_open(e,r){let n=indexedDB.open(this[Wo]+this[$e],this[Ho]);n.onerror=function(){r(n.error||new Error("unknown error"))},n.onsuccess=()=>{this[Hr]=n.result,r()},n.onupgradeneeded=i=>{let o=i.target.result;o.objectStoreNames.contains(this[$e])||o.createObjectStore(this[$e])}}[Ot](e){return this[Hr].transaction([this[$e]],e).objectStore(this[$e])}[Gr](e,r){let n=e.transaction;n.onabort=function(){r(n.error||new Error("aborted by user"))},n.oncomplete=function(){r(null,e.result)}}_get(e,r,n){let i=this[Ot]("readonly"),o;try{o=i.get(e)}catch(s){return this.nextTick(n,s)}this[Gr](o,function(s,a){if(s)return n(s);if(a===void 0)return n(new hu("Entry not found",{code:"LEVEL_NOT_FOUND"}));n(null,pu(a))})}_getMany(e,r,n){let i=this[Ot]("readonly"),o=e.map(s=>a=>{let f;try{f=i.get(s)}catch(l){return a(l)}f.onsuccess=()=>{let l=f.result;a(null,l===void 0?l:pu(l))},f.onerror=l=>{l.stopPropagation(),a(f.error)}});Zp(o,16,n)}_del(e,r,n){let i=this[Ot]("readwrite"),o;try{o=i.delete(e)}catch(s){return this.nextTick(n,s)}this[Gr](o,n)}_put(e,r,n,i){let o=this[Ot]("readwrite"),s;try{s=o.put(r,e)}catch(a){return this.nextTick(i,a)}this[Gr](s,i)}_iterator(e){return new ey(this,this[$e],e)}_batch(e,r,n){let i=this[Ot]("readwrite"),o=i.transaction,s=0,a;o.onabort=function(){n(a||o.error||new Error("aborted by user"))},o.oncomplete=function(){n()};function f(){let l=e[s++],d=l.key,h;try{h=l.type==="del"?i.delete(d):i.put(l.value,d)}catch(b){a=b,o.abort();return}s<e.length?h.onsuccess=f:typeof o.commit=="function"&&o.commit()}f()}_clear(e,r){let n,i;try{n=ry(e)}catch{return this.nextTick(r)}if(e.limit>=0)return ty(this,this[$e],n,e,r);try{let o=this[Ot]("readwrite");i=n?o.delete(n):o.clear()}catch(o){return this.nextTick(r,o)}this[Gr](i,r)}_close(e){this[Hr].close(),this.nextTick(e)}};$n.destroy=function(t,e,r){typeof e=="function"&&(r=e,e=wu),r=Qp(r,yu);let n=indexedDB.deleteDatabase(e+t);return n.onsuccess=function(){r()},n.onerror=function(i){r(i)},r[yu]};bu.BrowserLevel=$n});var gu=x(mu=>{var mv=c(u());mu.Level=Go().BrowserLevel});var P=x((Sv,xu)=>{"use strict";var Av=c(u());xu.exports={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Uint8Array}});var ve=x((Tv,Jo)=>{"use strict";var Bv=c(u()),iy=Y(),oy=Object.getPrototypeOf(async function(){}).constructor,Eu=globalThis.Blob||iy.Blob,sy=typeof Eu<"u"?function(e){return e instanceof Eu}:function(e){return!1},zo=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};Jo.exports={AggregateError:zo,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}},types:{isAsyncFunction(t){return t instanceof oy},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:sy};Jo.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var Vn=x((Iv,jn)=>{"use strict";var Rv=c(u()),{AbortController:vu,AbortSignal:ay}=typeof self<"u"?self:typeof window<"u"?window:void 0;jn.exports=vu;jn.exports.AbortSignal=ay;jn.exports.default=vu});var H=x((Ov,Au)=>{"use strict";var kv=c(u()),{format:cy,inspect:Wn,AggregateError:uy}=ve(),fy=globalThis.AggregateError||uy,ly=Symbol("kIsNodeError"),dy=["string","function","number","object","Function","Object","boolean","bigint","symbol"],hy=/^([A-Z][a-z0-9]*)+$/,py="__node_internal_",Hn={};function kt(t,e){if(!t)throw new Hn.ERR_INTERNAL_ASSERTION(e)}function _u(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function yy(t,e,r){if(typeof e=="function")return kt(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return kt(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:cy(e,...r)}function $(t,e,r){r||(r=Error);class n extends r{constructor(...o){super(yy(t,e,o))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[ly]=!0,Hn[t]=n}function Su(t){let e=py+t.name;return Object.defineProperty(t,"name",{value:e}),t}function wy(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new fy([e,t],e.message);return r.code=e.code,r}return t||e}var Yo=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Hn.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};$("ERR_ASSERTION","%s",Error);$("ERR_INVALID_ARG_TYPE",(t,e,r)=>{kt(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],o=[],s=[];for(let f of e)kt(typeof f=="string","All expected entries have to be of type string"),dy.includes(f)?i.push(f.toLowerCase()):hy.test(f)?o.push(f):(kt(f!=="object",'The value "object" should be written as "Object"'),s.push(f));if(o.length>0){let f=i.indexOf("object");f!==-1&&(i.splice(i,f,1),o.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let f=i.pop();n+=`one of type ${i.join(", ")}, or ${f}`}}(o.length>0||s.length>0)&&(n+=" or ")}if(o.length>0){switch(o.length){case 1:n+=`an instance of ${o[0]}`;break;case 2:n+=`an instance of ${o[0]} or ${o[1]}`;break;default:{let f=o.pop();n+=`an instance of ${o.join(", ")}, or ${f}`}}s.length>0&&(n+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(n+="an "),n+=`${s[0]}`;break;case 2:n+=`one of ${s[0]} or ${s[1]}`;break;default:{let f=s.pop();n+=`one of ${s.join(", ")}, or ${f}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let f=Wn(r,{depth:-1});n+=`. Received ${f}`}}else{let f=Wn(r,{colors:!1});f.length>25&&(f=`${f.slice(0,25)}...`),n+=`. Received type ${typeof r} (${f})`}return n},TypeError);$("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=Wn(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);$("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);$("ERR_MISSING_ARGS",(...t)=>{kt(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);$("ERR_OUT_OF_RANGE",(t,e,r)=>{kt(e,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=_u(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=_u(n)),n+="n"):n=Wn(r),`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);$("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);$("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);$("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);$("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);$("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);$("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);$("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);$("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);$("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);$("ERR_STREAM_WRITE_AFTER_END","write after end",Error);$("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);Au.exports={AbortError:Yo,aggregateTwoErrors:Su(wy),hideStackFrames:Su,codes:Hn}});var zr=x((Cv,Lu)=>{"use strict";var Uv=c(u()),{ArrayIsArray:Zo,ArrayPrototypeIncludes:Ru,ArrayPrototypeJoin:Ou,ArrayPrototypeMap:by,NumberIsInteger:Qo,NumberIsNaN:my,NumberMAX_SAFE_INTEGER:gy,NumberMIN_SAFE_INTEGER:xy,NumberParseInt:Ey,ObjectPrototypeHasOwnProperty:vy,RegExpPrototypeExec:ku,String:_y,StringPrototypeToUpperCase:Sy,StringPrototypeTrim:Ay}=P(),{hideStackFrames:ae,codes:{ERR_SOCKET_BAD_PORT:Ty,ERR_INVALID_ARG_TYPE:G,ERR_INVALID_ARG_VALUE:fr,ERR_OUT_OF_RANGE:Ct,ERR_UNKNOWN_SIGNAL:Tu}}=H(),{normalizeEncoding:By}=ve(),{isAsyncFunction:Iy,isArrayBufferView:Ry}=ve().types,Bu={};function Oy(t){return t===(t|0)}function ky(t){return t===t>>>0}var Cy=/^[0-7]+$/,Uy="must be a 32-bit unsigned integer or an octal string";function Ly(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(ku(Cy,t)===null)throw new fr(e,t,Uy);t=Ey(t,8)}return Cu(t,e),t}var Dy=ae((t,e,r=xy,n=gy)=>{if(typeof t!="number")throw new G(e,"number",t);if(!Qo(t))throw new Ct(e,"an integer",t);if(t<r||t>n)throw new Ct(e,`>= ${r} && <= ${n}`,t)}),Ny=ae((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new G(e,"number",t);if(!Qo(t))throw new Ct(e,"an integer",t);if(t<r||t>n)throw new Ct(e,`>= ${r} && <= ${n}`,t)}),Cu=ae((t,e,r=!1)=>{if(typeof t!="number")throw new G(e,"number",t);if(!Qo(t))throw new Ct(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new Ct(e,`>= ${n} && <= ${i}`,t)});function es(t,e){if(typeof t!="string")throw new G(e,"string",t)}function My(t,e,r=void 0,n){if(typeof t!="number")throw new G(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&my(t))throw new Ct(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var Py=ae((t,e,r)=>{if(!Ru(r,t)){let i="must be one of: "+Ou(by(r,o=>typeof o=="string"?`'${o}'`:_y(o)),", ");throw new fr(e,t,i)}});function Uu(t,e){if(typeof t!="boolean")throw new G(e,"boolean",t)}function Xo(t,e,r){return t==null||!vy(t,e)?r:t[e]}var Ky=ae((t,e,r=null)=>{let n=Xo(r,"allowArray",!1),i=Xo(r,"allowFunction",!1);if(!Xo(r,"nullable",!1)&&t===null||!n&&Zo(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new G(e,"Object",t)}),Fy=ae((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new G(e,"a dictionary",t)}),ts=ae((t,e,r=0)=>{if(!Zo(t))throw new G(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new fr(e,t,n)}});function qy(t,e){ts(t,e);for(let r=0;r<t.length;r++)es(t[r],`${e}[${r}]`)}function $y(t,e){ts(t,e);for(let r=0;r<t.length;r++)Uu(t[r],`${e}[${r}]`)}function jy(t,e="signal"){if(es(t,e),Bu[t]===void 0)throw Bu[Sy(t)]!==void 0?new Tu(t+" (signals must use all capital letters)"):new Tu(t)}var Vy=ae((t,e="buffer")=>{if(!Ry(t))throw new G(e,["Buffer","TypedArray","DataView"],t)});function Wy(t,e){let r=By(e),n=t.length;if(r==="hex"&&n%2!==0)throw new fr("encoding",e,`is invalid for data of length ${n}`)}function Hy(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&Ay(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new Ty(e,t,r);return t|0}var Gy=ae((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new G(e,"AbortSignal",t)}),zy=ae((t,e)=>{if(typeof t!="function")throw new G(e,"Function",t)}),Jy=ae((t,e)=>{if(typeof t!="function"||Iy(t))throw new G(e,"Function",t)}),Yy=ae((t,e)=>{if(t!==void 0)throw new G(e,"undefined",t)});function Xy(t,e,r){if(!Ru(r,t))throw new G(e,`('${Ou(r,"|")}')`,t)}var Zy=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Iu(t,e){if(typeof t>"u"||!ku(Zy,t))throw new fr(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Qy(t){if(typeof t=="string")return Iu(t,"hints"),t;if(Zo(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];Iu(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new fr("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}Lu.exports={isInt32:Oy,isUint32:ky,parseFileMode:Ly,validateArray:ts,validateStringArray:qy,validateBooleanArray:$y,validateBoolean:Uu,validateBuffer:Vy,validateDictionary:Fy,validateEncoding:Wy,validateFunction:zy,validateInt32:Ny,validateInteger:Dy,validateNumber:My,validateObject:Ky,validateOneOf:Py,validatePlainFunction:Jy,validatePort:Hy,validateSignalName:jy,validateString:es,validateUint32:Cu,validateUndefined:Yy,validateUnion:Xy,validateAbortSignal:Gy,validateLinkHeaderValue:Qy}});var at=x((Lv,Pu)=>{var Dv=c(u()),D=Pu.exports={},_e,Se;function rs(){throw new Error("setTimeout has not been defined")}function ns(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?_e=setTimeout:_e=rs}catch{_e=rs}try{typeof clearTimeout=="function"?Se=clearTimeout:Se=ns}catch{Se=ns}})();function Du(t){if(_e===setTimeout)return setTimeout(t,0);if((_e===rs||!_e)&&setTimeout)return _e=setTimeout,setTimeout(t,0);try{return _e(t,0)}catch{try{return _e.call(null,t,0)}catch{return _e.call(this,t,0)}}}function ew(t){if(Se===clearTimeout)return clearTimeout(t);if((Se===ns||!Se)&&clearTimeout)return Se=clearTimeout,clearTimeout(t);try{return Se(t)}catch{try{return Se.call(null,t)}catch{return Se.call(this,t)}}}var je=[],lr=!1,Ut,Gn=-1;function tw(){!lr||!Ut||(lr=!1,Ut.length?je=Ut.concat(je):Gn=-1,je.length&&Nu())}function Nu(){if(!lr){var t=Du(tw);lr=!0;for(var e=je.length;e;){for(Ut=je,je=[];++Gn<e;)Ut&&Ut[Gn].run();Gn=-1,e=je.length}Ut=null,lr=!1,ew(t)}}D.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];je.push(new Mu(t,e)),je.length===1&&!lr&&Du(Nu)};function Mu(t,e){this.fun=t,this.array=e}Mu.prototype.run=function(){this.fun.apply(null,this.array)};D.title="browser";D.browser=!0;D.env={};D.argv=[];D.version="";D.versions={};function Ve(){}D.on=Ve;D.addListener=Ve;D.once=Ve;D.off=Ve;D.removeListener=Ve;D.removeAllListeners=Ve;D.emit=Ve;D.prependListener=Ve;D.prependOnceListener=Ve;D.listeners=function(t){return[]};D.binding=function(t){throw new Error("process.binding is not supported")};D.cwd=function(){return"/"};D.chdir=function(t){throw new Error("process.chdir is not supported")};D.umask=function(){return 0}});var Te=x((Nv,ef)=>{"use strict";var Mv=c(u()),{Symbol:zn,SymbolAsyncIterator:Ku,SymbolIterator:Fu,SymbolFor:qu}=P(),$u=zn("kDestroyed"),ju=zn("kIsErrored"),is=zn("kIsReadable"),Vu=zn("kIsDisturbed"),rw=qu("nodejs.webstream.isClosedPromise"),nw=qu("nodejs.webstream.controllerErrorFunction");function Jn(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function Yn(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function iw(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function Ae(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function Wu(t){return!!(t&&!Ae(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function Hu(t){return!!(t&&!Ae(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function Gu(t){return!!(t&&!Ae(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function ow(t){return Wu(t)||Hu(t)||Gu(t)}function sw(t,e){return t==null?!1:e===!0?typeof t[Ku]=="function":e===!1?typeof t[Fu]=="function":typeof t[Ku]=="function"||typeof t[Fu]=="function"}function Xn(t){if(!Ae(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[$u]||n!=null&&n.destroyed)}function zu(t){if(!Yn(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function aw(t,e){if(!Yn(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function cw(t){if(!Jn(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function Ju(t,e){if(!Jn(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function Yu(t){return t&&t[is]!=null?t[is]:typeof t?.readable!="boolean"?null:Xn(t)?!1:Jn(t)&&t.readable&&!Ju(t)}function Xu(t){return typeof t?.writable!="boolean"?null:Xn(t)?!1:Yn(t)&&t.writable&&!zu(t)}function uw(t,e){return Ae(t)?Xn(t)?!0:!(e?.readable!==!1&&Yu(t)||e?.writable!==!1&&Xu(t)):null}function fw(t){var e,r;return Ae(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function lw(t){var e,r;return Ae(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function dw(t){if(!Ae(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&Zu(t)?t._closed:null}function Zu(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function Qu(t){return typeof t._sent100=="boolean"&&Zu(t)}function hw(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function pw(t){if(!Ae(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&Qu(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function yw(t){var e;return!!(t&&((e=t[Vu])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function ww(t){var e,r,n,i,o,s,a,f,l,d;return!!(t&&((e=(r=(n=(i=(o=(s=t[ju])!==null&&s!==void 0?s:t.readableErrored)!==null&&o!==void 0?o:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(f=t._writableState)===null||f===void 0?void 0:f.errorEmitted)!==null&&r!==void 0?r:(l=t._readableState)===null||l===void 0?void 0:l.errored)!==null&&e!==void 0?e:!((d=t._writableState)===null||d===void 0)&&d.errored))}ef.exports={kDestroyed:$u,isDisturbed:yw,kIsDisturbed:Vu,isErrored:ww,kIsErrored:ju,isReadable:Yu,kIsReadable:is,kIsClosedPromise:rw,kControllerErrorFunction:nw,isClosed:dw,isDestroyed:Xn,isDuplexNodeStream:iw,isFinished:uw,isIterable:sw,isReadableNodeStream:Jn,isReadableStream:Wu,isReadableEnded:cw,isReadableFinished:Ju,isReadableErrored:lw,isNodeStream:Ae,isWebStream:ow,isWritable:Xu,isWritableNodeStream:Yn,isWritableStream:Hu,isWritableEnded:zu,isWritableFinished:aw,isWritableErrored:fw,isServerRequest:hw,isServerResponse:Qu,willEmitClose:pw,isTransformStream:Gu}});var We=x((Pv,us)=>{var Kv=c(u()),ct=at(),{AbortError:ff,codes:bw}=H(),{ERR_INVALID_ARG_TYPE:mw,ERR_STREAM_PREMATURE_CLOSE:tf}=bw,{kEmptyObject:ss,once:as}=ve(),{validateAbortSignal:gw,validateFunction:xw,validateObject:Ew,validateBoolean:vw}=zr(),{Promise:_w,PromisePrototypeThen:Sw}=P(),{isClosed:Aw,isReadable:rf,isReadableNodeStream:os,isReadableStream:Tw,isReadableFinished:nf,isReadableErrored:of,isWritable:sf,isWritableNodeStream:af,isWritableStream:Bw,isWritableFinished:cf,isWritableErrored:uf,isNodeStream:Iw,willEmitClose:Rw,kIsClosedPromise:Ow}=Te();function kw(t){return t.setHeader&&typeof t.abort=="function"}var cs=()=>{};function lf(t,e,r){var n,i;if(arguments.length===2?(r=e,e=ss):e==null?e=ss:Ew(e,"options"),xw(r,"callback"),gw(e.signal,"options.signal"),r=as(r),Tw(t)||Bw(t))return Cw(t,e,r);if(!Iw(t))throw new mw("stream",["ReadableStream","WritableStream","Stream"],t);let o=(n=e.readable)!==null&&n!==void 0?n:os(t),s=(i=e.writable)!==null&&i!==void 0?i:af(t),a=t._writableState,f=t._readableState,l=()=>{t.writable||b()},d=Rw(t)&&os(t)===o&&af(t)===s,h=cf(t,!1),b=()=>{h=!0,t.destroyed&&(d=!1),!(d&&(!t.readable||o))&&(!o||w)&&r.call(t)},w=nf(t,!1),p=()=>{w=!0,t.destroyed&&(d=!1),!(d&&(!t.writable||s))&&(!s||h)&&r.call(t)},m=B=>{r.call(t,B)},_=Aw(t),E=()=>{_=!0;let B=uf(t)||of(t);if(B&&typeof B!="boolean")return r.call(t,B);if(o&&!w&&os(t,!0)&&!nf(t,!1))return r.call(t,new tf);if(s&&!h&&!cf(t,!1))return r.call(t,new tf);r.call(t)},v=()=>{_=!0;let B=uf(t)||of(t);if(B&&typeof B!="boolean")return r.call(t,B);r.call(t)},g=()=>{t.req.on("finish",b)};kw(t)?(t.on("complete",b),d||t.on("abort",E),t.req?g():t.on("request",g)):s&&!a&&(t.on("end",l),t.on("close",l)),!d&&typeof t.aborted=="boolean"&&t.on("aborted",E),t.on("end",p),t.on("finish",b),e.error!==!1&&t.on("error",m),t.on("close",E),_?ct.nextTick(E):a!=null&&a.errorEmitted||f!=null&&f.errorEmitted?d||ct.nextTick(v):(!o&&(!d||rf(t))&&(h||sf(t)===!1)||!s&&(!d||sf(t))&&(w||rf(t)===!1)||f&&t.req&&t.aborted)&&ct.nextTick(v);let S=()=>{r=cs,t.removeListener("aborted",E),t.removeListener("complete",b),t.removeListener("abort",E),t.removeListener("request",g),t.req&&t.req.removeListener("finish",b),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",b),t.removeListener("end",p),t.removeListener("error",m),t.removeListener("close",E)};if(e.signal&&!_){let B=()=>{let k=r;S(),k.call(t,new ff(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)ct.nextTick(B);else{let k=r;r=as((...C)=>{e.signal.removeEventListener("abort",B),k.apply(t,C)}),e.signal.addEventListener("abort",B)}}return S}function Cw(t,e,r){let n=!1,i=cs;if(e.signal)if(i=()=>{n=!0,r.call(t,new ff(void 0,{cause:e.signal.reason}))},e.signal.aborted)ct.nextTick(i);else{let s=r;r=as((...a)=>{e.signal.removeEventListener("abort",i),s.apply(t,a)}),e.signal.addEventListener("abort",i)}let o=(...s)=>{n||ct.nextTick(()=>r.apply(t,s))};return Sw(t[Ow].promise,o,o),cs}function Uw(t,e){var r;let n=!1;return e===null&&(e=ss),(r=e)!==null&&r!==void 0&&r.cleanup&&(vw(e.cleanup,"cleanup"),n=e.cleanup),new _w((i,o)=>{let s=lf(t,e,a=>{n&&s(),a?o(a):i()})})}us.exports=lf;us.exports.finished=Uw});var Lt=x((Fv,gf)=>{"use strict";var qv=c(u()),Be=at(),{aggregateTwoErrors:Lw,codes:{ERR_MULTIPLE_CALLBACK:Dw},AbortError:Nw}=H(),{Symbol:pf}=P(),{kDestroyed:Mw,isDestroyed:Pw,isFinished:Kw,isServerRequest:Fw}=Te(),yf=pf("kDestroy"),fs=pf("kConstruct");function wf(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function qw(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(wf(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?df(this,t,e):this.once(yf,function(o){df(this,Lw(o,t),e)}),this)}function df(t,e,r){let n=!1;function i(o){if(n)return;n=!0;let s=t._readableState,a=t._writableState;wf(o,a,s),a&&(a.closed=!0),s&&(s.closed=!0),typeof r=="function"&&r(o),o?Be.nextTick($w,t,o):Be.nextTick(bf,t)}try{t._destroy(e||null,i)}catch(o){i(o)}}function $w(t,e){ls(t,e),bf(t)}function bf(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function ls(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function jw(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function ds(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?Be.nextTick(ls,t,e):ls(t,e))}function Vw(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(fs,e),!(t.listenerCount(fs)>1)&&Be.nextTick(Ww,t)}function Ww(t){let e=!1;function r(n){if(e){ds(t,n??new Dw);return}e=!0;let i=t._readableState,o=t._writableState,s=o||i;i&&(i.constructed=!0),o&&(o.constructed=!0),s.destroyed?t.emit(yf,n):n?ds(t,n,!0):Be.nextTick(Hw,t)}try{t._construct(n=>{Be.nextTick(r,n)})}catch(n){Be.nextTick(r,n)}}function Hw(t){t.emit(fs)}function hf(t){return t?.setHeader&&typeof t.abort=="function"}function mf(t){t.emit("close")}function Gw(t,e){t.emit("error",e),Be.nextTick(mf,t)}function zw(t,e){!t||Pw(t)||(!e&&!Kw(t)&&(e=new Nw),Fw(t)?(t.socket=null,t.destroy(e)):hf(t)?t.abort():hf(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?Be.nextTick(Gw,t,e):Be.nextTick(mf,t),t.destroyed||(t[Mw]=!0))}gf.exports={construct:Vw,destroyer:zw,destroy:qw,undestroy:jw,errorOrDestroy:ds}});var ei=x(($v,Ef)=>{"use strict";var jv=c(u()),{ArrayIsArray:Jw,ObjectSetPrototypeOf:xf}=P(),{EventEmitter:Zn}=kr();function Qn(t){Zn.call(this,t)}xf(Qn.prototype,Zn.prototype);xf(Qn,Zn);Qn.prototype.pipe=function(t,e){let r=this;function n(d){t.writable&&t.write(d)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",s),r.on("close",a));let o=!1;function s(){o||(o=!0,t.end())}function a(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}function f(d){l(),Zn.listenerCount(this,"error")===0&&this.emit("error",d)}hs(r,"error",f),hs(t,"error",f);function l(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",a),r.removeListener("error",f),t.removeListener("error",f),r.removeListener("end",l),r.removeListener("close",l),t.removeListener("close",l)}return r.on("end",l),r.on("close",l),t.on("close",l),t.emit("pipe",r),t};function hs(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):Jw(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}Ef.exports={Stream:Qn,prependListener:hs}});var Jr=x((Vv,ti)=>{"use strict";var Wv=c(u()),{AbortError:vf,codes:Yw}=H(),{isNodeStream:_f,isWebStream:Xw,kControllerErrorFunction:Zw}=Te(),Qw=We(),{ERR_INVALID_ARG_TYPE:Sf}=Yw,eb=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new Sf(e,"AbortSignal",t)};ti.exports.addAbortSignal=function(e,r){if(eb(e,"signal"),!_f(r)&&!Xw(r))throw new Sf("stream",["ReadableStream","WritableStream","Stream"],r);return ti.exports.addAbortSignalNoValidate(e,r)};ti.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=_f(e)?()=>{e.destroy(new vf(void 0,{cause:t.reason}))}:()=>{e[Zw](new vf(void 0,{cause:t.reason}))};return t.aborted?r():(t.addEventListener("abort",r),Qw(e,()=>t.removeEventListener("abort",r))),e}});var Bf=x((Gv,Tf)=>{"use strict";var zv=c(u()),{StringPrototypeSlice:Af,SymbolIterator:tb,TypedArrayPrototypeSet:ri,Uint8Array:rb}=P(),{Buffer:ps}=Y(),{inspect:nb}=ve();Tf.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return ps.alloc(0);let r=ps.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)ri(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[tb](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let o=n.data;if(e>o.length)r+=o,e-=o.length;else{e===o.length?(r+=o,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=Af(o,0,e),this.head=n,n.data=Af(o,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=ps.allocUnsafe(e),n=e,i=this.head,o=0;do{let s=i.data;if(e>s.length)ri(r,s,n-e),e-=s.length;else{e===s.length?(ri(r,s,n-e),++o,i.next?this.head=i.next:this.head=this.tail=null):(ri(r,new rb(s.buffer,s.byteOffset,e),n-e),this.head=i,i.data=s.slice(e));break}++o}while((i=i.next)!==null);return this.length-=o,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return nb(this,{...r,depth:0,customInspect:!1})}}});var ni=x((Jv,Rf)=>{"use strict";var Yv=c(u()),{MathFloor:ib,NumberIsInteger:ob}=P(),{ERR_INVALID_ARG_VALUE:sb}=H().codes;function ab(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function If(t){return t?16:16*1024}function cb(t,e,r,n){let i=ab(e,n,r);if(i!=null){if(!ob(i)||i<0){let o=n?`options.${r}`:"options.highWaterMark";throw new sb(o,i)}return ib(i)}return If(t.objectMode)}Rf.exports={getHighWaterMark:cb,getDefaultHighWaterMark:If}});var Cf=x((ys,kf)=>{var Xv=c(u());var ii=Y(),Ie=ii.Buffer;function Of(t,e){for(var r in t)e[r]=t[r]}Ie.from&&Ie.alloc&&Ie.allocUnsafe&&Ie.allocUnsafeSlow?kf.exports=ii:(Of(ii,ys),ys.Buffer=Dt);function Dt(t,e,r){return Ie(t,e,r)}Dt.prototype=Object.create(Ie.prototype);Of(Ie,Dt);Dt.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Ie(t,e,r)};Dt.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Ie(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};Dt.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Ie(t)};Dt.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return ii.SlowBuffer(t)}});var Df=x(Lf=>{"use strict";var Qv=c(u()),bs=Cf().Buffer,Uf=bs.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function ub(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function fb(t){var e=ub(t);if(typeof e!="string"&&(bs.isEncoding===Uf||!Uf(t)))throw new Error("Unknown encoding: "+t);return e||t}Lf.StringDecoder=Yr;function Yr(t){this.encoding=fb(t);var e;switch(this.encoding){case"utf16le":this.text=wb,this.end=bb,e=4;break;case"utf8":this.fillLast=hb,e=4;break;case"base64":this.text=mb,this.end=gb,e=3;break;default:this.write=xb,this.end=Eb;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=bs.allocUnsafe(e)}Yr.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};Yr.prototype.end=yb;Yr.prototype.text=pb;Yr.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function ws(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function lb(t,e,r){var n=e.length-1;if(n<r)return 0;var i=ws(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=ws(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=ws(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function db(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function hb(t){var e=this.lastTotal-this.lastNeed,r=db(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function pb(t,e){var r=lb(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function yb(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function wb(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function bb(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function mb(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function gb(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function xb(t){return t.toString(this.encoding)}function Eb(t){return t&&t.length?this.write(t):""}});var ms=x((e_,Kf)=>{"use strict";var t_=c(u()),Nf=at(),{PromisePrototypeThen:vb,SymbolAsyncIterator:Mf,SymbolIterator:Pf}=P(),{Buffer:_b}=Y(),{ERR_INVALID_ARG_TYPE:Sb,ERR_STREAM_NULL_VALUES:Ab}=H().codes;function Tb(t,e,r){let n;if(typeof e=="string"||e instanceof _b)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[Mf])i=!0,n=e[Mf]();else if(e&&e[Pf])i=!1,n=e[Pf]();else throw new Sb("iterable",["Iterable"],e);let o=new t({objectMode:!0,highWaterMark:1,...r}),s=!1;o._read=function(){s||(s=!0,f())},o._destroy=function(l,d){vb(a(l),()=>Nf.nextTick(d,l),h=>Nf.nextTick(d,h||l))};async function a(l){let d=l!=null,h=typeof n.throw=="function";if(d&&h){let{value:b,done:w}=await n.throw(l);if(await b,w)return}if(typeof n.return=="function"){let{value:b}=await n.return();await b}}async function f(){for(;;){try{let{value:l,done:d}=i?await n.next():n.next();if(d)o.push(null);else{let h=l&&typeof l.then=="function"?await l:l;if(h===null)throw s=!1,new Ab;if(o.push(h))continue;s=!1}}catch(l){o.destroy(l)}break}}return o}Kf.exports=Tb});var Xr=x((r_,Zf)=>{var n_=c(u()),he=at(),{ArrayPrototypeIndexOf:Bb,NumberIsInteger:Ib,NumberIsNaN:Rb,NumberParseInt:Ob,ObjectDefineProperties:$f,ObjectKeys:kb,ObjectSetPrototypeOf:jf,Promise:Cb,SafeSet:Ub,SymbolAsyncIterator:Lb,Symbol:Db}=P();Zf.exports=T;T.ReadableState=Ss;var{EventEmitter:Nb}=kr(),{Stream:ut,prependListener:Mb}=ei(),{Buffer:gs}=Y(),{addAbortSignal:Pb}=Jr(),Kb=We(),R=ve().debuglog("stream",t=>{R=t}),Fb=Bf(),hr=Lt(),{getHighWaterMark:qb,getDefaultHighWaterMark:$b}=ni(),{aggregateTwoErrors:Ff,codes:{ERR_INVALID_ARG_TYPE:jb,ERR_METHOD_NOT_IMPLEMENTED:Vb,ERR_OUT_OF_RANGE:Wb,ERR_STREAM_PUSH_AFTER_EOF:Hb,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Gb}}=H(),{validateObject:zb}=zr(),Nt=Db("kPaused"),{StringDecoder:Vf}=Df(),Jb=ms();jf(T.prototype,ut.prototype);jf(T,ut);var xs=()=>{},{errorOrDestroy:dr}=hr;function Ss(t,e,r){typeof r!="boolean"&&(r=e instanceof Re()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.readableObjectMode)),this.highWaterMark=t?qb(this,t,"readableHighWaterMark",r):$b(!1),this.buffer=new Fb,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[Nt]=null,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new Vf(t.encoding),this.encoding=t.encoding)}function T(t){if(!(this instanceof T))return new T(t);let e=this instanceof Re();this._readableState=new Ss(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&Pb(t.signal,this)),ut.call(this,t),hr.construct(this,()=>{this._readableState.needReadable&&oi(this,this._readableState)})}T.prototype.destroy=hr.destroy;T.prototype._undestroy=hr.undestroy;T.prototype._destroy=function(t,e){e(t)};T.prototype[Nb.captureRejectionSymbol]=function(t){this.destroy(t)};T.prototype.push=function(t,e){return Wf(this,t,e,!1)};T.prototype.unshift=function(t,e){return Wf(this,t,e,!0)};function Wf(t,e,r,n){R("readableAddChunk",e);let i=t._readableState,o;if(i.objectMode||(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=gs.from(e,r).toString(i.encoding):(e=gs.from(e,r),r=""))):e instanceof gs?r="":ut._isUint8Array(e)?(e=ut._uint8ArrayToBuffer(e),r=""):e!=null&&(o=new jb("chunk",["string","Buffer","Uint8Array"],e))),o)dr(t,o);else if(e===null)i.reading=!1,Zb(t,i);else if(i.objectMode||e&&e.length>0)if(n)if(i.endEmitted)dr(t,new Gb);else{if(i.destroyed||i.errored)return!1;Es(t,i,e,!0)}else if(i.ended)dr(t,new Hb);else{if(i.destroyed||i.errored)return!1;i.reading=!1,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?Es(t,i,e,!1):oi(t,i)):Es(t,i,e,!1)}else n||(i.reading=!1,oi(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function Es(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?(e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&si(t)),oi(t,e)}T.prototype.isPaused=function(){let t=this._readableState;return t[Nt]===!0||t.flowing===!1};T.prototype.setEncoding=function(t){let e=new Vf(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var Yb=1073741824;function Xb(t){if(t>Yb)throw new Wb("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function qf(t,e){return t<=0||e.length===0&&e.ended?0:e.objectMode?1:Rb(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}T.prototype.read=function(t){R("read",t),t===void 0?t=NaN:Ib(t)||(t=Ob(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=Xb(t)),t!==0&&(e.emittedReadable=!1),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return R("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?vs(this):si(this),null;if(t=qf(t,e),t===0&&e.ended)return e.length===0&&vs(this),null;let n=e.needReadable;if(R("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,R("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,R("reading, ended or constructing",n);else if(n){R("do read"),e.reading=!0,e.sync=!0,e.length===0&&(e.needReadable=!0);try{this._read(e.highWaterMark)}catch(o){dr(this,o)}e.sync=!1,e.reading||(t=qf(r,e))}let i;return t>0?i=Yf(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&vs(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function Zb(t,e){if(R("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?si(t):(e.needReadable=!1,e.emittedReadable=!0,Hf(t))}}function si(t){let e=t._readableState;R("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(R("emitReadable",e.flowing),e.emittedReadable=!0,he.nextTick(Hf,t))}function Hf(t){let e=t._readableState;R("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,zf(t)}function oi(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,he.nextTick(Qb,t,e))}function Qb(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(R("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}T.prototype._read=function(t){throw new Vb("_read()")};T.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new Ub(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),R("pipe count=%d opts=%j",n.pipes.length,e);let o=(!e||e.end!==!1)&&t!==he.stdout&&t!==he.stderr?a:_;n.endEmitted?he.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(E,v){R("onunpipe"),E===r&&v&&v.hasUnpiped===!1&&(v.hasUnpiped=!0,d())}function a(){R("onend"),t.end()}let f,l=!1;function d(){R("cleanup"),t.removeListener("close",p),t.removeListener("finish",m),f&&t.removeListener("drain",f),t.removeListener("error",w),t.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",_),r.removeListener("data",b),l=!0,f&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&f()}function h(){l||(n.pipes.length===1&&n.pipes[0]===t?(R("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(R("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),f||(f=em(r,t),t.on("drain",f))}r.on("data",b);function b(E){R("ondata");let v=t.write(E);R("dest.write",v),v===!1&&h()}function w(E){if(R("onerror",E),_(),t.removeListener("error",w),t.listenerCount("error")===0){let v=t._writableState||t._readableState;v&&!v.errorEmitted?dr(t,E):t.emit("error",E)}}Mb(t,"error",w);function p(){t.removeListener("finish",m),_()}t.once("close",p);function m(){R("onfinish"),t.removeListener("close",p),_()}t.once("finish",m);function _(){R("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?n.flowing&&h():n.flowing||(R("pipe resume"),r.resume()),t};function em(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(R("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(R("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}T.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let o=0;o<i.length;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}let n=Bb(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};T.prototype.on=function(t,e){let r=ut.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,R("on readable",n.length,n.reading),n.length?si(this):n.reading||he.nextTick(tm,this)),r};T.prototype.addListener=T.prototype.on;T.prototype.removeListener=function(t,e){let r=ut.prototype.removeListener.call(this,t,e);return t==="readable"&&he.nextTick(Gf,this),r};T.prototype.off=T.prototype.removeListener;T.prototype.removeAllListeners=function(t){let e=ut.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&he.nextTick(Gf,this),e};function Gf(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[Nt]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function tm(t){R("readable nexttick read 0"),t.read(0)}T.prototype.resume=function(){let t=this._readableState;return t.flowing||(R("resume"),t.flowing=!t.readableListening,rm(this,t)),t[Nt]=!1,this};function rm(t,e){e.resumeScheduled||(e.resumeScheduled=!0,he.nextTick(nm,t,e))}function nm(t,e){R("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),zf(t),e.flowing&&!e.reading&&t.read(0)}T.prototype.pause=function(){return R("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(R("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Nt]=!0,this};function zf(t){let e=t._readableState;for(R("flow",e.flowing);e.flowing&&t.read()!==null;);}T.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{dr(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=kb(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};T.prototype[Lb]=function(){return Jf(this)};T.prototype.iterator=function(t){return t!==void 0&&zb(t,"options"),Jf(this,t)};function Jf(t,e){typeof t.read!="function"&&(t=T.wrap(t,{objectMode:!0}));let r=im(t,e);return r.stream=t,r}async function*im(t,e){let r=xs;function n(s){this===t?(r(),r=xs):r=s}t.on("readable",n);let i,o=Kb(t,{writable:!1},s=>{i=s?Ff(i,s):null,r(),r=xs});try{for(;;){let s=t.destroyed?null:t.read();if(s!==null)yield s;else{if(i)throw i;if(i===null)return;await new Cb(n)}}}catch(s){throw i=Ff(i,s),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?hr.destroyer(t,null):(t.off("readable",n),o())}}$f(T.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});$f(Ss.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Nt]!==!1},set(t){this[Nt]=!!t}}});T._fromList=Yf;function Yf(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function vs(t){let e=t._readableState;R("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,he.nextTick(om,e,t))}function om(t,e){if(R("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)he.nextTick(sm,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function sm(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}T.from=function(t,e){return Jb(T,t,e)};var _s;function Xf(){return _s===void 0&&(_s={}),_s}T.fromWeb=function(t,e){return Xf().newStreamReadableFromReadableStream(t,e)};T.toWeb=function(t,e){return Xf().newReadableStreamFromStreamReadable(t,e)};T.wrap=function(t,e){var r,n;return new T({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,o){hr.destroyer(t,i),o(i)}}).wrap(t)}});var ks=x((i_,fl)=>{var o_=c(u()),Mt=at(),{ArrayPrototypeSlice:tl,Error:am,FunctionPrototypeSymbolHasInstance:rl,ObjectDefineProperty:nl,ObjectDefineProperties:cm,ObjectSetPrototypeOf:il,StringPrototypeToLowerCase:um,Symbol:fm,SymbolHasInstance:lm}=P();fl.exports=L;L.WritableState=en;var{EventEmitter:dm}=kr(),Zr=ei().Stream,{Buffer:ai}=Y(),fi=Lt(),{addAbortSignal:hm}=Jr(),{getHighWaterMark:pm,getDefaultHighWaterMark:ym}=ni(),{ERR_INVALID_ARG_TYPE:wm,ERR_METHOD_NOT_IMPLEMENTED:bm,ERR_MULTIPLE_CALLBACK:ol,ERR_STREAM_CANNOT_PIPE:mm,ERR_STREAM_DESTROYED:Qr,ERR_STREAM_ALREADY_FINISHED:gm,ERR_STREAM_NULL_VALUES:xm,ERR_STREAM_WRITE_AFTER_END:Em,ERR_UNKNOWN_ENCODING:sl}=H().codes,{errorOrDestroy:pr}=fi;il(L.prototype,Zr.prototype);il(L,Zr);function Bs(){}var yr=fm("kOnFinished");function en(t,e,r){typeof r!="boolean"&&(r=e instanceof Re()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?pm(this,t,"writableHighWaterMark",r):ym(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=_m.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ui(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[yr]=[]}function ui(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}en.prototype.getBuffer=function(){return tl(this.buffered,this.bufferedIndex)};nl(en.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function L(t){let e=this instanceof Re();if(!e&&!rl(L,this))return new L(t);this._writableState=new en(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&hm(t.signal,this)),Zr.call(this,t),fi.construct(this,()=>{let r=this._writableState;r.writing||Rs(this,r),Os(this,r)})}nl(L,lm,{__proto__:null,value:function(t){return rl(this,t)?!0:this!==L?!1:t&&t._writableState instanceof en}});L.prototype.pipe=function(){pr(this,new mm)};function al(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!ai.isEncoding(r))throw new sl(r);typeof n!="function"&&(n=Bs)}if(e===null)throw new xm;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=ai.from(e,r),r="buffer");else if(e instanceof ai)r="buffer";else if(Zr._isUint8Array(e))e=Zr._uint8ArrayToBuffer(e),r="buffer";else throw new wm("chunk",["string","Buffer","Uint8Array"],e);let o;return i.ending?o=new Em:i.destroyed&&(o=new Qr("write")),o?(Mt.nextTick(n,o),pr(t,o,!0),o):(i.pendingcb++,vm(t,i,e,r,n))}L.prototype.write=function(t,e,r){return al(this,t,e,r)===!0};L.prototype.cork=function(){this._writableState.corked++};L.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||Rs(this,t))};L.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=um(e)),!ai.isEncoding(e))throw new sl(e);return this._writableState.defaultEncoding=e,this};function vm(t,e,r,n,i){let o=e.objectMode?1:r.length;e.length+=o;let s=e.length<e.highWaterMark;return s||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==Bs&&(e.allNoop=!1)):(e.writelen=o,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),s&&!e.errored&&!e.destroyed}function Qf(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Qr("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function el(t,e,r,n){--e.pendingcb,n(r),Is(e),pr(t,r)}function _m(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){pr(t,new ol);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?Mt.nextTick(el,t,r,e,i):el(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&Rs(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},Mt.nextTick(Sm,r.afterWriteTickInfo)):cl(t,r,1,i))}function Sm({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,cl(t,e,r,n)}function cl(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&Is(e),Os(t,e)}function Is(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:o,callback:s}=t.buffered[i],a=t.objectMode?1:o.length;t.length-=a,s((e=t.errored)!==null&&e!==void 0?e:new Qr("write"))}let r=t[yr].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new Qr("end"))}ui(t)}function Rs(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,o=r.length-n;if(!o)return;let s=n;if(e.bufferProcessing=!0,o>1&&t._writev){e.pendingcb-=o-1;let a=e.allNoop?Bs:l=>{for(let d=s;d<r.length;++d)r[d].callback(l)},f=e.allNoop&&s===0?r:tl(r,s);f.allBuffers=e.allBuffers,Qf(t,e,!0,e.length,f,"",a),ui(e)}else{do{let{chunk:a,encoding:f,callback:l}=r[s];r[s++]=null;let d=i?1:a.length;Qf(t,e,!1,d,a,f,l)}while(s<r.length&&!e.writing);s===r.length?ui(e):s>256?(r.splice(0,s),e.bufferedIndex=0):e.bufferedIndex=s}e.bufferProcessing=!1}L.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new bm("_write()")};L.prototype._writev=null;L.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let o=al(this,t,e);o instanceof am&&(i=o)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,Os(this,n,!0),n.ended=!0):n.finished?i=new gm("end"):n.destroyed&&(i=new Qr("end"))),typeof r=="function"&&(i||n.finished?Mt.nextTick(r,i):n[yr].push(r)),this};function ci(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function Am(t,e){let r=!1;function n(i){if(r){pr(t,i??ol());return}if(r=!0,e.pendingcb--,i){let o=e[yr].splice(0);for(let s=0;s<o.length;s++)o[s](i);pr(t,i,e.sync)}else ci(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,Mt.nextTick(Ts,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function Tm(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,Am(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function Os(t,e,r){ci(e)&&(Tm(t,e),e.pendingcb===0&&(r?(e.pendingcb++,Mt.nextTick((n,i)=>{ci(i)?Ts(n,i):i.pendingcb--},t,e)):ci(e)&&(e.pendingcb++,Ts(t,e))))}function Ts(t,e){e.pendingcb--,e.finished=!0;let r=e[yr].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}cm(L.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Bm=fi.destroy;L.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[yr].length)&&Mt.nextTick(Is,r),Bm.call(this,t,e),this};L.prototype._undestroy=fi.undestroy;L.prototype._destroy=function(t,e){e(t)};L.prototype[dm.captureRejectionSymbol]=function(t){this.destroy(t)};var As;function ul(){return As===void 0&&(As={}),As}L.fromWeb=function(t,e){return ul().newStreamWritableFromWritableStream(t,e)};L.toWeb=function(t){return ul().newWritableStreamFromStreamWritable(t)}});var vl=x((s_,El)=>{var a_=c(u()),Cs=at(),Im=Y(),{isReadable:Rm,isWritable:Om,isIterable:ll,isNodeStream:km,isReadableNodeStream:dl,isWritableNodeStream:hl,isDuplexNodeStream:Cm}=Te(),pl=We(),{AbortError:xl,codes:{ERR_INVALID_ARG_TYPE:Um,ERR_INVALID_RETURN_VALUE:yl}}=H(),{destroyer:wr}=Lt(),Lm=Re(),Dm=Xr(),{createDeferredPromise:wl}=ve(),bl=ms(),ml=globalThis.Blob||Im.Blob,Nm=typeof ml<"u"?function(e){return e instanceof ml}:function(e){return!1},Mm=globalThis.AbortController||Vn().AbortController,{FunctionPrototypeCall:gl}=P(),Pt=class extends Lm{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};El.exports=function t(e,r){if(Cm(e))return e;if(dl(e))return li({readable:e});if(hl(e))return li({writable:e});if(km(e))return li({writable:!1,readable:!1});if(typeof e=="function"){let{value:i,write:o,final:s,destroy:a}=Pm(e);if(ll(i))return bl(Pt,i,{objectMode:!0,write:o,final:s,destroy:a});let f=i?.then;if(typeof f=="function"){let l,d=gl(f,i,h=>{if(h!=null)throw new yl("nully","body",h)},h=>{wr(l,h)});return l=new Pt({objectMode:!0,readable:!1,write:o,final(h){s(async()=>{try{await d,Cs.nextTick(h,null)}catch(b){Cs.nextTick(h,b)}})},destroy:a})}throw new yl("Iterable, AsyncIterable or AsyncFunction",r,i)}if(Nm(e))return t(e.arrayBuffer());if(ll(e))return bl(Pt,e,{objectMode:!0,writable:!1});if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?dl(e?.readable)?e?.readable:t(e.readable):void 0,o=e!=null&&e.writable?hl(e?.writable)?e?.writable:t(e.writable):void 0;return li({readable:i,writable:o})}let n=e?.then;if(typeof n=="function"){let i;return gl(n,e,o=>{o!=null&&i.push(o),i.push(null)},o=>{wr(i,o)}),i=new Pt({objectMode:!0,writable:!1,read(){}})}throw new Um(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function Pm(t){let{promise:e,resolve:r}=wl(),n=new Mm,i=n.signal;return{value:t(async function*(){for(;;){let s=e;e=null;let{chunk:a,done:f,cb:l}=await s;if(Cs.nextTick(l),f)return;if(i.aborted)throw new xl(void 0,{cause:i.reason});({promise:e,resolve:r}=wl()),yield a}}(),{signal:i}),write(s,a,f){let l=r;r=null,l({chunk:s,done:!1,cb:f})},final(s){let a=r;r=null,a({done:!0,cb:s})},destroy(s,a){n.abort(),a(s)}}}function li(t){let e=t.readable&&typeof t.readable.read!="function"?Dm.wrap(t.readable):t.readable,r=t.writable,n=!!Rm(e),i=!!Om(r),o,s,a,f,l;function d(h){let b=f;f=null,b?b(h):h&&l.destroy(h)}return l=new Pt({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(pl(r,h=>{i=!1,h&&wr(e,h),d(h)}),l._write=function(h,b,w){r.write(h,b)?w():o=w},l._final=function(h){r.end(),s=h},r.on("drain",function(){if(o){let h=o;o=null,h()}}),r.on("finish",function(){if(s){let h=s;s=null,h()}})),n&&(pl(e,h=>{n=!1,h&&wr(e,h),d(h)}),e.on("readable",function(){if(a){let h=a;a=null,h()}}),e.on("end",function(){l.push(null)}),l._read=function(){for(;;){let h=e.read();if(h===null){a=l._read;return}if(!l.push(h))return}}),l._destroy=function(h,b){!h&&f!==null&&(h=new xl),a=null,o=null,s=null,f===null?b(h):(f=b,wr(r,h),wr(e,h))},l}});var Re=x((c_,Al)=>{"use strict";var u_=c(u()),{ObjectDefineProperties:Km,ObjectGetOwnPropertyDescriptor:He,ObjectKeys:Fm,ObjectSetPrototypeOf:_l}=P();Al.exports=pe;var Ds=Xr(),ce=ks();_l(pe.prototype,Ds.prototype);_l(pe,Ds);{let t=Fm(ce.prototype);for(let e=0;e<t.length;e++){let r=t[e];pe.prototype[r]||(pe.prototype[r]=ce.prototype[r])}}function pe(t){if(!(this instanceof pe))return new pe(t);Ds.call(this,t),ce.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}Km(pe.prototype,{writable:{__proto__:null,...He(ce.prototype,"writable")},writableHighWaterMark:{__proto__:null,...He(ce.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...He(ce.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...He(ce.prototype,"writableBuffer")},writableLength:{__proto__:null,...He(ce.prototype,"writableLength")},writableFinished:{__proto__:null,...He(ce.prototype,"writableFinished")},writableCorked:{__proto__:null,...He(ce.prototype,"writableCorked")},writableEnded:{__proto__:null,...He(ce.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...He(ce.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var Us;function Sl(){return Us===void 0&&(Us={}),Us}pe.fromWeb=function(t,e){return Sl().newStreamDuplexFromReadableWritablePair(t,e)};pe.toWeb=function(t){return Sl().newReadableWritablePairFromDuplex(t)};var Ls;pe.from=function(t){return Ls||(Ls=vl()),Ls(t,"body")}});var Ps=x((f_,Bl)=>{"use strict";var l_=c(u()),{ObjectSetPrototypeOf:Tl,Symbol:qm}=P();Bl.exports=Ge;var{ERR_METHOD_NOT_IMPLEMENTED:$m}=H().codes,Ms=Re(),{getHighWaterMark:jm}=ni();Tl(Ge.prototype,Ms.prototype);Tl(Ge,Ms);var tn=qm("kCallback");function Ge(t){if(!(this instanceof Ge))return new Ge(t);let e=t?jm(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),Ms.call(this,t),this._readableState.sync=!1,this[tn]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",Vm)}function Ns(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function Vm(){this._final!==Ns&&Ns.call(this)}Ge.prototype._final=Ns;Ge.prototype._transform=function(t,e,r){throw new $m("_transform()")};Ge.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,o=n.length;this._transform(t,e,(s,a)=>{if(s){r(s);return}a!=null&&this.push(a),i.ended||o===n.length||n.length<n.highWaterMark?r():this[tn]=r})};Ge.prototype._read=function(){if(this[tn]){let t=this[tn];this[tn]=null,t()}}});var Fs=x((d_,Rl)=>{"use strict";var h_=c(u()),{ObjectSetPrototypeOf:Il}=P();Rl.exports=br;var Ks=Ps();Il(br.prototype,Ks.prototype);Il(br,Ks);function br(t){if(!(this instanceof br))return new br(t);Ks.call(this,t)}br.prototype._transform=function(t,e,r){r(null,t)}});var yi=x((p_,Ll)=>{var y_=c(u()),rn=at(),{ArrayIsArray:Wm,Promise:Hm,SymbolAsyncIterator:Gm}=P(),pi=We(),{once:zm}=ve(),Jm=Lt(),Ol=Re(),{aggregateTwoErrors:Ym,codes:{ERR_INVALID_ARG_TYPE:zs,ERR_INVALID_RETURN_VALUE:qs,ERR_MISSING_ARGS:Xm,ERR_STREAM_DESTROYED:Zm,ERR_STREAM_PREMATURE_CLOSE:Qm},AbortError:eg}=H(),{validateFunction:tg,validateAbortSignal:rg}=zr(),{isIterable:Kt,isReadable:$s,isReadableNodeStream:hi,isNodeStream:kl,isTransformStream:mr,isWebStream:ng,isReadableStream:js,isReadableEnded:ig}=Te(),og=globalThis.AbortController||Vn().AbortController,Vs,Ws;function Cl(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=pi(t,{readable:e,writable:r},o=>{n=!o});return{destroy:o=>{n||(n=!0,Jm.destroyer(t,o||new Zm("pipe")))},cleanup:i}}function sg(t){return tg(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function Hs(t){if(Kt(t))return t;if(hi(t))return ag(t);throw new zs("val",["Readable","Iterable","AsyncIterable"],t)}async function*ag(t){Ws||(Ws=Xr()),yield*Ws.prototype[Gm].call(t)}async function di(t,e,r,{end:n}){let i,o=null,s=l=>{if(l&&(i=l),o){let d=o;o=null,d()}},a=()=>new Hm((l,d)=>{i?d(i):o=()=>{i?d(i):l()}});e.on("drain",s);let f=pi(e,{readable:!1},s);try{e.writableNeedDrain&&await a();for await(let l of t)e.write(l)||await a();n&&e.end(),await a(),r()}catch(l){r(i!==l?Ym(i,l):l)}finally{f(),e.off("drain",s)}}async function Gs(t,e,r,{end:n}){mr(e)&&(e=e.writable);let i=e.getWriter();try{for await(let o of t)await i.ready,i.write(o).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(o){try{await i.abort(o),r(o)}catch(s){r(s)}}}function cg(...t){return Ul(t,zm(sg(t)))}function Ul(t,e,r){if(t.length===1&&Wm(t[0])&&(t=t[0]),t.length<2)throw new Xm("streams");let n=new og,i=n.signal,o=r?.signal,s=[];rg(o,"options.signal");function a(){w(new eg)}o?.addEventListener("abort",a);let f,l,d=[],h=0;function b(v){w(v,--h===0)}function w(v,g){if(v&&(!f||f.code==="ERR_STREAM_PREMATURE_CLOSE")&&(f=v),!(!f&&!g)){for(;d.length;)d.shift()(f);o?.removeEventListener("abort",a),n.abort(),g&&(f||s.forEach(S=>S()),rn.nextTick(e,f,l))}}let p;for(let v=0;v<t.length;v++){let g=t[v],S=v<t.length-1,B=v>0,k=S||r?.end!==!1,C=v===t.length-1;if(kl(g)){let O=function(K){K&&K.name!=="AbortError"&&K.code!=="ERR_STREAM_PREMATURE_CLOSE"&&b(K)};var E=O;if(k){let{destroy:K,cleanup:Ii}=Cl(g,S,B);d.push(K),$s(g)&&C&&s.push(Ii)}g.on("error",O),$s(g)&&C&&s.push(()=>{g.removeListener("error",O)})}if(v===0)if(typeof g=="function"){if(p=g({signal:i}),!Kt(p))throw new qs("Iterable, AsyncIterable or Stream","source",p)}else Kt(g)||hi(g)||mr(g)?p=g:p=Ol.from(g);else if(typeof g=="function"){if(mr(p)){var m;p=Hs((m=p)===null||m===void 0?void 0:m.readable)}else p=Hs(p);if(p=g(p,{signal:i}),S){if(!Kt(p,!0))throw new qs("AsyncIterable",`transform[${v-1}]`,p)}else{var _;Vs||(Vs=Fs());let O=new Vs({objectMode:!0}),K=(_=p)===null||_===void 0?void 0:_.then;if(typeof K=="function")h++,K.call(p,Ye=>{l=Ye,Ye!=null&&O.write(Ye),k&&O.end(),rn.nextTick(b)},Ye=>{O.destroy(Ye),rn.nextTick(b,Ye)});else if(Kt(p,!0))h++,di(p,O,b,{end:k});else if(js(p)||mr(p)){let Ye=p.readable||p;h++,di(Ye,O,b,{end:k})}else throw new qs("AsyncIterable or Promise","destination",p);p=O;let{destroy:Ii,cleanup:Ud}=Cl(p,!1,!0);d.push(Ii),C&&s.push(Ud)}}else if(kl(g)){if(hi(p)){h+=2;let O=ug(p,g,b,{end:k});$s(g)&&C&&s.push(O)}else if(mr(p)||js(p)){let O=p.readable||p;h++,di(O,g,b,{end:k})}else if(Kt(p))h++,di(p,g,b,{end:k});else throw new zs("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=g}else if(ng(g)){if(hi(p))h++,Gs(Hs(p),g,b,{end:k});else if(js(p)||Kt(p))h++,Gs(p,g,b,{end:k});else if(mr(p))h++,Gs(p.readable,g,b,{end:k});else throw new zs("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=g}else p=Ol.from(g)}return(i!=null&&i.aborted||o!=null&&o.aborted)&&rn.nextTick(a),p}function ug(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new Qm)}),t.pipe(e,{end:!1}),n){let s=function(){i=!0,e.end()};var o=s;ig(t)?rn.nextTick(s):t.once("end",s)}else r();return pi(t,{readable:!0,writable:!1},s=>{let a=t._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(s)}),pi(e,{readable:!1,writable:!0},r)}Ll.exports={pipelineImpl:Ul,pipeline:cg}});var Ys=x((w_,Fl)=>{"use strict";var b_=c(u()),{pipeline:fg}=yi(),wi=Re(),{destroyer:lg}=Lt(),{isNodeStream:bi,isReadable:Dl,isWritable:Nl,isWebStream:Js,isTransformStream:Ft,isWritableStream:Ml,isReadableStream:Pl}=Te(),{AbortError:dg,codes:{ERR_INVALID_ARG_VALUE:Kl,ERR_MISSING_ARGS:hg}}=H(),pg=We();Fl.exports=function(...e){if(e.length===0)throw new hg("streams");if(e.length===1)return wi.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=wi.from(e[0])),typeof e[e.length-1]=="function"){let w=e.length-1;e[w]=wi.from(e[w])}for(let w=0;w<e.length;++w)if(!(!bi(e[w])&&!Js(e[w]))){if(w<e.length-1&&!(Dl(e[w])||Pl(e[w])||Ft(e[w])))throw new Kl(`streams[${w}]`,r[w],"must be readable");if(w>0&&!(Nl(e[w])||Ml(e[w])||Ft(e[w])))throw new Kl(`streams[${w}]`,r[w],"must be writable")}let n,i,o,s,a;function f(w){let p=s;s=null,p?p(w):w?a.destroy(w):!b&&!h&&a.destroy()}let l=e[0],d=fg(e,f),h=!!(Nl(l)||Ml(l)||Ft(l)),b=!!(Dl(d)||Pl(d)||Ft(d));if(a=new wi({writableObjectMode:!!(l!=null&&l.writableObjectMode),readableObjectMode:!!(d!=null&&d.writableObjectMode),writable:h,readable:b}),h){if(bi(l))a._write=function(p,m,_){l.write(p,m)?_():n=_},a._final=function(p){l.end(),i=p},l.on("drain",function(){if(n){let p=n;n=null,p()}});else if(Js(l)){let m=(Ft(l)?l.writable:l).getWriter();a._write=async function(_,E,v){try{await m.ready,m.write(_).catch(()=>{}),v()}catch(g){v(g)}},a._final=async function(_){try{await m.ready,m.close().catch(()=>{}),i=_}catch(E){_(E)}}}let w=Ft(d)?d.readable:d;pg(w,()=>{if(i){let p=i;i=null,p()}})}if(b){if(bi(d))d.on("readable",function(){if(o){let w=o;o=null,w()}}),d.on("end",function(){a.push(null)}),a._read=function(){for(;;){let w=d.read();if(w===null){o=a._read;return}if(!a.push(w))return}};else if(Js(d)){let p=(Ft(d)?d.readable:d).getReader();a._read=async function(){for(;;)try{let{value:m,done:_}=await p.read();if(!a.push(m))return;if(_){a.push(null);return}}catch{return}}}}return a._destroy=function(w,p){!w&&s!==null&&(w=new dg),o=null,n=null,i=null,s===null?p(w):(s=p,bi(d)&&lg(d,w))},a}});var zl=x((m_,Qs)=>{"use strict";var g_=c(u()),Vl=globalThis.AbortController||Vn().AbortController,{codes:{ERR_INVALID_ARG_VALUE:yg,ERR_INVALID_ARG_TYPE:nn,ERR_MISSING_ARGS:wg,ERR_OUT_OF_RANGE:bg},AbortError:Oe}=H(),{validateAbortSignal:qt,validateInteger:mg,validateObject:$t}=zr(),gg=P().Symbol("kWeak"),{finished:xg}=We(),Eg=Ys(),{addAbortSignalNoValidate:vg}=Jr(),{isWritable:_g,isNodeStream:Sg}=Te(),{ArrayPrototypePush:Ag,MathFloor:Tg,Number:Bg,NumberIsNaN:Ig,Promise:ql,PromiseReject:$l,PromisePrototypeThen:Rg,Symbol:Wl}=P(),mi=Wl("kEmpty"),jl=Wl("kEof");function Og(t,e){if(e!=null&&$t(e,"options"),e?.signal!=null&&qt(e.signal,"options.signal"),Sg(t)&&!_g(t))throw new yg("stream",t,"must be writable");let r=Eg(this,t);return e!=null&&e.signal&&vg(e.signal,r),r}function gi(t,e){if(typeof t!="function")throw new nn("fn",["Function","AsyncFunction"],t);e!=null&&$t(e,"options"),e?.signal!=null&&qt(e.signal,"options.signal");let r=1;return e?.concurrency!=null&&(r=Tg(e.concurrency)),mg(r,"concurrency",1),(async function*(){var i,o;let s=new Vl,a=this,f=[],l=s.signal,d={signal:l},h=()=>s.abort();e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted&&h(),e==null||(o=e.signal)===null||o===void 0||o.addEventListener("abort",h);let b,w,p=!1;function m(){p=!0}async function _(){try{for await(let g of a){var E;if(p)return;if(l.aborted)throw new Oe;try{g=t(g,d)}catch(S){g=$l(S)}g!==mi&&(typeof((E=g)===null||E===void 0?void 0:E.catch)=="function"&&g.catch(m),f.push(g),b&&(b(),b=null),!p&&f.length&&f.length>=r&&await new ql(S=>{w=S}))}f.push(jl)}catch(g){let S=$l(g);Rg(S,void 0,m),f.push(S)}finally{var v;p=!0,b&&(b(),b=null),e==null||(v=e.signal)===null||v===void 0||v.removeEventListener("abort",h)}}_();try{for(;;){for(;f.length>0;){let E=await f[0];if(E===jl)return;if(l.aborted)throw new Oe;E!==mi&&(yield E),f.shift(),w&&(w(),w=null)}await new ql(E=>{b=E})}}finally{s.abort(),p=!0,w&&(w(),w=null)}}).call(this)}function kg(t=void 0){return t!=null&&$t(t,"options"),t?.signal!=null&&qt(t.signal,"options.signal"),(async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Oe({cause:t.signal.reason});yield[r++,i]}}).call(this)}async function Hl(t,e=void 0){for await(let r of Zs.call(this,t,e))return!0;return!1}async function Cg(t,e=void 0){if(typeof t!="function")throw new nn("fn",["Function","AsyncFunction"],t);return!await Hl.call(this,async(...r)=>!await t(...r),e)}async function Ug(t,e){for await(let r of Zs.call(this,t,e))return r}async function Lg(t,e){if(typeof t!="function")throw new nn("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),mi}for await(let n of gi.call(this,r,e));}function Zs(t,e){if(typeof t!="function")throw new nn("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:mi}return gi.call(this,r,e)}var Xs=class extends wg{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function Dg(t,e,r){var n;if(typeof t!="function")throw new nn("reducer",["Function","AsyncFunction"],t);r!=null&&$t(r,"options"),r?.signal!=null&&qt(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let l=new Oe(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await xg(this.destroy(l)),l}let o=new Vl,s=o.signal;if(r!=null&&r.signal){let l={once:!0,[gg]:this};r.signal.addEventListener("abort",()=>o.abort(),l)}let a=!1;try{for await(let l of this){var f;if(a=!0,r!=null&&(f=r.signal)!==null&&f!==void 0&&f.aborted)throw new Oe;i?e=await t(e,l,{signal:s}):(e=l,i=!0)}if(!a&&!i)throw new Xs}finally{o.abort()}return e}async function Ng(t){t!=null&&$t(t,"options"),t?.signal!=null&&qt(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Oe(void 0,{cause:t.signal.reason});Ag(e,n)}return e}function Mg(t,e){let r=gi.call(this,t,e);return(async function*(){for await(let i of r)yield*i}).call(this)}function Gl(t){if(t=Bg(t),Ig(t))return 0;if(t<0)throw new bg("number",">= 0",t);return t}function Pg(t,e=void 0){return e!=null&&$t(e,"options"),e?.signal!=null&&qt(e.signal,"options.signal"),t=Gl(t),(async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Oe;for await(let o of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Oe;t--<=0&&(yield o)}}).call(this)}function Kg(t,e=void 0){return e!=null&&$t(e,"options"),e?.signal!=null&&qt(e.signal,"options.signal"),t=Gl(t),(async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Oe;for await(let o of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Oe;if(t-- >0)yield o;else return}}).call(this)}Qs.exports.streamReturningOperators={asIndexedPairs:kg,drop:Pg,filter:Zs,flatMap:Mg,map:gi,take:Kg,compose:Og};Qs.exports.promiseReturningOperators={every:Cg,forEach:Lg,reduce:Dg,toArray:Ng,some:Hl,find:Ug}});var ea=x((x_,Jl)=>{"use strict";var E_=c(u()),{ArrayPrototypePop:Fg,Promise:qg}=P(),{isIterable:$g,isNodeStream:jg,isWebStream:Vg}=Te(),{pipelineImpl:Wg}=yi(),{finished:Hg}=We();ta();function Gg(...t){return new qg((e,r)=>{let n,i,o=t[t.length-1];if(o&&typeof o=="object"&&!jg(o)&&!$g(o)&&!Vg(o)){let s=Fg(t);n=s.signal,i=s.end}Wg(t,(s,a)=>{s?r(s):e(a)},{signal:n,end:i})})}Jl.exports={finished:Hg,pipeline:Gg}});var ta=x((v_,id)=>{var __=c(u()),{Buffer:zg}=Y(),{ObjectDefineProperty:ze,ObjectKeys:Zl,ReflectApply:Ql}=P(),{promisify:{custom:ed}}=ve(),{streamReturningOperators:Yl,promiseReturningOperators:Xl}=zl(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:td}}=H(),Jg=Ys(),{pipeline:rd}=yi(),{destroyer:Yg}=Lt(),nd=We(),ra=ea(),na=Te(),N=id.exports=ei().Stream;N.isDisturbed=na.isDisturbed;N.isErrored=na.isErrored;N.isReadable=na.isReadable;N.Readable=Xr();for(let t of Zl(Yl)){let r=function(...n){if(new.target)throw td();return N.Readable.from(Ql(e,this,n))};ia=r;let e=Yl[t];ze(r,"name",{__proto__:null,value:e.name}),ze(r,"length",{__proto__:null,value:e.length}),ze(N.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var ia;for(let t of Zl(Xl)){let r=function(...i){if(new.target)throw td();return Ql(e,this,i)};ia=r;let e=Xl[t];ze(r,"name",{__proto__:null,value:e.name}),ze(r,"length",{__proto__:null,value:e.length}),ze(N.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var ia;N.Writable=ks();N.Duplex=Re();N.Transform=Ps();N.PassThrough=Fs();N.pipeline=rd;var{addAbortSignal:Xg}=Jr();N.addAbortSignal=Xg;N.finished=nd;N.destroy=Yg;N.compose=Jg;ze(N,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return ra}});ze(rd,ed,{__proto__:null,enumerable:!0,get(){return ra.pipeline}});ze(nd,ed,{__proto__:null,enumerable:!0,get(){return ra.finished}});N.Stream=N;N._isUint8Array=function(e){return e instanceof Uint8Array};N._uint8ArrayToBuffer=function(e){return zg.from(e.buffer,e.byteOffset,e.byteLength)}});var on=x((S_,M)=>{"use strict";var A_=c(u()),F=ta(),Zg=ea(),Qg=F.Readable.destroy;M.exports=F.Readable;M.exports._uint8ArrayToBuffer=F._uint8ArrayToBuffer;M.exports._isUint8Array=F._isUint8Array;M.exports.isDisturbed=F.isDisturbed;M.exports.isErrored=F.isErrored;M.exports.isReadable=F.isReadable;M.exports.Readable=F.Readable;M.exports.Writable=F.Writable;M.exports.Duplex=F.Duplex;M.exports.Transform=F.Transform;M.exports.PassThrough=F.PassThrough;M.exports.addAbortSignal=F.addAbortSignal;M.exports.finished=F.finished;M.exports.destroy=F.destroy;M.exports.destroy=Qg;M.exports.pipeline=F.pipeline;M.exports.compose=F.compose;Object.defineProperty(F,"promises",{configurable:!0,enumerable:!0,get(){return Zg}});M.exports.Stream=F.Stream;M.exports.default=M.exports});var Ed=x(xd=>{var oA=c(u());xd.Level=Go().BrowserLevel});var x1=c(u(),1);var C_=c(u(),1);var rx=c(u(),1),Eh=c($i(),1);var Fx=c(u(),1);var vx=c(u(),1);var dx=c(u(),1);var ix=c(u(),1);function vh(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(r[s]!==255)throw new TypeError(o+" is ambiguous");r[s]=i}var a=t.length,f=t.charAt(0),l=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function h(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,_=0,E=0,v=p.length;E!==v&&p[E]===0;)E++,m++;for(var g=(v-E)*d+1>>>0,S=new Uint8Array(g);E!==v;){for(var B=p[E],k=0,C=g-1;(B!==0||k<_)&&C!==-1;C--,k++)B+=256*S[C]>>>0,S[C]=B%a>>>0,B=B/a>>>0;if(B!==0)throw new Error("Non-zero carry");_=k,E++}for(var O=g-_;O!==g&&S[O]===0;)O++;for(var K=f.repeat(m);O<g;++O)K+=t.charAt(S[O]);return K}function b(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var _=0,E=0;p[m]===f;)_++,m++;for(var v=(p.length-m)*l+1>>>0,g=new Uint8Array(v);p[m];){var S=r[p.charCodeAt(m)];if(S===255)return;for(var B=0,k=v-1;(S!==0||B<E)&&k!==-1;k--,B++)S+=a*g[k]>>>0,g[k]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");E=B,m++}if(p[m]!==" "){for(var C=v-E;C!==v&&g[C]===0;)C++;for(var O=new Uint8Array(_+(v-C)),K=_;C!==v;)O[K++]=g[C++];return O}}}function w(p){var m=b(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:b,decode:w}}var _h=vh,Sh=_h,Ga=Sh;var sx=c(u(),1),ox=new Uint8Array(0);var za=(t,e)=>{if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0},Yt=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};var ax=c(u(),1);var ji=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Vi=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Ja(this,e)}},Wi=class{constructor(e){this.decoders=e}or(e){return Ja(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Ja=(t,e)=>new Wi({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}}),Hi=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new ji(e,r,n),this.decoder=new Vi(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}},Ya=({name:t,prefix:e,encode:r,decode:n})=>new Hi(t,e,r,n),Gi=({prefix:t,name:e,alphabet:r})=>{let{encode:n,decode:i}=Ga(r,e);return Ya({prefix:t,name:e,encode:n,decode:o=>Yt(i(o))})},Th=(t,e,r,n)=>{let i={};for(let d=0;d<e.length;++d)i[e[d]]=d;let o=t.length;for(;t[o-1]==="=";)--o;let s=new Uint8Array(o*r/8|0),a=0,f=0,l=0;for(let d=0;d<o;++d){let h=i[t[d]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<r|h,a+=r,a>=8&&(a-=8,s[l++]=255&f>>a)}if(a>=r||255&f<<8-a)throw new SyntaxError("Unexpected end of data");return s},Bh=(t,e,r)=>{let n=e[e.length-1]==="=",i=(1<<r)-1,o="",s=0,a=0;for(let f=0;f<t.length;++f)for(a=a<<8|t[f],s+=8;s>r;)s-=r,o+=e[i&a>>s];if(s&&(o+=e[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o},W=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Ya({prefix:e,name:t,encode(i){return Bh(i,n,r)},decode(i){return Th(i,n,r,t)}});var _r=W({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),px=W({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),yx=W({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),wx=W({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),bx=W({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),mx=W({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),gx=W({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),xx=W({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),zi=W({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Tx=c(u(),1);var X=Gi({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Sx=Gi({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Cx=c(u(),1);var Ix=W({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Rx=W({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),me=W({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Ox=W({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Lx=c(u(),1);function Xa(t){return t.byteOffset!==0||t.byteLength!==t.buffer.byteLength}function Za(t){return typeof t!="object"||t===null?!1:typeof t[Symbol.asyncIterator]=="function"}function Ji(t){let r=Object.prototype.toString.call(t).match(/\s([a-zA-Z0-9]+)/),[n,i]=r;return i}var Sr=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(d){try{l(n.next(d))}catch(h){s(h)}}function f(d){try{l(n.throw(d))}catch(h){s(h)}}function l(d){d.done?o(d.value):i(d.value).then(a,f)}l((n=n.apply(t,e||[])).next())})},Qa=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,f){s=t[o](s),i(a,f,s.done,s.value)})}}function i(o,s,a,f){Promise.resolve(f).then(function(l){o({value:l,done:a})},s)}},yn=new TextEncoder,pt=new TextDecoder,Le=class t{constructor(e,r){this.data=e,this.format=r}static arrayBuffer(e){return new t(e,"ArrayBuffer")}static asyncIterable(e){if(!Za(e))throw new TypeError("Input must be of type AsyncIterable.");return new t(e,"AsyncIterable")}static base32Z(e){return new t(e,"Base32Z")}static base58Btc(e){return new t(e,"Base58Btc")}static base64Url(e){return new t(e,"Base64Url")}static bufferSource(e){return new t(e,"BufferSource")}static hex(e){if(typeof e!="string")throw new TypeError("Hex input must be a string.");if(e.length%2!==0)throw new TypeError("Hex input must have an even number of characters.");return new t(e,"Hex")}static multibase(e){return new t(e,"Multibase")}static object(e){return new t(e,"Object")}static string(e){return new t(e,"String")}static uint8Array(e){return new t(e,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return X.baseDecode(this.data).buffer;case"Base64Url":return me.baseDecode(this.data).buffer;case"BufferSource":{if(Ji(this.data)==="ArrayBuffer")return this.data;if(ArrayBuffer.isView(this.data))return Xa(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":return this.toUint8Array().buffer;case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return Sr(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":return yield(yield this.toBlobAsync()).arrayBuffer();default:throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)}})}toBase32Z(){switch(this.format){case"Uint8Array":return zi.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}}toBase58Btc(){switch(this.format){case"ArrayBuffer":{let e=new Uint8Array(this.data);return X.baseEncode(e)}case"Multibase":return this.data.substring(1);case"Uint8Array":return X.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{let e=new Uint8Array(this.data);return me.baseEncode(e)}case"BufferSource":{let e=this.toUint8Array();return me.baseEncode(e)}case"Object":{let e=JSON.stringify(this.data),r=yn.encode(e);return me.baseEncode(r)}case"String":{let e=yn.encode(this.data);return me.baseEncode(e)}case"Uint8Array":return me.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){var e,r,n,i;return Sr(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{let f=[];try{for(var o=!0,s=Qa(this.data),a;a=yield s.next(),e=a.done,!e;o=!0){i=a.value,o=!1;let d=i;f.push(d)}}catch(d){r={error:d}}finally{try{!o&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}return new Blob(f)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)}})}toHex(){let e=Array.from({length:256},(r,n)=>n.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{let r=this.toUint8Array();return t.uint8Array(r).toHex()}case"Base64Url":{let r=this.toUint8Array();return t.uint8Array(r).toHex()}case"Uint8Array":{let r="";for(let n=0;n<this.data.length;n++)r+=e[this.data[n]];return r}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){switch(this.format){case"Base58Btc":return`z${this.data}`;default:throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}}toObject(){switch(this.format){case"Base64Url":{let e=me.baseDecode(this.data),r=pt.decode(e);return JSON.parse(r)}case"String":return JSON.parse(this.data);case"Uint8Array":{let e=pt.decode(this.data);return JSON.parse(e)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return Sr(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{let e=yield this.toStringAsync();return JSON.parse(e)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)}})}toString(){switch(this.format){case"ArrayBuffer":return pt.decode(this.data);case"Base64Url":{let e=me.baseDecode(this.data);return pt.decode(e)}case"Object":return JSON.stringify(this.data);case"Uint8Array":return pt.decode(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){var e,r,n,i;return Sr(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{let f="";try{for(var o=!0,s=Qa(this.data),a;a=yield s.next(),e=a.done,!e;o=!0){i=a.value,o=!1;let l=i;typeof l=="string"?f+=l:f+=pt.decode(l,{stream:!0})}}catch(l){r={error:l}}finally{try{!o&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}return f+=pt.decode(void 0,{stream:!1}),f}default:throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)}})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return zi.baseDecode(this.data);case"Base58Btc":return X.baseDecode(this.data);case"Base64Url":return me.baseDecode(this.data);case"BufferSource":{let e=Ji(this.data);if(e==="Uint8Array")return this.data;if(e==="ArrayBuffer")return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{let e=new Uint8Array(this.data.length/2);for(let r=0;r<this.data.length;r+=2){let n=parseInt(this.data.substring(r,r+2),16);if(isNaN(n))throw new TypeError("Input is not a valid hexadecimal string.");e[r/2]=n}return e}case"Object":{let e=JSON.stringify(this.data);return yn.encode(e)}case"String":return yn.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return Sr(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{let e=yield this.toArrayBufferAsync();return new Uint8Array(e)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)}})}};var uE=c(u(),1);var oE=c(u(),1);var Qx=c(u(),1);var De={};Sa(De,{decode:()=>Xt,encodeTo:()=>yt,encodingLength:()=>wt});var Vx=c(u(),1);var $x=c(u(),1),Ih=rc,ec=128,Rh=127,Oh=~Rh,kh=Math.pow(2,31);function rc(t,e,r){e=e||[],r=r||0;for(var n=r;t>=kh;)e[r++]=t&255|ec,t/=128;for(;t&Oh;)e[r++]=t&255|ec,t>>>=7;return e[r]=t|0,rc.bytes=r-n+1,e}var Ch=Yi,Uh=128,tc=127;function Yi(t,n){var r=0,n=n||0,i=0,o=n,s,a=t.length;do{if(o>=a)throw Yi.bytes=0,new RangeError("Could not decode varint");s=t[o++],r+=i<28?(s&tc)<<i:(s&tc)*Math.pow(2,i),i+=7}while(s>=Uh);return Yi.bytes=o-n,r}var Lh=Math.pow(2,7),Dh=Math.pow(2,14),Nh=Math.pow(2,21),Mh=Math.pow(2,28),Ph=Math.pow(2,35),Kh=Math.pow(2,42),Fh=Math.pow(2,49),qh=Math.pow(2,56),$h=Math.pow(2,63),jh=function(t){return t<Lh?1:t<Dh?2:t<Nh?3:t<Mh?4:t<Ph?5:t<Kh?6:t<Fh?7:t<qh?8:t<$h?9:10},Vh={encode:Ih,decode:Ch,encodingLength:jh},Wh=Vh,Ar=Wh;var Xt=(t,e=0)=>[Ar.decode(t,e),Ar.decode.bytes],yt=(t,e,r=0)=>(Ar.encode(t,e,r),e),wt=t=>Ar.encodingLength(t);var Hx=c(u(),1);var Xi=(t,e)=>{let r=e.byteLength,n=wt(t),i=n+wt(r),o=new Uint8Array(i+r);return yt(t,o,0),yt(r,o,n),o.set(e,i),new Zt(t,r,e,o)},nc=t=>{let e=Yt(t),[r,n]=Xt(e),[i,o]=Xt(e.subarray(n)),s=e.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new Zt(r,i,s,e)},ic=(t,e)=>{if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&za(t.bytes,r.bytes)}},Zt=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};var Gx=c(u(),1);var oc=(t,e)=>{let{bytes:r,version:n}=t;switch(n){case 0:return Gh(r,Qi(t),e||X.encoder);default:return zh(r,Qi(t),e||_r.encoder)}};var sc=new WeakMap,Qi=t=>{let e=sc.get(t);if(e==null){let r=new Map;return sc.set(t,r),r}return e},eo=class t{constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==Tr)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==Jh)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=Xi(e,r);return t.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return t.equals(this,e)}static equals(e,r){let n=r;return n&&e.code===n.code&&e.version===n.version&&ic(e.multihash,n.multihash)}toString(e){return oc(this,e)}toJSON(){return{"/":oc(this)}}link(){return this}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof t)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:n,code:i,multihash:o,bytes:s}=r;return new t(n,i,o,s||ac(n,i,o.bytes))}else if(r[Yh]===!0){let{version:n,multihash:i,code:o}=r,s=nc(i);return t.create(n,o,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==Tr)throw new Error(`Version 0 CID must use dag-pb (code: ${Tr}) block encoding`);return new t(e,r,n,n.bytes)}case 1:{let i=ac(e,r,n.bytes);return new t(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,Tr,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,n]=t.decodeFirst(e);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),n=r.size-r.multihashSize,i=Yt(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=i.subarray(r.multihashSize-r.digestSize),s=new Zt(r.multihashCode,r.digestSize,o,i);return[r.version===0?t.createV0(s):t.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[h,b]=Xt(e.subarray(r));return r+=b,h},i=n(),o=Tr;if(i===18?(i=0,r=0):o=n(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let s=r,a=n(),f=n(),l=r+f,d=l-s;return{version:i,codec:o,multihashCode:a,digestSize:f,multihashSize:d,size:l}}static parse(e,r){let[n,i]=Hh(e,r),o=t.decode(i);if(o.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return Qi(o).set(n,e),o}},Hh=(t,e)=>{switch(t[0]){case"Q":{let r=e||X;return[X.prefix,r.decode(`${X.prefix}${t}`)]}case X.prefix:{let r=e||X;return[X.prefix,r.decode(t)]}case _r.prefix:{let r=e||_r;return[_r.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}},Gh=(t,e,r)=>{let{prefix:n}=r;if(n!==X.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let o=r.encode(t).slice(1);return e.set(n,o),o}else return i},zh=(t,e,r)=>{let{prefix:n}=r,i=e.get(n);if(i==null){let o=r.encode(t);return e.set(n,o),o}else return i},Tr=112,Jh=18,ac=(t,e,r)=>{let n=wt(t),i=n+wt(e),o=new Uint8Array(i+r.byteLength);return yt(t,o,0),yt(e,o,n),o.set(r,i),o},Yh=Symbol.for("@ipld/js-cid/CID");var tE=c(u(),1);var rE=c(u(),1);var ee=class t{static addPrefix(e){var r;let{code:n,data:i,name:o}=e;if(!(o?!n:n))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(n=t.codeToName.has(n)?n:t.nameToCode.get(o),n===void 0)throw new Error(`Unsupported multicodec: ${(r=e.name)!==null&&r!==void 0?r:e.code}`);let s=De.encodingLength(n),a=new Uint8Array(s+i.byteLength);return a.set(i,s),De.encodeTo(n,a),a}static getCodeFromData(e){let{prefixedData:r}=e,[n,i]=De.decode(r);return n}static getCodeFromName(e){let{name:r}=e,n=t.nameToCode.get(r);if(n===void 0)throw new Error(`Unsupported multicodec: ${r}`);return n}static getNameFromCode(e){let{code:r}=e,n=t.codeToName.get(r);if(n===void 0)throw new Error(`Unsupported multicodec: ${r}`);return n}static registerCodec(e){t.codeToName.set(e.code,e.name),t.nameToCode.set(e.name,e.code)}static removePrefix(e){let{prefixedData:r}=e,[n,i]=De.decode(r),o=t.codeToName.get(n);if(o===void 0)throw new Error(`Unsupported multicodec: ${n}`);return{code:n,data:r.slice(i),name:o}}};ee.codeToName=new Map;ee.nameToCode=new Map;ee.registerCodec({code:237,name:"ed25519-pub"});ee.registerCodec({code:4864,name:"ed25519-priv"});ee.registerCodec({code:236,name:"x25519-pub"});ee.registerCodec({code:4866,name:"x25519-priv"});ee.registerCodec({code:231,name:"secp256k1-pub"});ee.registerCodec({code:4865,name:"secp256k1-priv"});var lE=c(u(),1);var xv=c(u(),1),ny=c(gu(),1);var _v=c(u(),1);var O_=c(u(),1),e0=c(on(),1);var t0=c(on(),1);var RB=c(u(),1);var qT=c(u(),1);var bA=c(u(),1);var $_=c(u(),1),r0=c($i(),1);var SS=c(u(),1);var sS=c(u(),1);var Y_=c(u(),1);var V_=c(u(),1),j_=new Uint8Array(0);function od(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function gr(t){if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")}var H_=c(u(),1);function i0(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(r[s]!==255)throw new TypeError(o+" is ambiguous");r[s]=i}var a=t.length,f=t.charAt(0),l=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function h(p){if(p instanceof Uint8Array||(ArrayBuffer.isView(p)?p=new Uint8Array(p.buffer,p.byteOffset,p.byteLength):Array.isArray(p)&&(p=Uint8Array.from(p))),!(p instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(p.length===0)return"";for(var m=0,_=0,E=0,v=p.length;E!==v&&p[E]===0;)E++,m++;for(var g=(v-E)*d+1>>>0,S=new Uint8Array(g);E!==v;){for(var B=p[E],k=0,C=g-1;(B!==0||k<_)&&C!==-1;C--,k++)B+=256*S[C]>>>0,S[C]=B%a>>>0,B=B/a>>>0;if(B!==0)throw new Error("Non-zero carry");_=k,E++}for(var O=g-_;O!==g&&S[O]===0;)O++;for(var K=f.repeat(m);O<g;++O)K+=t.charAt(S[O]);return K}function b(p){if(typeof p!="string")throw new TypeError("Expected String");if(p.length===0)return new Uint8Array;var m=0;if(p[m]!==" "){for(var _=0,E=0;p[m]===f;)_++,m++;for(var v=(p.length-m)*l+1>>>0,g=new Uint8Array(v);p[m];){var S=r[p.charCodeAt(m)];if(S===255)return;for(var B=0,k=v-1;(S!==0||B<E)&&k!==-1;k--,B++)S+=a*g[k]>>>0,g[k]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error("Non-zero carry");E=B,m++}if(p[m]!==" "){for(var C=v-E;C!==v&&g[C]===0;)C++;for(var O=new Uint8Array(_+(v-C)),K=_;C!==v;)O[K++]=g[C++];return O}}}function w(p){var m=b(p);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:b,decode:w}}var o0=i0,s0=o0,sd=s0;var oa=class{name;prefix;baseEncode;constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},sa=class{name;prefix;baseDecode;prefixCodePoint;constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return ad(this,e)}},aa=class{decoders;constructor(e){this.decoders=e}or(e){return ad(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n!=null)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function ad(t,e){return new aa({...t.decoders??{[t.prefix]:t},...e.decoders??{[e.prefix]:e}})}var ca=class{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new oa(e,r,n),this.decoder=new sa(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};function cd({name:t,prefix:e,encode:r,decode:n}){return new ca(t,e,r,n)}function ua({name:t,prefix:e,alphabet:r}){let{encode:n,decode:i}=sd(r,t);return cd({prefix:e,name:t,encode:n,decode:o=>gr(i(o))})}function a0(t,e,r,n){let i={};for(let d=0;d<e.length;++d)i[e[d]]=d;let o=t.length;for(;t[o-1]==="=";)--o;let s=new Uint8Array(o*r/8|0),a=0,f=0,l=0;for(let d=0;d<o;++d){let h=i[t[d]];if(h===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<r|h,a+=r,a>=8&&(a-=8,s[l++]=255&f>>a)}if(a>=r||255&f<<8-a)throw new SyntaxError("Unexpected end of data");return s}function c0(t,e,r){let n=e[e.length-1]==="=",i=(1<<r)-1,o="",s=0,a=0;for(let f=0;f<t.length;++f)for(a=a<<8|t[f],s+=8;s>r;)s-=r,o+=e[i&a>>s];if(s!==0&&(o+=e[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o}function z({name:t,prefix:e,bitsPerChar:r,alphabet:n}){return cd({prefix:e,name:t,encode(i){return c0(i,n,r)},decode(i){return a0(i,n,r,t)}})}var sn=z({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Z_=z({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Q_=z({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),eS=z({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),tS=z({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),rS=z({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),nS=z({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),iS=z({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),fa=z({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var fS=c(u(),1);var Q=ua({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),cS=ua({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var wS=c(u(),1);var dS=z({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),hS=z({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ke=z({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),pS=z({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var mS=c(u(),1);function ud(t){return t.byteOffset!==0||t.byteLength!==t.buffer.byteLength}function fd(t){return typeof t!="object"||t===null?!1:typeof t[Symbol.asyncIterator]=="function"}function xi(t){let r=Object.prototype.toString.call(t).match(/\s([a-zA-Z0-9]+)/),[n,i]=r;return i}var an=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(d){try{l(n.next(d))}catch(h){s(h)}}function f(d){try{l(n.throw(d))}catch(h){s(h)}}function l(d){d.done?o(d.value):i(d.value).then(a,f)}l((n=n.apply(t,e||[])).next())})},ld=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(s){return new Promise(function(a,f){s=t[o](s),i(a,f,s.done,s.value)})}}function i(o,s,a,f){Promise.resolve(f).then(function(l){o({value:l,done:a})},s)}},Ei=new TextEncoder,jt=new TextDecoder,V=class t{constructor(e,r){this.data=e,this.format=r}static arrayBuffer(e){return new t(e,"ArrayBuffer")}static asyncIterable(e){if(!fd(e))throw new TypeError("Input must be of type AsyncIterable.");return new t(e,"AsyncIterable")}static base32Z(e){return new t(e,"Base32Z")}static base58Btc(e){return new t(e,"Base58Btc")}static base64Url(e){return new t(e,"Base64Url")}static bufferSource(e){return new t(e,"BufferSource")}static hex(e){if(typeof e!="string")throw new TypeError("Hex input must be a string.");if(e.length%2!==0)throw new TypeError("Hex input must have an even number of characters.");return new t(e,"Hex")}static multibase(e){return new t(e,"Multibase")}static object(e){return new t(e,"Object")}static string(e){return new t(e,"String")}static uint8Array(e){return new t(e,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return Q.baseDecode(this.data).buffer;case"Base64Url":return ke.baseDecode(this.data).buffer;case"BufferSource":{if(xi(this.data)==="ArrayBuffer")return this.data;if(ArrayBuffer.isView(this.data))return ud(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":return this.toUint8Array().buffer;case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}toArrayBufferAsync(){return an(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":return yield(yield this.toBlobAsync()).arrayBuffer();default:throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)}})}toBase32Z(){switch(this.format){case"Uint8Array":return fa.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}}toBase58Btc(){switch(this.format){case"ArrayBuffer":{let e=new Uint8Array(this.data);return Q.baseEncode(e)}case"Multibase":return this.data.substring(1);case"Uint8Array":return Q.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{let e=new Uint8Array(this.data);return ke.baseEncode(e)}case"BufferSource":{let e=this.toUint8Array();return ke.baseEncode(e)}case"Object":{let e=JSON.stringify(this.data),r=Ei.encode(e);return ke.baseEncode(r)}case"String":{let e=Ei.encode(this.data);return ke.baseEncode(e)}case"Uint8Array":return ke.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}toBlobAsync(){return an(this,void 0,void 0,function*(){var e,r,n,i;switch(this.format){case"AsyncIterable":{let f=[];try{for(var o=!0,s=ld(this.data),a;a=yield s.next(),e=a.done,!e;o=!0){i=a.value,o=!1;let d=i;f.push(d)}}catch(d){r={error:d}}finally{try{!o&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}return new Blob(f)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)}})}toHex(){let e=Array.from({length:256},(r,n)=>n.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{let r=this.toUint8Array();return t.uint8Array(r).toHex()}case"Base64Url":{let r=this.toUint8Array();return t.uint8Array(r).toHex()}case"Uint8Array":{let r="";for(let n=0;n<this.data.length;n++)r+=e[this.data[n]];return r}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){switch(this.format){case"Base58Btc":return`z${this.data}`;default:throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}}toObject(){switch(this.format){case"Base64Url":{let e=ke.baseDecode(this.data),r=jt.decode(e);return JSON.parse(r)}case"String":return JSON.parse(this.data);case"Uint8Array":{let e=jt.decode(this.data);return JSON.parse(e)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}toObjectAsync(){return an(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{let e=yield this.toStringAsync();return JSON.parse(e)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)}})}toString(){switch(this.format){case"ArrayBuffer":return jt.decode(this.data);case"Base64Url":{let e=ke.baseDecode(this.data);return jt.decode(e)}case"Object":return JSON.stringify(this.data);case"Uint8Array":return jt.decode(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}toStringAsync(){return an(this,void 0,void 0,function*(){var e,r,n,i;switch(this.format){case"AsyncIterable":{let f="";try{for(var o=!0,s=ld(this.data),a;a=yield s.next(),e=a.done,!e;o=!0){i=a.value,o=!1;let l=i;typeof l=="string"?f+=l:f+=jt.decode(l,{stream:!0})}}catch(l){r={error:l}}finally{try{!o&&!e&&(n=s.return)&&(yield n.call(s))}finally{if(r)throw r.error}}return f+=jt.decode(void 0,{stream:!1}),f}default:throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)}})}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return fa.baseDecode(this.data);case"Base58Btc":return Q.baseDecode(this.data);case"Base64Url":return ke.baseDecode(this.data);case"BufferSource":{let e=xi(this.data);if(e==="Uint8Array")return this.data;if(e==="ArrayBuffer")return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{let e=new Uint8Array(this.data.length/2);for(let r=0;r<this.data.length;r+=2){let n=parseInt(this.data.substring(r,r+2),16);if(isNaN(n))throw new TypeError("Input is not a valid hexadecimal string.");e[r/2]=n}return e}case"Object":{let e=JSON.stringify(this.data);return Ei.encode(e)}case"String":return Ei.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}toUint8ArrayAsync(){return an(this,void 0,void 0,function*(){switch(this.format){case"AsyncIterable":{let e=yield this.toArrayBufferAsync();return new Uint8Array(e)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)}})}};var tA=c(u(),1);var XS=c(u(),1);var NS=c(u(),1);var OS=c(u(),1);var Je={};Sa(Je,{decode:()=>xr,encodeTo:()=>Vt,encodingLength:()=>Wt});var IS=c(u(),1);var TS=c(u(),1),u0=pd,dd=128,f0=127,l0=~f0,d0=Math.pow(2,31);function pd(t,e,r){e=e||[],r=r||0;for(var n=r;t>=d0;)e[r++]=t&255|dd,t/=128;for(;t&l0;)e[r++]=t&255|dd,t>>>=7;return e[r]=t|0,pd.bytes=r-n+1,e}var h0=la,p0=128,hd=127;function la(t,n){var r=0,n=n||0,i=0,o=n,s,a=t.length;do{if(o>=a)throw la.bytes=0,new RangeError("Could not decode varint");s=t[o++],r+=i<28?(s&hd)<<i:(s&hd)*Math.pow(2,i),i+=7}while(s>=p0);return la.bytes=o-n,r}var y0=Math.pow(2,7),w0=Math.pow(2,14),b0=Math.pow(2,21),m0=Math.pow(2,28),g0=Math.pow(2,35),x0=Math.pow(2,42),E0=Math.pow(2,49),v0=Math.pow(2,56),_0=Math.pow(2,63),S0=function(t){return t<y0?1:t<w0?2:t<b0?3:t<m0?4:t<g0?5:t<x0?6:t<E0?7:t<v0?8:t<_0?9:10},A0={encode:u0,decode:h0,encodingLength:S0},T0=A0,cn=T0;function xr(t,e=0){return[cn.decode(t,e),cn.decode.bytes]}function Vt(t,e,r=0){return cn.encode(t,e,r),e}function Wt(t){return cn.encodingLength(t)}function da(t,e){let r=e.byteLength,n=Wt(t),i=n+Wt(r),o=new Uint8Array(i+r);return Vt(t,o,0),Vt(r,o,n),o.set(e,i),new Er(t,r,e,o)}function yd(t){let e=gr(t),[r,n]=xr(e),[i,o]=xr(e.subarray(n)),s=e.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new Er(r,i,s,e)}function wd(t,e){if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&od(t.bytes,r.bytes)}}var Er=class{code;size;digest;bytes;constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};var kS=c(u(),1);function bd(t,e){let{bytes:r,version:n}=t;switch(n){case 0:return I0(r,pa(t),e??Q.encoder);default:return R0(r,pa(t),e??sn.encoder)}}var md=new WeakMap;function pa(t){let e=md.get(t);if(e==null){let r=new Map;return md.set(t,r),r}return e}var ya=class t{code;version;multihash;bytes;"/";constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==un)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==O0)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=da(e,r);return t.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return t.equals(this,e)}static equals(e,r){let n=r;return n!=null&&e.code===n.code&&e.version===n.version&&wd(e.multihash,n.multihash)}toString(e){return bd(this,e)}toJSON(){return{"/":bd(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof t)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:n,code:i,multihash:o,bytes:s}=r;return new t(n,i,o,s??gd(n,i,o.bytes))}else if(r[k0]===!0){let{version:n,multihash:i,code:o}=r,s=yd(i);return t.create(n,o,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==un)throw new Error(`Version 0 CID must use dag-pb (code: ${un}) block encoding`);return new t(e,r,n,n.bytes)}case 1:{let i=gd(e,r,n.bytes);return new t(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,un,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,n]=t.decodeFirst(e);if(n.length!==0)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),n=r.size-r.multihashSize,i=gr(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=i.subarray(r.multihashSize-r.digestSize),s=new Er(r.multihashCode,r.digestSize,o,i);return[r.version===0?t.createV0(s):t.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[h,b]=xr(e.subarray(r));return r+=b,h},i=n(),o=un;if(i===18?(i=0,r=0):o=n(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let s=r,a=n(),f=n(),l=r+f,d=l-s;return{version:i,codec:o,multihashCode:a,digestSize:f,multihashSize:d,size:l}}static parse(e,r){let[n,i]=B0(e,r),o=t.decode(i);if(o.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return pa(o).set(n,e),o}};function B0(t,e){switch(t[0]){case"Q":{let r=e??Q;return[Q.prefix,r.decode(`${Q.prefix}${t}`)]}case Q.prefix:{let r=e??Q;return[Q.prefix,r.decode(t)]}case sn.prefix:{let r=e??sn;return[sn.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}}function I0(t,e,r){let{prefix:n}=r;if(n!==Q.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let o=r.encode(t).slice(1);return e.set(n,o),o}else return i}function R0(t,e,r){let{prefix:n}=r,i=e.get(n);if(i==null){let o=r.encode(t);return e.set(n,o),o}else return i}var un=112,O0=18;function gd(t,e,r){let n=Wt(t),i=n+Wt(e),o=new Uint8Array(i+r.byteLength);return Vt(t,o,0),Vt(e,o,n),o.set(r,i),o}var k0=Symbol.for("@ipld/js-cid/CID");var PS=c(u(),1);var jS=c(u(),1);var KS=c(u(),1);var FS=c(u(),1);var qS=c(u(),1);var $S=c(u(),1);var Ce=class t{static addPrefix(e){var r;let{code:n,data:i,name:o}=e;if(!(o?!n:n))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(n=t.codeToName.has(n)?n:t.nameToCode.get(o),n===void 0)throw new Error(`Unsupported multicodec: ${(r=e.name)!==null&&r!==void 0?r:e.code}`);let s=Je.encodingLength(n),a=new Uint8Array(s+i.byteLength);return a.set(i,s),Je.encodeTo(n,a),a}static getCodeFromData(e){let{prefixedData:r}=e,[n,i]=Je.decode(r);return n}static getCodeFromName(e){let{name:r}=e,n=t.nameToCode.get(r);if(n===void 0)throw new Error(`Unsupported multicodec: ${r}`);return n}static getNameFromCode(e){let{code:r}=e,n=t.codeToName.get(r);if(n===void 0)throw new Error(`Unsupported multicodec: ${r}`);return n}static registerCodec(e){t.codeToName.set(e.code,e.name),t.nameToCode.set(e.name,e.code)}static removePrefix(e){let{prefixedData:r}=e,[n,i]=Je.decode(r),o=t.codeToName.get(n);if(o===void 0)throw new Error(`Unsupported multicodec: ${n}`);return{code:n,data:r.slice(i),name:o}}};Ce.codeToName=new Map;Ce.nameToCode=new Map;Ce.registerCodec({code:237,name:"ed25519-pub"});Ce.registerCodec({code:4864,name:"ed25519-priv"});Ce.registerCodec({code:236,name:"x25519-pub"});Ce.registerCodec({code:4866,name:"x25519-priv"});Ce.registerCodec({code:231,name:"secp256k1-pub"});Ce.registerCodec({code:4865,name:"secp256k1-priv"});var nA=c(u(),1);function wa(t){Object.keys(t).forEach(e=>{t[e]===void 0?delete t[e]:typeof t[e]=="object"&&wa(t[e])})}var aA=c(u(),1),U0=c(Ed(),1);var fA=c(u(),1);var yA=c(u(),1),L0=c(on(),1);var D0=c(on(),1);var JA=c(u(),1);var jA=c(u(),1);var FA=c(u(),1);var NA=c(u(),1);var BA=c(u(),1);function N0(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function ba(t,...e){if(!N0(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function ma(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function vd(t,e){ba(t);let r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}var CA=c(u(),1);var _i=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ye=(t,e)=>t<<32-e|t>>>e;var RA=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function M0(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function ga(t){return typeof t=="string"&&(t=M0(t)),ba(t),t}var vi=class{clone(){return this._cloneInto()}},OA={}.toString;function _d(t){let e=n=>t().update(ga(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function P0(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);let i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),f=n?4:0,l=n?0:4;t.setUint32(e+f,s,n),t.setUint32(e+l,a,n)}var Sd=(t,e,r)=>t&e^~t&r,Ad=(t,e,r)=>t&e^t&r^e&r,Si=class extends vi{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=_i(this.buffer)}update(e){ma(this);let{view:r,buffer:n,blockLen:i}=this;e=ga(e);let o=e.length;for(let s=0;s<o;){let a=Math.min(i-this.pos,o-s);if(a===i){let f=_i(e);for(;i<=o-s;s+=i)this.process(f,s);continue}n.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ma(this),vd(e,this),this.finished=!0;let{buffer:r,view:n,blockLen:i,isLE:o}=this,{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>i-s&&(this.process(n,0),s=0);for(let h=s;h<i;h++)r[h]=0;P0(n,i-8,BigInt(this.length*8),o),this.process(n,0);let a=_i(e),f=this.outputLen;if(f%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let l=f/4,d=this.get();if(l>d.length)throw new Error("_sha2: outputLen bigger than state");for(let h=0;h<l;h++)a.setUint32(4*h,d[h],o)}digest(){let{buffer:e,outputLen:r}=this;this.digestInto(e);let n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:r,buffer:n,length:i,finished:o,destroyed:s,pos:a}=this;return e.length=i,e.pos=a,e.finished=o,e.destroyed=s,i%r&&e.buffer.set(n),e}};var K0=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ft=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),lt=new Uint32Array(64),xa=class extends Si{constructor(){super(64,32,8,!1),this.A=ft[0]|0,this.B=ft[1]|0,this.C=ft[2]|0,this.D=ft[3]|0,this.E=ft[4]|0,this.F=ft[5]|0,this.G=ft[6]|0,this.H=ft[7]|0}get(){let{A:e,B:r,C:n,D:i,E:o,F:s,G:a,H:f}=this;return[e,r,n,i,o,s,a,f]}set(e,r,n,i,o,s,a,f){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=s|0,this.G=a|0,this.H=f|0}process(e,r){for(let h=0;h<16;h++,r+=4)lt[h]=e.getUint32(r,!1);for(let h=16;h<64;h++){let b=lt[h-15],w=lt[h-2],p=ye(b,7)^ye(b,18)^b>>>3,m=ye(w,17)^ye(w,19)^w>>>10;lt[h]=m+lt[h-7]+p+lt[h-16]|0}let{A:n,B:i,C:o,D:s,E:a,F:f,G:l,H:d}=this;for(let h=0;h<64;h++){let b=ye(a,6)^ye(a,11)^ye(a,25),w=d+b+Sd(a,f,l)+K0[h]+lt[h]|0,m=(ye(n,2)^ye(n,13)^ye(n,22))+Ad(n,i,o)|0;d=l,l=f,f=a,a=s+w|0,s=o,o=i,i=n,n=w+m|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,s=s+this.D|0,a=a+this.E|0,f=f+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(n,i,o,s,a,f,l,d)}roundClean(){lt.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var Td=_d(()=>new xa);var F0=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(d){try{l(n.next(d))}catch(h){s(h)}}function f(d){try{l(n.throw(d))}catch(h){s(h)}}function l(d){d.done?o(d.value):i(d.value).then(a,f)}l((n=n.apply(t,e||[])).next())})},fn=class{static digest(e){return F0(this,arguments,void 0,function*({data:r}){return Td(r)})}};var WA=c(u(),1);var mT=c(u(),1);var sT=c(u(),1);var rT=c(u(),1);var XA=c(u(),1);function Bd(t){let e=n=>{if(n!==null&&typeof n=="object"&&!Array.isArray(n)){let i=Object.keys(n).sort(),o={};for(let s of i)o[s]=e(n[s]);return o}return n},r=e(t);return JSON.stringify(r)}var q0=function(t,e,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(d){try{l(n.next(d))}catch(h){s(h)}}function f(d){try{l(n.throw(d))}catch(h){s(h)}}function l(d){d.done?o(d.value):i(d.value).then(a,f)}l((n=n.apply(t,e||[])).next())})};function ue(t){return q0(this,arguments,void 0,function*({jwk:e}){let r=e.kty,n;if(r==="EC")n={crv:e.crv,kty:e.kty,x:e.x,y:e.y};else if(r==="oct")n={k:e.k,kty:e.kty};else if(r==="OKP")n={crv:e.crv,kty:e.kty,x:e.x};else if(r==="RSA")n={e:e.e,kty:e.kty,n:e.n};else throw new Error(`Unsupported key type: ${r}`);wa(n);let i=Bd(n),o=V.string(i).toUint8Array(),s=yield fn.digest({data:o});return V.uint8Array(s).toBase64Url()})}var fT=c(u(),1);var IT=c(u(),1);var vT=c(u(),1);var jT=c(u(),1);var ZT=c(u(),1);var GT=c(u(),1);var aB=c(u(),1);var rB=c(u(),1);var cB=c(u(),1);var uB=c(u(),1);var fB=c(u(),1);var hB=c(u(),1);var yB=c(u(),1);var gB=c(u(),1);var _B=c(u(),1);var BB=c(u(),1);var t1=c(u(),1),Ti=class t extends Error{constructor(r,n){super(`${r}: ${n}`);this.code=r;this.name="DidError",Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,t)}};var n1=c(u(),1),Bi=(o=>(o.authentication="authentication",o.assertionMethod="assertionMethod",o.keyAgreement="keyAgreement",o.capabilityInvocation="capabilityInvocation",o.capabilityDelegation="capabilityDelegation",o))(Bi||{});function va(t){if(typeof t=="string"&&t.length!==0)return t.split("#").pop()}function d1({didDocument:t,id:e,type:r}){return t?.service?.filter(n=>!(e&&n.id!==e||r&&n.type!==r))??[]}async function h1({didDocument:t,publicKeyJwk:e,publicKeyMultibase:r}){let n=Cd({didDocument:t});for(let i of n)if(e&&i.publicKeyJwk){if(await ue({jwk:e})===await ue({jwk:i.publicKeyJwk}))return i}else if(r&&i.publicKeyMultibase&&r===i.publicKeyMultibase)return i;return null}function Cd({didDocument:t}){if(!t)throw new TypeError("Required parameter missing: 'didDocument'");let e=[];return e.push(...t.verificationMethod?.filter(_a)??[]),Object.keys(Bi).forEach(r=>{e.push(...t[r]?.filter(_a)??[])}),e}function p1({didDocument:t}){let r=Cd({didDocument:t}).map(n=>n.type);return[...new Set(r)]}function y1({didDocument:t,methodId:e}){let r=[];return Object.keys(Bi).forEach(n=>{if(Array.isArray(t[n])){let i=t[n],o=va(e);i.some(a=>{let f=va(a)===o,l=_a(a)&&va(a.id)===o;return f||l})&&r.push(n)}}),r}function $0(t){return!t||typeof t!="object"||t===null?!1:"id"in t&&"type"in t&&"serviceEndpoint"in t}function w1(t){if(!$0(t)||t.type!=="DecentralizedWebNode"||!("enc"in t&&"sig"in t))return!1;let e=r=>typeof r=="string"||Array.isArray(r)&&r.every(n=>typeof n=="string");return e(t.enc)&&e(t.sig)}function _a(t){return!(!t||typeof t!="object"||t===null||!("id"in t&&"type"in t&&"controller"in t)||typeof t.id!="string"||typeof t.type!="string"||typeof t.controller!="string")}function b1({keyBytes:t,multicodecCode:e,multicodecName:r}){let n=ee.addPrefix({code:e,data:t,name:r}),i=Le.uint8Array(n).toBase58Btc();return Le.base58Btc(i).toMultibase()}function m1({multibaseKeyId:t}){try{let e=Le.multibase(t).toBase58Btc(),r=Le.base58Btc(e).toUint8Array(),{code:n,data:i,name:o}=ee.removePrefix({prefixedData:r});return{keyBytes:i,multicodecCode:n,multicodecName:o}}catch{throw new Ti("invalidDid",`Invalid multibase identifier: ${t}`)}}export{va as extractDidFragment,d1 as getServices,h1 as getVerificationMethodByKey,p1 as getVerificationMethodTypes,Cd as getVerificationMethods,y1 as getVerificationRelationshipsById,$0 as isDidService,_a as isDidVerificationMethod,w1 as isDwnDidService,b1 as keyBytesToMultibaseId,m1 as multibaseIdToKeyBytes};
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel-limit/index.js:
  (*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=utils.js.map
