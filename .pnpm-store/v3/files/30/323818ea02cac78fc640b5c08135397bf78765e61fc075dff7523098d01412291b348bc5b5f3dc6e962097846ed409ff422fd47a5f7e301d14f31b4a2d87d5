{
  "version": 3,
  "sources": ["../src/utils.ts"],
  "sourcesContent": ["/**\n * Retrieves the current timestamp in XML Schema 1.1.2 date-time format.\n *\n * This function omits the milliseconds part from the ISO 8601 timestamp, returning a date-time\n * string in the format \"yyyy-MM-ddTHH:mm:ssZ\".\n *\n * @example\n * ```ts\n * const currentTimestamp = getCurrentXmlSchema112Timestamp(); // \"2023-08-23T12:34:56Z\"\n * ```\n *\n * @returns The current timestamp in XML Schema 1.1.2 format.\n */\nexport function getCurrentXmlSchema112Timestamp(): string {\n  // Omit the milliseconds part from toISOString() output\n  return new Date().toISOString().replace(/\\.\\d+Z$/, 'Z');\n}\n\n/**\n * Converts a UNIX timestamp to an XML Schema 1.1.2 compliant date-time string, omitting milliseconds.\n *\n * This function takes a UNIX timestamp (number of seconds since the UNIX epoch) as input and converts it\n * to a date-time string formatted according to XML Schema 1.1.2 specifications, specifically omitting\n * the milliseconds component from the standard ISO 8601 format. This is useful for generating\n * timestamps for verifiable credentials and other applications requiring precision to the second\n * without the need for millisecond granularity.\n *\n * @param timestampInSeconds The UNIX timestamp to convert, measured in seconds.\n * @example\n * ```ts\n * const issuanceDate = getXmlSchema112Timestamp(1633036800); // \"2021-10-01T00:00:00Z\"\n * ```\n *\n * @returns A date-time string in the format \"yyyy-MM-ddTHH:mm:ssZ\", compliant with XML Schema 1.1.2, based on the provided UNIX timestamp.\n */\nexport function getXmlSchema112Timestamp(timestampInSeconds: number): string {\n  const date = new Date(timestampInSeconds * 1000);\n\n  // Format the date to an ISO string and then remove milliseconds\n  return date.toISOString().replace(/\\.\\d{3}/, '');\n}\n\n/**\n * Calculates a future timestamp in XML Schema 1.1.2 date-time format based on a given number of\n * seconds.\n *\n * This function takes a number of seconds and adds it to the current timestamp, returning a\n * date-time string in the format \"yyyy-MM-ddTHH:mm:ssZ\" without milliseconds.\n *\n * @example\n * ```ts\n * const futureTimestamp = getFutureXmlSchema112Timestamp(60); // \"2023-08-23T12:35:56Z\"\n * ```\n *\n * @param secondsInFuture - The number of seconds to project into the future.\n * @returns The future timestamp in XML Schema 1.1.2 format.\n */\nexport function getFutureXmlSchema112Timestamp(secondsInFuture: number): string {\n  const futureDate = new Date(Date.now() + secondsInFuture * 1000);\n  return futureDate.toISOString().replace(/\\.\\d+Z$/, 'Z');\n}\n\n/**\n * Validates a timestamp string against the XML Schema 1.1.2 date-time format.\n *\n * This function checks whether the provided timestamp string conforms to the\n * format \"yyyy-MM-ddTHH:mm:ssZ\", without milliseconds, as defined in XML Schema 1.1.2.\n *\n * @example\n * ```ts\n * const isValid = isValidXmlSchema112Timestamp('2023-08-23T12:34:56Z'); // true\n * ```\n *\n * @param timestamp - The timestamp string to validate.\n * @returns `true` if the timestamp is valid, `false` otherwise.\n */\nexport function isValidXmlSchema112Timestamp(timestamp: string): boolean {\n  // Format: yyyy-MM-ddTHH:mm:ssZ\n  const regex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$/;\n  if (!regex.test(timestamp)) {\n    return false;\n  }\n\n  const date = new Date(timestamp);\n\n  return !isNaN(date.getTime());\n}\n\n/**\n * Validates a timestamp string against the RFC 3339 format.\n *\n * This function checks whether the provided timestamp string conforms to the\n * RFC 3339 standard, which includes full date and time representations with\n * optional fractional seconds and a timezone offset. The format allows for\n * both 'Z' (indicating UTC) and numeric timezone offsets (e.g., \"-07:00\", \"+05:30\").\n * This validation ensures that the timestamp is not only correctly formatted\n * but also represents a valid date and time.\n *\n * @param timestamp - The timestamp string to validate.\n * @returns `true` if the timestamp is valid and conforms to RFC 3339, `false` otherwise.\n */\nexport function isValidRFC3339Timestamp(timestamp: string): boolean {\n  // RFC 3339 format: yyyy-MM-ddTHH:mm:ss[.fractional-seconds]Z or yyyy-MM-ddTHH:mm:ss[.fractional-seconds]\u00B1HH:mm\n  // This regex matches both 'Z' for UTC and timezone offsets like '-07:00'\n  const regex = /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(Z|[+-]\\d{2}:\\d{2})$/;\n  if (!regex.test(timestamp)) {\n    return false;\n  }\n\n  // Parsing the timestamp to a Date object to check validity\n  const date = new Date(timestamp);\n\n  // Checking if the date is an actual date\n  return !isNaN(date.getTime());\n}"],
  "mappings": "AAaO,SAASA,GAA0C,CAExD,OAAO,IAAI,KAAK,EAAE,YAAY,EAAE,QAAQ,UAAW,GAAG,CACxD,CAmBO,SAASC,EAAyBC,EAAoC,CAI3E,OAHa,IAAI,KAAKA,EAAqB,GAAI,EAGnC,YAAY,EAAE,QAAQ,UAAW,EAAE,CACjD,CAiBO,SAASC,EAA+BC,EAAiC,CAE9E,OADmB,IAAI,KAAK,KAAK,IAAI,EAAIA,EAAkB,GAAI,EAC7C,YAAY,EAAE,QAAQ,UAAW,GAAG,CACxD,CAgBO,SAASC,EAA6BC,EAA4B,CAGvE,GAAI,CADU,yCACH,KAAKA,CAAS,EACvB,MAAO,GAGT,IAAMC,EAAO,IAAI,KAAKD,CAAS,EAE/B,MAAO,CAAC,MAAMC,EAAK,QAAQ,CAAC,CAC9B,CAeO,SAASC,EAAwBF,EAA4B,CAIlE,GAAI,CADU,mEACH,KAAKA,CAAS,EACvB,MAAO,GAIT,IAAMC,EAAO,IAAI,KAAKD,CAAS,EAG/B,MAAO,CAAC,MAAMC,EAAK,QAAQ,CAAC,CAC9B",
  "names": ["getCurrentXmlSchema112Timestamp", "getXmlSchema112Timestamp", "timestampInSeconds", "getFutureXmlSchema112Timestamp", "secondsInFuture", "isValidXmlSchema112Timestamp", "timestamp", "date", "isValidRFC3339Timestamp"]
}
