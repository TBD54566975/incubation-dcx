"use strict";var Web5Common=(()=>{var zc=Object.create;var Xr=Object.defineProperty;var Yc=Object.getOwnPropertyDescriptor;var Jc=Object.getOwnPropertyNames;var Xc=Object.getPrototypeOf,Zc=Object.prototype.hasOwnProperty;var w=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Gs=(t,e)=>{for(var r in e)Xr(t,r,{get:e[r],enumerable:!0})},Hs=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Jc(e))!Zc.call(t,i)&&i!==r&&Xr(t,i,{get:()=>e[i],enumerable:!(n=Yc(e,i))||n.enumerable});return t};var Zr=(t,e,r)=>(r=t!=null?zc(Xc(t)):{},Hs(e||!t||!t.__esModule?Xr(r,"default",{value:t,enumerable:!0}):r,t)),Qc=t=>Hs(Xr({},"__esModule",{value:!0}),t);var Ys=w((Dm,zs)=>{var ed=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Qr=()=>ed.now(),td=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),di=t=>t===1/0||td(t),hi=class t{constructor({max:e=1/0,ttl:r,updateAgeOnGet:n=!1,checkAgeOnGet:i=!1,noUpdateTTL:o=!1,dispose:s,noDisposeOnSet:a=!1}={}){if(this.expirations=Object.create(null),this.data=new Map,this.expirationMap=new Map,r!==void 0&&!di(r))throw new TypeError("ttl must be positive integer or Infinity if set");if(!di(e))throw new TypeError("max must be positive integer or Infinity");if(this.ttl=r,this.max=e,this.updateAgeOnGet=!!n,this.checkAgeOnGet=!!i,this.noUpdateTTL=!!o,this.noDisposeOnSet=!!a,s!==void 0){if(typeof s!="function")throw new TypeError("dispose must be function if set");this.dispose=s}this.timer=void 0,this.timerExpiration=void 0}setTimer(e,r){if(this.timerExpiration<e)return;this.timer&&clearTimeout(this.timer);let n=setTimeout(()=>{this.timer=void 0,this.timerExpiration=void 0,this.purgeStale();for(let i in this.expirations){this.setTimer(i,i-Qr());break}},r);n.unref&&n.unref(),this.timerExpiration=e,this.timer=n}cancelTimer(){this.timer&&(clearTimeout(this.timer),this.timerExpiration=void 0,this.timer=void 0)}cancelTimers(){return process.emitWarning('TTLCache.cancelTimers has been renamed to TTLCache.cancelTimer (no "s"), and will be removed in the next major version update'),this.cancelTimer()}clear(){let e=this.dispose!==t.prototype.dispose?[...this]:[];this.data.clear(),this.expirationMap.clear(),this.cancelTimer(),this.expirations=Object.create(null);for(let[r,n]of e)this.dispose(n,r,"delete")}setTTL(e,r=this.ttl){let n=this.expirationMap.get(e);if(n!==void 0){let i=this.expirations[n];!i||i.length<=1?delete this.expirations[n]:this.expirations[n]=i.filter(o=>o!==e)}if(r!==1/0){let i=Math.floor(Qr()+r);this.expirationMap.set(e,i),this.expirations[i]||(this.expirations[i]=[],this.setTimer(i,r)),this.expirations[i].push(e)}else this.expirationMap.set(e,1/0)}set(e,r,{ttl:n=this.ttl,noUpdateTTL:i=this.noUpdateTTL,noDisposeOnSet:o=this.noDisposeOnSet}={}){if(!di(n))throw new TypeError("ttl must be positive integer or Infinity");if(this.expirationMap.has(e)){i||this.setTTL(e,n);let s=this.data.get(e);s!==r&&(this.data.set(e,r),o||this.dispose(s,e,"set"))}else this.setTTL(e,n),this.data.set(e,r);for(;this.size>this.max;)this.purgeToCapacity();return this}has(e){return this.data.has(e)}getRemainingTTL(e){let r=this.expirationMap.get(e);return r===1/0?r:r!==void 0?Math.max(0,Math.ceil(r-Qr())):0}get(e,{updateAgeOnGet:r=this.updateAgeOnGet,ttl:n=this.ttl,checkAgeOnGet:i=this.checkAgeOnGet}={}){let o=this.data.get(e);if(i&&this.getRemainingTTL(e)===0){this.delete(e);return}return r&&this.setTTL(e,n),o}dispose(e,r){}delete(e){let r=this.expirationMap.get(e);if(r!==void 0){let n=this.data.get(e);this.data.delete(e),this.expirationMap.delete(e);let i=this.expirations[r];return i&&(i.length<=1?delete this.expirations[r]:this.expirations[r]=i.filter(o=>o!==e)),this.dispose(n,e,"delete"),this.size===0&&this.cancelTimer(),!0}return!1}purgeToCapacity(){for(let e in this.expirations){let r=this.expirations[e];if(this.size-r.length>=this.max){delete this.expirations[e];let n=[];for(let i of r)n.push([i,this.data.get(i)]),this.data.delete(i),this.expirationMap.delete(i);for(let[i,o]of n)this.dispose(o,i,"evict")}else{let n=this.size-this.max,i=[];for(let o of r.splice(0,n))i.push([o,this.data.get(o)]),this.data.delete(o),this.expirationMap.delete(o);for(let[o,s]of i)this.dispose(s,o,"evict");return}}}get size(){return this.data.size}purgeStale(){let e=Math.ceil(Qr());for(let r in this.expirations){if(r==="Infinity"||r>e)return;let n=[...this.expirations[r]||[]],i=[];delete this.expirations[r];for(let o of n)i.push([o,this.data.get(o)]),this.data.delete(o),this.expirationMap.delete(o);for(let[o,s]of i)this.dispose(s,o,"stale")}this.size===0&&this.cancelTimer()}*entries(){for(let e in this.expirations)for(let r of this.expirations[e])yield[r,this.data.get(r)]}*keys(){for(let e in this.expirations)for(let r of this.expirations[e])yield r}*values(){for(let e in this.expirations)for(let r of this.expirations[e])yield this.data.get(r)}[Symbol.iterator](){return this.entries()}};zs.exports=hi});var ha=w(da=>{"use strict";da.supports=function(...e){let r=e.reduce((n,i)=>Object.assign(n,i),{});return Object.assign(r,{snapshots:r.snapshots||!1,permanence:r.permanence||!1,seek:r.seek||!1,clear:r.clear||!1,getMany:r.getMany||!1,keyIterator:r.keyIterator||!1,valueIterator:r.valueIterator||!1,iteratorNextv:r.iteratorNextv||!1,iteratorAll:r.iteratorAll||!1,status:r.status||!1,createIfMissing:r.createIfMissing||!1,errorIfExists:r.errorIfExists||!1,deferredOpen:r.deferredOpen||!1,promises:r.promises||!1,streams:r.streams||!1,encodings:Object.assign({},r.encodings),events:Object.assign({},r.events),additionalMethods:Object.assign({},r.additionalMethods)})}});var ae=w((NE,pa)=>{"use strict";pa.exports=class extends Error{constructor(e,r){super(e||""),typeof r=="object"&&r!==null&&(r.code&&(this.code=String(r.code)),r.expected&&(this.expected=!0),r.transient&&(this.transient=!0),r.cause&&(this.cause=r.cause)),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}});var wa=w(rn=>{"use strict";rn.byteLength=kd;rn.toByteArray=Dd;rn.fromByteArray=Fd;var he=[],ee=[],Nd=typeof Uint8Array<"u"?Uint8Array:Array,Ii="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(at=0,ya=Ii.length;at<ya;++at)he[at]=Ii[at],ee[Ii.charCodeAt(at)]=at;var at,ya;ee[45]=62;ee[95]=63;function ba(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function kd(t){var e=ba(t),r=e[0],n=e[1];return(r+n)*3/4-n}function Md(t,e,r){return(e+r)*3/4-r}function Dd(t){var e,r=ba(t),n=r[0],i=r[1],o=new Nd(Md(t,n,i)),s=0,a=i>0?n-4:n,f;for(f=0;f<a;f+=4)e=ee[t.charCodeAt(f)]<<18|ee[t.charCodeAt(f+1)]<<12|ee[t.charCodeAt(f+2)]<<6|ee[t.charCodeAt(f+3)],o[s++]=e>>16&255,o[s++]=e>>8&255,o[s++]=e&255;return i===2&&(e=ee[t.charCodeAt(f)]<<2|ee[t.charCodeAt(f+1)]>>4,o[s++]=e&255),i===1&&(e=ee[t.charCodeAt(f)]<<10|ee[t.charCodeAt(f+1)]<<4|ee[t.charCodeAt(f+2)]>>2,o[s++]=e>>8&255,o[s++]=e&255),o}function Ud(t){return he[t>>18&63]+he[t>>12&63]+he[t>>6&63]+he[t&63]}function Pd(t,e,r){for(var n,i=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(t[o+2]&255),i.push(Ud(n));return i.join("")}function Fd(t){for(var e,r=t.length,n=r%3,i=[],o=16383,s=0,a=r-n;s<a;s+=o)i.push(Pd(t,s,s+o>a?a:s+o));return n===1?(e=t[r-1],i.push(he[e>>2]+he[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(he[e>>10]+he[e>>4&63]+he[e<<2&63]+"=")),i.join("")}});var ga=w(vi=>{vi.read=function(t,e,r,n,i){var o,s,a=i*8-n-1,f=(1<<a)-1,u=f>>1,l=-7,c=r?i-1:0,y=r?-1:1,h=t[e+c];for(c+=y,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=o*256+t[e+c],c+=y,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=n;l>0;s=s*256+t[e+c],c+=y,l-=8);if(o===0)o=1-u;else{if(o===f)return s?NaN:(h?-1:1)*(1/0);s=s+Math.pow(2,n),o=o-u}return(h?-1:1)*s*Math.pow(2,o-n)};vi.write=function(t,e,r,n,i,o){var s,a,f,u=o*8-i-1,l=(1<<u)-1,c=l>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,b=n?1:-1,p=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=l):(s=Math.floor(Math.log(e)/Math.LN2),e*(f=Math.pow(2,-s))<1&&(s--,f*=2),s+c>=1?e+=y/f:e+=y*Math.pow(2,1-c),e*f>=2&&(s++,f/=2),s+c>=l?(a=0,s=l):s+c>=1?(a=(e*f-1)*Math.pow(2,i),s=s+c):(a=e*Math.pow(2,c-1)*Math.pow(2,i),s=0));i>=8;t[r+h]=a&255,h+=b,a/=256,i-=8);for(s=s<<i|a,u+=i;u>0;t[r+h]=s&255,h+=b,s/=256,u-=8);t[r+h-b]|=p*128}});var te=w($t=>{"use strict";var Li=wa(),Ft=ga(),ma=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;$t.Buffer=d;$t.SlowBuffer=Kd;$t.INSPECT_MAX_BYTES=50;var nn=2147483647;$t.kMaxLength=nn;d.TYPED_ARRAY_SUPPORT=qd();!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function qd(){try{let t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}});Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function Le(t){if(t>nn)throw new RangeError('The value "'+t+'" is invalid for option "size"');let e=new Uint8Array(t);return Object.setPrototypeOf(e,d.prototype),e}function d(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Ni(t)}return Sa(t,e,r)}d.poolSize=8192;function Sa(t,e,r){if(typeof t=="string")return Wd(t,e);if(ArrayBuffer.isView(t))return jd(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(pe(t,ArrayBuffer)||t&&pe(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(pe(t,SharedArrayBuffer)||t&&pe(t.buffer,SharedArrayBuffer)))return Oi(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return d.from(n,e,r);let i=Vd(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return d.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}d.from=function(t,e,r){return Sa(t,e,r)};Object.setPrototypeOf(d.prototype,Uint8Array.prototype);Object.setPrototypeOf(d,Uint8Array);function Aa(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function $d(t,e,r){return Aa(t),t<=0?Le(t):e!==void 0?typeof r=="string"?Le(t).fill(e,r):Le(t).fill(e):Le(t)}d.alloc=function(t,e,r){return $d(t,e,r)};function Ni(t){return Aa(t),Le(t<0?0:ki(t)|0)}d.allocUnsafe=function(t){return Ni(t)};d.allocUnsafeSlow=function(t){return Ni(t)};function Wd(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!d.isEncoding(e))throw new TypeError("Unknown encoding: "+e);let r=Ta(t,e)|0,n=Le(r),i=n.write(t,e);return i!==r&&(n=n.slice(0,i)),n}function Bi(t){let e=t.length<0?0:ki(t.length)|0,r=Le(e);for(let n=0;n<e;n+=1)r[n]=t[n]&255;return r}function jd(t){if(pe(t,Uint8Array)){let e=new Uint8Array(t);return Oi(e.buffer,e.byteOffset,e.byteLength)}return Bi(t)}function Oi(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,d.prototype),n}function Vd(t){if(d.isBuffer(t)){let e=ki(t.length)|0,r=Le(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||Di(t.length)?Le(0):Bi(t);if(t.type==="Buffer"&&Array.isArray(t.data))return Bi(t.data)}function ki(t){if(t>=nn)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+nn.toString(16)+" bytes");return t|0}function Kd(t){return+t!=t&&(t=0),d.alloc(+t)}d.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==d.prototype};d.compare=function(e,r){if(pe(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),pe(r,Uint8Array)&&(r=d.from(r,r.offset,r.byteLength)),!d.isBuffer(e)||!d.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let n=e.length,i=r.length;for(let o=0,s=Math.min(n,i);o<s;++o)if(e[o]!==r[o]){n=e[o],i=r[o];break}return n<i?-1:i<n?1:0};d.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};d.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return d.alloc(0);let n;if(r===void 0)for(r=0,n=0;n<e.length;++n)r+=e[n].length;let i=d.allocUnsafe(r),o=0;for(n=0;n<e.length;++n){let s=e[n];if(pe(s,Uint8Array))o+s.length>i.length?(d.isBuffer(s)||(s=d.from(s)),s.copy(i,o)):Uint8Array.prototype.set.call(i,s,o);else if(d.isBuffer(s))s.copy(i,o);else throw new TypeError('"list" argument must be an Array of Buffers');o+=s.length}return i};function Ta(t,e){if(d.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||pe(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);let r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Ci(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return ka(t).length;default:if(i)return n?-1:Ci(t).length;e=(""+e).toLowerCase(),i=!0}}d.byteLength=Ta;function Gd(t,e,r){let n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return rh(this,e,r);case"utf8":case"utf-8":return Ia(this,e,r);case"ascii":return eh(this,e,r);case"latin1":case"binary":return th(this,e,r);case"base64":return Zd(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nh(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}d.prototype._isBuffer=!0;function ut(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}d.prototype.swap16=function(){let e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)ut(this,r,r+1);return this};d.prototype.swap32=function(){let e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)ut(this,r,r+3),ut(this,r+1,r+2);return this};d.prototype.swap64=function(){let e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)ut(this,r,r+7),ut(this,r+1,r+6),ut(this,r+2,r+5),ut(this,r+3,r+4);return this};d.prototype.toString=function(){let e=this.length;return e===0?"":arguments.length===0?Ia(this,0,e):Gd.apply(this,arguments)};d.prototype.toLocaleString=d.prototype.toString;d.prototype.equals=function(e){if(!d.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:d.compare(this,e)===0};d.prototype.inspect=function(){let e="",r=$t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"};ma&&(d.prototype[ma]=d.prototype.inspect);d.prototype.compare=function(e,r,n,i,o){if(pe(e,Uint8Array)&&(e=d.from(e,e.offset,e.byteLength)),!d.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),n===void 0&&(n=e?e.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),r<0||n>e.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&r>=n)return 0;if(i>=o)return-1;if(r>=n)return 1;if(r>>>=0,n>>>=0,i>>>=0,o>>>=0,this===e)return 0;let s=o-i,a=n-r,f=Math.min(s,a),u=this.slice(i,o),l=e.slice(r,n);for(let c=0;c<f;++c)if(u[c]!==l[c]){s=u[c],a=l[c];break}return s<a?-1:a<s?1:0};function Ra(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Di(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0)if(i)r=0;else return-1;if(typeof e=="string"&&(e=d.from(e,n)),d.isBuffer(e))return e.length===0?-1:Ea(t,e,r,n,i);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):Ea(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function Ea(t,e,r,n,i){let o=1,s=t.length,a=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,s/=2,a/=2,r/=2}function f(l,c){return o===1?l[c]:l.readUInt16BE(c*o)}let u;if(i){let l=-1;for(u=r;u<s;u++)if(f(t,u)===f(e,l===-1?0:u-l)){if(l===-1&&(l=u),u-l+1===a)return l*o}else l!==-1&&(u-=u-l),l=-1}else for(r+a>s&&(r=s-a),u=r;u>=0;u--){let l=!0;for(let c=0;c<a;c++)if(f(t,u+c)!==f(e,c)){l=!1;break}if(l)return u}return-1}d.prototype.includes=function(e,r,n){return this.indexOf(e,r,n)!==-1};d.prototype.indexOf=function(e,r,n){return Ra(this,e,r,n,!0)};d.prototype.lastIndexOf=function(e,r,n){return Ra(this,e,r,n,!1)};function Hd(t,e,r,n){r=Number(r)||0;let i=t.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;let o=e.length;n>o/2&&(n=o/2);let s;for(s=0;s<n;++s){let a=parseInt(e.substr(s*2,2),16);if(Di(a))return s;t[r+s]=a}return s}function zd(t,e,r,n){return on(Ci(e,t.length-r),t,r,n)}function Yd(t,e,r,n){return on(ah(e),t,r,n)}function Jd(t,e,r,n){return on(ka(e),t,r,n)}function Xd(t,e,r,n){return on(uh(e,t.length-r),t,r,n)}d.prototype.write=function(e,r,n,i){if(r===void 0)i="utf8",n=this.length,r=0;else if(n===void 0&&typeof r=="string")i=r,n=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(n)?(n=n>>>0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let o=this.length-r;if((n===void 0||n>o)&&(n=o),e.length>0&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");let s=!1;for(;;)switch(i){case"hex":return Hd(this,e,r,n);case"utf8":case"utf-8":return zd(this,e,r,n);case"ascii":case"latin1":case"binary":return Yd(this,e,r,n);case"base64":return Jd(this,e,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Xd(this,e,r,n);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),s=!0}};d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Zd(t,e,r){return e===0&&r===t.length?Li.fromByteArray(t):Li.fromByteArray(t.slice(e,r))}function Ia(t,e,r){r=Math.min(t.length,r);let n=[],i=e;for(;i<r;){let o=t[i],s=null,a=o>239?4:o>223?3:o>191?2:1;if(i+a<=r){let f,u,l,c;switch(a){case 1:o<128&&(s=o);break;case 2:f=t[i+1],(f&192)===128&&(c=(o&31)<<6|f&63,c>127&&(s=c));break;case 3:f=t[i+1],u=t[i+2],(f&192)===128&&(u&192)===128&&(c=(o&15)<<12|(f&63)<<6|u&63,c>2047&&(c<55296||c>57343)&&(s=c));break;case 4:f=t[i+1],u=t[i+2],l=t[i+3],(f&192)===128&&(u&192)===128&&(l&192)===128&&(c=(o&15)<<18|(f&63)<<12|(u&63)<<6|l&63,c>65535&&c<1114112&&(s=c))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),i+=a}return Qd(n)}var _a=4096;function Qd(t){let e=t.length;if(e<=_a)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=_a));return r}function eh(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]&127);return n}function th(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function rh(t,e,r){let n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=e;o<r;++o)i+=fh[t[o]];return i}function nh(t,e,r){let n=t.slice(e,r),i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}d.prototype.slice=function(e,r){let n=this.length;e=~~e,r=r===void 0?n:~~r,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),r<0?(r+=n,r<0&&(r=0)):r>n&&(r=n),r<e&&(r=e);let i=this.subarray(e,r);return Object.setPrototypeOf(i,d.prototype),i};function P(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||P(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return i};d.prototype.readUintBE=d.prototype.readUIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||P(e,r,this.length);let i=this[e+--r],o=1;for(;r>0&&(o*=256);)i+=this[e+--r]*o;return i};d.prototype.readUint8=d.prototype.readUInt8=function(e,r){return e=e>>>0,r||P(e,1,this.length),this[e]};d.prototype.readUint16LE=d.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||P(e,2,this.length),this[e]|this[e+1]<<8};d.prototype.readUint16BE=d.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||P(e,2,this.length),this[e]<<8|this[e+1]};d.prototype.readUint32LE=d.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};d.prototype.readUint32BE=d.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||P(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};d.prototype.readBigUInt64LE=Ve(function(e){e=e>>>0,qt(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&wr(e,this.length-8);let i=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,o=this[++e]+this[++e]*2**8+this[++e]*2**16+n*2**24;return BigInt(i)+(BigInt(o)<<BigInt(32))});d.prototype.readBigUInt64BE=Ve(function(e){e=e>>>0,qt(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&wr(e,this.length-8);let i=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],o=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n;return(BigInt(i)<<BigInt(32))+BigInt(o)});d.prototype.readIntLE=function(e,r,n){e=e>>>0,r=r>>>0,n||P(e,r,this.length);let i=this[e],o=1,s=0;for(;++s<r&&(o*=256);)i+=this[e+s]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*r)),i};d.prototype.readIntBE=function(e,r,n){e=e>>>0,r=r>>>0,n||P(e,r,this.length);let i=r,o=1,s=this[e+--i];for(;i>0&&(o*=256);)s+=this[e+--i]*o;return o*=128,s>=o&&(s-=Math.pow(2,8*r)),s};d.prototype.readInt8=function(e,r){return e=e>>>0,r||P(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};d.prototype.readInt16LE=function(e,r){e=e>>>0,r||P(e,2,this.length);let n=this[e]|this[e+1]<<8;return n&32768?n|4294901760:n};d.prototype.readInt16BE=function(e,r){e=e>>>0,r||P(e,2,this.length);let n=this[e+1]|this[e]<<8;return n&32768?n|4294901760:n};d.prototype.readInt32LE=function(e,r){return e=e>>>0,r||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};d.prototype.readInt32BE=function(e,r){return e=e>>>0,r||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};d.prototype.readBigInt64LE=Ve(function(e){e=e>>>0,qt(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&wr(e,this.length-8);let i=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(n<<24);return(BigInt(i)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});d.prototype.readBigInt64BE=Ve(function(e){e=e>>>0,qt(e,"offset");let r=this[e],n=this[e+7];(r===void 0||n===void 0)&&wr(e,this.length-8);let i=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(i)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+n)});d.prototype.readFloatLE=function(e,r){return e=e>>>0,r||P(e,4,this.length),Ft.read(this,e,!0,23,4)};d.prototype.readFloatBE=function(e,r){return e=e>>>0,r||P(e,4,this.length),Ft.read(this,e,!1,23,4)};d.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||P(e,8,this.length),Ft.read(this,e,!0,52,8)};d.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||P(e,8,this.length),Ft.read(this,e,!1,52,8)};function Y(t,e,r,n,i,o){if(!d.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;Y(this,e,r,n,a,0)}let o=1,s=0;for(this[r]=e&255;++s<n&&(o*=256);)this[r+s]=e/o&255;return r+n};d.prototype.writeUintBE=d.prototype.writeUIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,n=n>>>0,!i){let a=Math.pow(2,8*n)-1;Y(this,e,r,n,a,0)}let o=n-1,s=1;for(this[r+o]=e&255;--o>=0&&(s*=256);)this[r+o]=e/s&255;return r+n};d.prototype.writeUint8=d.prototype.writeUInt8=function(e,r,n){return e=+e,r=r>>>0,n||Y(this,e,r,1,255,0),this[r]=e&255,r+1};d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Y(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2};d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Y(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2};d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Y(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4};d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Y(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function va(t,e,r,n,i){Na(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o,o=o>>8,t[r++]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,s=s>>8,t[r++]=s,r}function La(t,e,r,n,i){Na(e,n,i,t,r,7);let o=Number(e&BigInt(4294967295));t[r+7]=o,o=o>>8,t[r+6]=o,o=o>>8,t[r+5]=o,o=o>>8,t[r+4]=o;let s=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=s,s=s>>8,t[r+2]=s,s=s>>8,t[r+1]=s,s=s>>8,t[r]=s,r+8}d.prototype.writeBigUInt64LE=Ve(function(e,r=0){return va(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});d.prototype.writeBigUInt64BE=Ve(function(e,r=0){return La(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))});d.prototype.writeIntLE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let f=Math.pow(2,8*n-1);Y(this,e,r,n,f-1,-f)}let o=0,s=1,a=0;for(this[r]=e&255;++o<n&&(s*=256);)e<0&&a===0&&this[r+o-1]!==0&&(a=1),this[r+o]=(e/s>>0)-a&255;return r+n};d.prototype.writeIntBE=function(e,r,n,i){if(e=+e,r=r>>>0,!i){let f=Math.pow(2,8*n-1);Y(this,e,r,n,f-1,-f)}let o=n-1,s=1,a=0;for(this[r+o]=e&255;--o>=0&&(s*=256);)e<0&&a===0&&this[r+o+1]!==0&&(a=1),this[r+o]=(e/s>>0)-a&255;return r+n};d.prototype.writeInt8=function(e,r,n){return e=+e,r=r>>>0,n||Y(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1};d.prototype.writeInt16LE=function(e,r,n){return e=+e,r=r>>>0,n||Y(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2};d.prototype.writeInt16BE=function(e,r,n){return e=+e,r=r>>>0,n||Y(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2};d.prototype.writeInt32LE=function(e,r,n){return e=+e,r=r>>>0,n||Y(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4};d.prototype.writeInt32BE=function(e,r,n){return e=+e,r=r>>>0,n||Y(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};d.prototype.writeBigInt64LE=Ve(function(e,r=0){return va(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});d.prototype.writeBigInt64BE=Ve(function(e,r=0){return La(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ba(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function Oa(t,e,r,n,i){return e=+e,r=r>>>0,i||Ba(t,e,r,4,34028234663852886e22,-34028234663852886e22),Ft.write(t,e,r,n,23,4),r+4}d.prototype.writeFloatLE=function(e,r,n){return Oa(this,e,r,!0,n)};d.prototype.writeFloatBE=function(e,r,n){return Oa(this,e,r,!1,n)};function Ca(t,e,r,n,i){return e=+e,r=r>>>0,i||Ba(t,e,r,8,17976931348623157e292,-17976931348623157e292),Ft.write(t,e,r,n,52,8),r+8}d.prototype.writeDoubleLE=function(e,r,n){return Ca(this,e,r,!0,n)};d.prototype.writeDoubleBE=function(e,r,n){return Ca(this,e,r,!1,n)};d.prototype.copy=function(e,r,n,i){if(!d.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!i&&i!==0&&(i=this.length),r>=e.length&&(r=e.length),r||(r=0),i>0&&i<n&&(i=n),i===n||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-r<i-n&&(i=e.length-r+n);let o=i-n;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,n,i):Uint8Array.prototype.set.call(e,this.subarray(n,i),r),o};d.prototype.fill=function(e,r,n,i){if(typeof e=="string"){if(typeof r=="string"?(i=r,r=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!d.isEncoding(i))throw new TypeError("Unknown encoding: "+i);if(e.length===1){let s=e.charCodeAt(0);(i==="utf8"&&s<128||i==="latin1")&&(e=s)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(n<=r)return this;r=r>>>0,n=n===void 0?this.length:n>>>0,e||(e=0);let o;if(typeof e=="number")for(o=r;o<n;++o)this[o]=e;else{let s=d.isBuffer(e)?e:d.from(e,i),a=s.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-r;++o)this[o+r]=s[o%a]}return this};var Pt={};function Mi(t,e,r){Pt[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(i){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:i,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}Mi("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);Mi("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError);Mi("ERR_OUT_OF_RANGE",function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=xa(String(r)):typeof r=="bigint"&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=xa(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n},RangeError);function xa(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function ih(t,e,r){qt(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&wr(e,t.length-(r+1))}function Na(t,e,r,n,i,o){if(t>r||t<e){let s=typeof e=="bigint"?"n":"",a;throw o>3?e===0||e===BigInt(0)?a=`>= 0${s} and < 2${s} ** ${(o+1)*8}${s}`:a=`>= -(2${s} ** ${(o+1)*8-1}${s}) and < 2 ** ${(o+1)*8-1}${s}`:a=`>= ${e}${s} and <= ${r}${s}`,new Pt.ERR_OUT_OF_RANGE("value",a,t)}ih(n,i,o)}function qt(t,e){if(typeof t!="number")throw new Pt.ERR_INVALID_ARG_TYPE(e,"number",t)}function wr(t,e,r){throw Math.floor(t)!==t?(qt(t,r),new Pt.ERR_OUT_OF_RANGE(r||"offset","an integer",t)):e<0?new Pt.ERR_BUFFER_OUT_OF_BOUNDS:new Pt.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}var oh=/[^+/0-9A-Za-z-_]/g;function sh(t){if(t=t.split("=")[0],t=t.trim().replace(oh,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function Ci(t,e){e=e||1/0;let r,n=t.length,i=null,o=[];for(let s=0;s<n;++s){if(r=t.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}else if(s+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return o}function ah(t){let e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function uh(t,e){let r,n,i,o=[];for(let s=0;s<t.length&&!((e-=2)<0);++s)r=t.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}function ka(t){return Li.toByteArray(sh(t))}function on(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function pe(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Di(t){return t!==t}var fh=function(){let t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){let n=r*16;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Ve(t){return typeof BigInt>"u"?lh:t}function lh(){throw new Error("BigInt not supported")}});var Pi=w((PE,Ma)=>{"use strict";var Ui=null;Ma.exports=function(){return Ui===null&&(Ui={textEncoder:new TextEncoder,textDecoder:new TextDecoder}),Ui}});var $i=w(Da=>{"use strict";var Fi=ae(),ch=new Set(["buffer","view","utf8"]),qi=class{constructor(e){if(this.encode=e.encode||this.encode,this.decode=e.decode||this.decode,this.name=e.name||this.name,this.format=e.format||this.format,typeof this.encode!="function")throw new TypeError("The 'encode' property must be a function");if(typeof this.decode!="function")throw new TypeError("The 'decode' property must be a function");if(this.encode=this.encode.bind(this),this.decode=this.decode.bind(this),typeof this.name!="string"||this.name==="")throw new TypeError("The 'name' property must be a string");if(typeof this.format!="string"||!ch.has(this.format))throw new TypeError("The 'format' property must be one of 'buffer', 'view', 'utf8'");e.createViewTranscoder&&(this.createViewTranscoder=e.createViewTranscoder),e.createBufferTranscoder&&(this.createBufferTranscoder=e.createBufferTranscoder),e.createUTF8Transcoder&&(this.createUTF8Transcoder=e.createUTF8Transcoder)}get commonName(){return this.name.split("+")[0]}createBufferTranscoder(){throw new Fi(`Encoding '${this.name}' cannot be transcoded to 'buffer'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createViewTranscoder(){throw new Fi(`Encoding '${this.name}' cannot be transcoded to 'view'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}createUTF8Transcoder(){throw new Fi(`Encoding '${this.name}' cannot be transcoded to 'utf8'`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"})}};Da.Encoding=qi});var Ki=w(sn=>{"use strict";var{Buffer:ji}=te()||{},{Encoding:Vi}=$i(),dh=Pi(),gr=class extends Vi{constructor(e){super({...e,format:"buffer"})}createViewTranscoder(){return new mr({encode:this.encode,decode:e=>this.decode(ji.from(e.buffer,e.byteOffset,e.byteLength)),name:`${this.name}+view`})}createBufferTranscoder(){return this}},mr=class extends Vi{constructor(e){super({...e,format:"view"})}createBufferTranscoder(){return new gr({encode:e=>{let r=this.encode(e);return ji.from(r.buffer,r.byteOffset,r.byteLength)},decode:this.decode,name:`${this.name}+buffer`})}createViewTranscoder(){return this}},Wi=class extends Vi{constructor(e){super({...e,format:"utf8"})}createBufferTranscoder(){return new gr({encode:e=>ji.from(this.encode(e),"utf8"),decode:e=>this.decode(e.toString("utf8")),name:`${this.name}+buffer`})}createViewTranscoder(){let{textEncoder:e,textDecoder:r}=dh();return new mr({encode:n=>e.encode(this.encode(n)),decode:n=>this.decode(r.decode(n)),name:`${this.name}+view`})}createUTF8Transcoder(){return this}};sn.BufferFormat=gr;sn.ViewFormat=mr;sn.UTF8Format=Wi});var qa=w(ft=>{"use strict";var{Buffer:W}=te()||{Buffer:{isBuffer:()=>!1}},{textEncoder:Pa,textDecoder:Ua}=Pi()(),{BufferFormat:Er,ViewFormat:Gi,UTF8Format:Fa}=Ki(),an=t=>t;ft.utf8=new Fa({encode:function(t){return W.isBuffer(t)?t.toString("utf8"):ArrayBuffer.isView(t)?Ua.decode(t):String(t)},decode:an,name:"utf8",createViewTranscoder(){return new Gi({encode:function(t){return ArrayBuffer.isView(t)?t:Pa.encode(t)},decode:function(t){return Ua.decode(t)},name:`${this.name}+view`})},createBufferTranscoder(){return new Er({encode:function(t){return W.isBuffer(t)?t:ArrayBuffer.isView(t)?W.from(t.buffer,t.byteOffset,t.byteLength):W.from(String(t),"utf8")},decode:function(t){return t.toString("utf8")},name:`${this.name}+buffer`})}});ft.json=new Fa({encode:JSON.stringify,decode:JSON.parse,name:"json"});ft.buffer=new Er({encode:function(t){return W.isBuffer(t)?t:ArrayBuffer.isView(t)?W.from(t.buffer,t.byteOffset,t.byteLength):W.from(String(t),"utf8")},decode:an,name:"buffer",createViewTranscoder(){return new Gi({encode:function(t){return ArrayBuffer.isView(t)?t:W.from(String(t),"utf8")},decode:function(t){return W.from(t.buffer,t.byteOffset,t.byteLength)},name:`${this.name}+view`})}});ft.view=new Gi({encode:function(t){return ArrayBuffer.isView(t)?t:Pa.encode(t)},decode:an,name:"view",createBufferTranscoder(){return new Er({encode:function(t){return W.isBuffer(t)?t:ArrayBuffer.isView(t)?W.from(t.buffer,t.byteOffset,t.byteLength):W.from(String(t),"utf8")},decode:an,name:`${this.name}+buffer`})}});ft.hex=new Er({encode:function(t){return W.isBuffer(t)?t:W.from(String(t),"hex")},decode:function(t){return t.toString("hex")},name:"hex"});ft.base64=new Er({encode:function(t){return W.isBuffer(t)?t:W.from(String(t),"base64")},decode:function(t){return t.toString("base64")},name:"base64"})});var ja=w(Wa=>{"use strict";var $a=ae(),fn=qa(),{Encoding:hh}=$i(),{BufferFormat:ph,ViewFormat:yh,UTF8Format:bh}=Ki(),_r=Symbol("formats"),un=Symbol("encodings"),wh=new Set(["buffer","view","utf8"]),Hi=class{constructor(e){if(Array.isArray(e)){if(!e.every(r=>wh.has(r)))throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}else throw new TypeError("The first argument 'formats' must be an array");this[un]=new Map,this[_r]=new Set(e);for(let r in fn)try{this.encoding(r)}catch(n){if(n.code!=="LEVEL_ENCODING_NOT_SUPPORTED")throw n}}encodings(){return Array.from(new Set(this[un].values()))}encoding(e){let r=this[un].get(e);if(r===void 0){if(typeof e=="string"&&e!==""){if(r=_h[e],!r)throw new $a(`Encoding '${e}' is not found`,{code:"LEVEL_ENCODING_NOT_FOUND"})}else{if(typeof e!="object"||e===null)throw new TypeError("First argument 'encoding' must be a string or object");r=gh(e)}let{name:n,format:i}=r;if(!this[_r].has(i))if(this[_r].has("view"))r=r.createViewTranscoder();else if(this[_r].has("buffer"))r=r.createBufferTranscoder();else if(this[_r].has("utf8"))r=r.createUTF8Transcoder();else throw new $a(`Encoding '${n}' cannot be transcoded`,{code:"LEVEL_ENCODING_NOT_SUPPORTED"});for(let o of[e,n,r.name,r.commonName])this[un].set(o,r)}return r}};Wa.Transcoder=Hi;function gh(t){if(t instanceof hh)return t;let e="type"in t&&typeof t.type=="string"?t.type:void 0,r=t.name||e||`anonymous-${xh++}`;switch(mh(t)){case"view":return new yh({...t,name:r});case"utf8":return new bh({...t,name:r});case"buffer":return new ph({...t,name:r});default:throw new TypeError("Format must be one of 'buffer', 'view', 'utf8'")}}function mh(t){return"format"in t&&t.format!==void 0?t.format:"buffer"in t&&typeof t.buffer=="boolean"?t.buffer?"buffer":"utf8":"code"in t&&Number.isInteger(t.code)?"view":"buffer"}var Eh={binary:fn.buffer,"utf-8":fn.utf8},_h={...fn,...Eh},xh=0});var jt=w((jE,zi)=>{"use strict";var Wt=typeof Reflect=="object"?Reflect:null,Va=Wt&&typeof Wt.apply=="function"?Wt.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},ln;Wt&&typeof Wt.ownKeys=="function"?ln=Wt.ownKeys:Object.getOwnPropertySymbols?ln=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ln=function(e){return Object.getOwnPropertyNames(e)};function Sh(t){console&&console.warn&&console.warn(t)}var Ga=Number.isNaN||function(e){return e!==e};function v(){v.init.call(this)}zi.exports=v;zi.exports.once=Ih;v.EventEmitter=v;v.prototype._events=void 0;v.prototype._eventsCount=0;v.prototype._maxListeners=void 0;var Ka=10;function cn(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(v,"defaultMaxListeners",{enumerable:!0,get:function(){return Ka},set:function(t){if(typeof t!="number"||t<0||Ga(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Ka=t}});v.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};v.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Ga(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Ha(t){return t._maxListeners===void 0?v.defaultMaxListeners:t._maxListeners}v.prototype.getMaxListeners=function(){return Ha(this)};v.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",o=this._events;if(o!==void 0)i=i&&o.error===void 0;else if(!i)return!1;if(i){var s;if(r.length>0&&(s=r[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var f=o[e];if(f===void 0)return!1;if(typeof f=="function")Va(f,this,r);else for(var u=f.length,l=Za(f,u),n=0;n<u;++n)Va(l[n],this,r);return!0};function za(t,e,r,n){var i,o,s;if(cn(r),o=t._events,o===void 0?(o=t._events=Object.create(null),t._eventsCount=0):(o.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),o=t._events),s=o[e]),s===void 0)s=o[e]=r,++t._eventsCount;else if(typeof s=="function"?s=o[e]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),i=Ha(t),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,Sh(a)}return t}v.prototype.addListener=function(e,r){return za(this,e,r,!1)};v.prototype.on=v.prototype.addListener;v.prototype.prependListener=function(e,r){return za(this,e,r,!0)};function Ah(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ya(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=Ah.bind(n);return i.listener=r,n.wrapFn=i,i}v.prototype.once=function(e,r){return cn(r),this.on(e,Ya(this,e,r)),this};v.prototype.prependOnceListener=function(e,r){return cn(r),this.prependListener(e,Ya(this,e,r)),this};v.prototype.removeListener=function(e,r){var n,i,o,s,a;if(cn(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(o=-1,s=n.length-1;s>=0;s--)if(n[s]===r||n[s].listener===r){a=n[s].listener,o=s;break}if(o<0)return this;o===0?n.shift():Th(n,o),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};v.prototype.off=v.prototype.removeListener;v.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var o=Object.keys(n),s;for(i=0;i<o.length;++i)s=o[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function Ja(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?Rh(i):Za(i,i.length)}v.prototype.listeners=function(e){return Ja(this,e,!0)};v.prototype.rawListeners=function(e){return Ja(this,e,!1)};v.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):Xa.call(t,e)};v.prototype.listenerCount=Xa;function Xa(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}v.prototype.eventNames=function(){return this._eventsCount>0?ln(this._events):[]};function Za(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function Th(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Rh(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function Ih(t,e){return new Promise(function(r,n){function i(s){t.removeListener(e,o),n(s)}function o(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}Qa(t,e,o,{once:!0}),e!=="error"&&vh(t,i,{once:!0})})}function vh(t,e,r){typeof t.on=="function"&&Qa(t,"error",e,r)}function Qa(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(o){n.once&&t.removeEventListener(e,i),r(o)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}});var tu=w((VE,eu)=>{eu.exports=typeof queueMicrotask=="function"?queueMicrotask:t=>Promise.resolve().then(t)});var xr=w(Yi=>{"use strict";var ru=tu();Yi.fromCallback=function(t,e){if(t===void 0){var r=new Promise(function(n,i){t=function(o,s){o?i(o):n(s)}});t[e!==void 0?e:"promise"]=r}else if(typeof t!="function")throw new TypeError("Callback must be a function");return t};Yi.fromPromise=function(t,e){if(e===void 0)return t;t.then(function(r){ru(()=>e(null,r))}).catch(function(r){ru(()=>e(r))})}});var dn=w(Ji=>{"use strict";Ji.getCallback=function(t,e){return typeof t=="function"?t:e};Ji.getOptions=function(t,e){return typeof t=="object"&&t!==null?t:e!==void 0?e:{}}});var Je=w(bn=>{"use strict";var{fromCallback:Xi}=xr(),X=ae(),{getOptions:Zi,getCallback:nu}=dn(),lt=Symbol("promise"),Vt=Symbol("callback"),ye=Symbol("working"),ct=Symbol("handleOne"),Be=Symbol("handleMany"),Qi=Symbol("autoClose"),ze=Symbol("finishWork"),be=Symbol("returnMany"),Ke=Symbol("closing"),Sr=Symbol("handleClose"),hn=Symbol("closed"),Ar=Symbol("closeCallbacks"),He=Symbol("keyEncoding"),dt=Symbol("valueEncoding"),eo=Symbol("abortOnClose"),pn=Symbol("legacy"),to=Symbol("keys"),ro=Symbol("values"),Ge=Symbol("limit"),re=Symbol("count"),yn=Object.freeze({}),Lh=()=>{},iu=!1,Tr=class{constructor(e,r,n){if(typeof e!="object"||e===null){let i=e===null?"null":typeof e;throw new TypeError(`The first argument must be an abstract-level database, received ${i}`)}if(typeof r!="object"||r===null)throw new TypeError("The second argument must be an options object");this[hn]=!1,this[Ar]=[],this[ye]=!1,this[Ke]=!1,this[Qi]=!1,this[Vt]=null,this[ct]=this[ct].bind(this),this[Be]=this[Be].bind(this),this[Sr]=this[Sr].bind(this),this[He]=r[He],this[dt]=r[dt],this[pn]=n,this[Ge]=Number.isInteger(r.limit)&&r.limit>=0?r.limit:1/0,this[re]=0,this[eo]=!!r.abortOnClose,this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get count(){return this[re]}get limit(){return this[Ge]}next(e){let r;if(e===void 0)r=new Promise((n,i)=>{e=(o,s,a)=>{o?i(o):this[pn]?s===void 0&&a===void 0?n():n([s,a]):n(s)}});else if(typeof e!="function")throw new TypeError("Callback must be a function");return this[Ke]?this.nextTick(e,new X("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[ye]?this.nextTick(e,new X("Iterator is busy: cannot call next() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[ye]=!0,this[Vt]=e,this[re]>=this[Ge]?this.nextTick(this[ct],null):this._next(this[ct])),r}_next(e){this.nextTick(e)}nextv(e,r,n){return n=nu(r,n),n=Xi(n,lt),r=Zi(r,yn),Number.isInteger(e)?(this[Ke]?this.nextTick(n,new X("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[ye]?this.nextTick(n,new X("Iterator is busy: cannot call nextv() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(e<1&&(e=1),this[Ge]<1/0&&(e=Math.min(e,this[Ge]-this[re])),this[ye]=!0,this[Vt]=n,e<=0?this.nextTick(this[Be],null,[]):this._nextv(e,r,this[Be])),n[lt]):(this.nextTick(n,new TypeError("The first argument 'size' must be an integer")),n[lt])}_nextv(e,r,n){let i=[],o=(s,a,f)=>{if(s)return n(s);if(this[pn]?a===void 0&&f===void 0:a===void 0)return n(null,i);i.push(this[pn]?[a,f]:a),i.length===e?n(null,i):this._next(o)};this._next(o)}all(e,r){return r=nu(e,r),r=Xi(r,lt),e=Zi(e,yn),this[Ke]?this.nextTick(r,new X("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this[ye]?this.nextTick(r,new X("Iterator is busy: cannot call all() until previous call has completed",{code:"LEVEL_ITERATOR_BUSY"})):(this[ye]=!0,this[Vt]=r,this[Qi]=!0,this[re]>=this[Ge]?this.nextTick(this[Be],null,[]):this._all(e,this[Be])),r[lt]}_all(e,r){let n=this[re],i=[],o=()=>{let a=this[Ge]<1/0?Math.min(1e3,this[Ge]-n):1e3;a<=0?this.nextTick(r,null,i):this._nextv(a,yn,s)},s=(a,f)=>{a?r(a):f.length===0?r(null,i):(i.push.apply(i,f),n+=f.length,o())};o()}[ze](){let e=this[Vt];return this[eo]&&e===null?Lh:(this[ye]=!1,this[Vt]=null,this[Ke]&&this._close(this[Sr]),e)}[be](e,r,n){this[Qi]?this.close(e.bind(null,r,n)):e(r,n)}seek(e,r){if(r=Zi(r,yn),!this[Ke]){if(this[ye])throw new X("Iterator is busy: cannot call seek() until next() has completed",{code:"LEVEL_ITERATOR_BUSY"});{let n=this.db.keyEncoding(r.keyEncoding||this[He]),i=n.format;r.keyEncoding!==i&&(r={...r,keyEncoding:i});let o=this.db.prefixKey(n.encode(e),i);this._seek(o,r)}}}_seek(e,r){throw new X("Iterator does not support seek()",{code:"LEVEL_NOT_SUPPORTED"})}close(e){return e=Xi(e,lt),this[hn]?this.nextTick(e):this[Ke]?this[Ar].push(e):(this[Ke]=!0,this[Ar].push(e),this[ye]?this[eo]&&this[ze]()(new X("Aborted on iterator close()",{code:"LEVEL_ITERATOR_NOT_OPEN"})):this._close(this[Sr])),e[lt]}_close(e){this.nextTick(e)}[Sr](){this[hn]=!0,this.db.detachResource(this);let e=this[Ar];this[Ar]=[];for(let r of e)r()}async*[Symbol.asyncIterator](){try{let e;for(;(e=await this.next())!==void 0;)yield e}finally{this[hn]||await this.close()}}},Kt=class extends Tr{constructor(e,r){super(e,r,!0),this[to]=r.keys!==!1,this[ro]=r.values!==!1}[ct](e,r,n){let i=this[ze]();if(e)return i(e);try{r=this[to]&&r!==void 0?this[He].decode(r):void 0,n=this[ro]&&n!==void 0?this[dt].decode(n):void 0}catch(o){return i(new Ye("entry",o))}r===void 0&&n===void 0||this[re]++,i(null,r,n)}[Be](e,r){let n=this[ze]();if(e)return this[be](n,e);try{for(let i of r){let o=i[0],s=i[1];i[0]=this[to]&&o!==void 0?this[He].decode(o):void 0,i[1]=this[ro]&&s!==void 0?this[dt].decode(s):void 0}}catch(i){return this[be](n,new Ye("entries",i))}this[re]+=r.length,this[be](n,null,r)}end(e){return!iu&&typeof console<"u"&&(iu=!0,console.warn(new X("The iterator.end() method was renamed to close() and end() is an alias that will be removed in a future version",{code:"LEVEL_LEGACY"}))),this.close(e)}},no=class extends Tr{constructor(e,r){super(e,r,!1)}[ct](e,r){let n=this[ze]();if(e)return n(e);try{r=r!==void 0?this[He].decode(r):void 0}catch(i){return n(new Ye("key",i))}r!==void 0&&this[re]++,n(null,r)}[Be](e,r){let n=this[ze]();if(e)return this[be](n,e);try{for(let i=0;i<r.length;i++){let o=r[i];r[i]=o!==void 0?this[He].decode(o):void 0}}catch(i){return this[be](n,new Ye("keys",i))}this[re]+=r.length,this[be](n,null,r)}},io=class extends Tr{constructor(e,r){super(e,r,!1)}[ct](e,r){let n=this[ze]();if(e)return n(e);try{r=r!==void 0?this[dt].decode(r):void 0}catch(i){return n(new Ye("value",i))}r!==void 0&&this[re]++,n(null,r)}[Be](e,r){let n=this[ze]();if(e)return this[be](n,e);try{for(let i=0;i<r.length;i++){let o=r[i];r[i]=o!==void 0?this[dt].decode(o):void 0}}catch(i){return this[be](n,new Ye("values",i))}this[re]+=r.length,this[be](n,null,r)}},Ye=class extends X{constructor(e,r){super(`Iterator could not decode ${e}`,{code:"LEVEL_DECODE_ERROR",cause:r})}};for(let t of["_ended property","_nexting property","_end method"])Object.defineProperty(Kt.prototype,t.split(" ")[0],{get(){throw new X(`The ${t} has been removed`,{code:"LEVEL_LEGACY"})},set(){throw new X(`The ${t} has been removed`,{code:"LEVEL_LEGACY"})}});Kt.keyEncoding=He;Kt.valueEncoding=dt;bn.AbstractIterator=Kt;bn.AbstractKeyIterator=no;bn.AbstractValueIterator=io});var ou=w(oo=>{"use strict";var{AbstractKeyIterator:Bh,AbstractValueIterator:Oh}=Je(),ht=Symbol("iterator"),Rr=Symbol("callback"),Gt=Symbol("handleOne"),pt=Symbol("handleMany"),Ir=class extends Bh{constructor(e,r){super(e,r),this[ht]=e.iterator({...r,keys:!0,values:!1}),this[Gt]=this[Gt].bind(this),this[pt]=this[pt].bind(this)}},wn=class extends Oh{constructor(e,r){super(e,r),this[ht]=e.iterator({...r,keys:!1,values:!0}),this[Gt]=this[Gt].bind(this),this[pt]=this[pt].bind(this)}};for(let t of[Ir,wn]){let e=t===Ir,r=e?n=>n[0]:n=>n[1];t.prototype._next=function(n){this[Rr]=n,this[ht].next(this[Gt])},t.prototype[Gt]=function(n,i,o){let s=this[Rr];n?s(n):s(null,e?i:o)},t.prototype._nextv=function(n,i,o){this[Rr]=o,this[ht].nextv(n,i,this[pt])},t.prototype._all=function(n,i){this[Rr]=i,this[ht].all(n,this[pt])},t.prototype[pt]=function(n,i){let o=this[Rr];n?o(n):o(null,i.map(r))},t.prototype._seek=function(n,i){this[ht].seek(n,i)},t.prototype._close=function(n){this[ht].close(n)}}oo.DefaultKeyIterator=Ir;oo.DefaultValueIterator=wn});var su=w(Sn=>{"use strict";var{AbstractIterator:Ch,AbstractKeyIterator:Nh,AbstractValueIterator:kh}=Je(),so=ae(),J=Symbol("nut"),_n=Symbol("undefer"),xn=Symbol("factory"),gn=class extends Ch{constructor(e,r){super(e,r),this[J]=null,this[xn]=()=>e.iterator(r),this.db.defer(()=>this[_n]())}},mn=class extends Nh{constructor(e,r){super(e,r),this[J]=null,this[xn]=()=>e.keys(r),this.db.defer(()=>this[_n]())}},En=class extends kh{constructor(e,r){super(e,r),this[J]=null,this[xn]=()=>e.values(r),this.db.defer(()=>this[_n]())}};for(let t of[gn,mn,En])t.prototype[_n]=function(){this.db.status==="open"&&(this[J]=this[xn]())},t.prototype._next=function(e){this[J]!==null?this[J].next(e):this.db.status==="opening"?this.db.defer(()=>this._next(e)):this.nextTick(e,new so("Iterator is not open: cannot call next() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._nextv=function(e,r,n){this[J]!==null?this[J].nextv(e,r,n):this.db.status==="opening"?this.db.defer(()=>this._nextv(e,r,n)):this.nextTick(n,new so("Iterator is not open: cannot call nextv() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._all=function(e,r){this[J]!==null?this[J].all(r):this.db.status==="opening"?this.db.defer(()=>this._all(e,r)):this.nextTick(r,new so("Iterator is not open: cannot call all() after close()",{code:"LEVEL_ITERATOR_NOT_OPEN"}))},t.prototype._seek=function(e,r){this[J]!==null?this[J]._seek(e,r):this.db.status==="opening"&&this.db.defer(()=>this._seek(e,r))},t.prototype._close=function(e){this[J]!==null?this[J].close(e):this.db.status==="opening"?this.db.defer(()=>this._close(e)):this.nextTick(e)};Sn.DeferredIterator=gn;Sn.DeferredKeyIterator=mn;Sn.DeferredValueIterator=En});var uo=w(uu=>{"use strict";var{fromCallback:au}=xr(),An=ae(),{getCallback:Mh,getOptions:Dh}=dn(),Tn=Symbol("promise"),ne=Symbol("status"),Ht=Symbol("operations"),vr=Symbol("finishClose"),zt=Symbol("closeCallbacks"),ao=class{constructor(e){if(typeof e!="object"||e===null){let r=e===null?"null":typeof e;throw new TypeError(`The first argument must be an abstract-level database, received ${r}`)}this[Ht]=[],this[zt]=[],this[ne]="open",this[vr]=this[vr].bind(this),this.db=e,this.db.attachResource(this),this.nextTick=e.nextTick}get length(){return this[Ht].length}put(e,r,n){if(this[ne]!=="open")throw new An("Batch is not open: cannot call put() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let i=this.db._checkKey(e)||this.db._checkValue(r);if(i)throw i;let o=n&&n.sublevel!=null?n.sublevel:this.db,s=n,a=o.keyEncoding(n&&n.keyEncoding),f=o.valueEncoding(n&&n.valueEncoding),u=a.format;n={...n,keyEncoding:u,valueEncoding:f.format},o!==this.db&&(n.sublevel=null);let l=o.prefixKey(a.encode(e),u),c=f.encode(r);return this._put(l,c,n),this[Ht].push({...s,type:"put",key:e,value:r}),this}_put(e,r,n){}del(e,r){if(this[ne]!=="open")throw new An("Batch is not open: cannot call del() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});let n=this.db._checkKey(e);if(n)throw n;let i=r&&r.sublevel!=null?r.sublevel:this.db,o=r,s=i.keyEncoding(r&&r.keyEncoding),a=s.format;return r={...r,keyEncoding:a},i!==this.db&&(r.sublevel=null),this._del(i.prefixKey(s.encode(e),a),r),this[Ht].push({...o,type:"del",key:e}),this}_del(e,r){}clear(){if(this[ne]!=="open")throw new An("Batch is not open: cannot call clear() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"});return this._clear(),this[Ht]=[],this}_clear(){}write(e,r){return r=Mh(e,r),r=au(r,Tn),e=Dh(e),this[ne]!=="open"?this.nextTick(r,new An("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"})):this.length===0?this.close(r):(this[ne]="writing",this._write(e,n=>{this[ne]="closing",this[zt].push(()=>r(n)),n||this.db.emit("batch",this[Ht]),this._close(this[vr])})),r[Tn]}_write(e,r){}close(e){return e=au(e,Tn),this[ne]==="closing"?this[zt].push(e):this[ne]==="closed"?this.nextTick(e):(this[zt].push(e),this[ne]!=="writing"&&(this[ne]="closing",this._close(this[vr]))),e[Tn]}_close(e){this.nextTick(e)}[vr](){this[ne]="closed",this.db.detachResource(this);let e=this[zt];this[zt]=[];for(let r of e)r()}};uu.AbstractChainedBatch=ao});var lu=w(fu=>{"use strict";var{AbstractChainedBatch:Uh}=uo(),Ph=ae(),Yt=Symbol("encoded"),fo=class extends Uh{constructor(e){super(e),this[Yt]=[]}_put(e,r,n){this[Yt].push({...n,type:"put",key:e,value:r})}_del(e,r){this[Yt].push({...r,type:"del",key:e})}_clear(){this[Yt]=[]}_write(e,r){this.db.status==="opening"?this.db.defer(()=>this._write(e,r)):this.db.status==="open"?this[Yt].length===0?this.nextTick(r):this.db._batch(this[Yt],e,r):this.nextTick(r,new Ph("Batch is not open: cannot call write() after write() or close()",{code:"LEVEL_BATCH_NOT_OPEN"}))}};fu.DefaultChainedBatch=fo});var hu=w((ZE,du)=>{"use strict";var cu=ae(),Fh=Object.prototype.hasOwnProperty,qh=new Set(["lt","lte","gt","gte"]);du.exports=function(t,e){let r={};for(let n in t)if(Fh.call(t,n)&&!(n==="keyEncoding"||n==="valueEncoding")){if(n==="start"||n==="end")throw new cu(`The legacy range option '${n}' has been removed`,{code:"LEVEL_LEGACY"});if(n==="encoding")throw new cu("The levelup-style 'encoding' alias has been removed, use 'valueEncoding' instead",{code:"LEVEL_LEGACY"});qh.has(n)?r[n]=e.encode(t[n]):r[n]=t[n]}return r.reverse=!!r.reverse,r.limit=Number.isInteger(r.limit)&&r.limit>=0?r.limit:-1,r}});var lo=w((QE,yu)=>{var pu;yu.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:globalThis):t=>(pu||(pu=Promise.resolve())).then(t).catch(e=>setTimeout(()=>{throw e},0))});var gu=w((e0,wu)=>{"use strict";var bu=lo();wu.exports=function(t,...e){e.length===0?bu(t):bu(()=>t(...e))}});var mu=w(Rn=>{"use strict";var{AbstractIterator:$h,AbstractKeyIterator:Wh,AbstractValueIterator:jh}=Je(),Jt=Symbol("unfix"),ue=Symbol("iterator"),yt=Symbol("handleOne"),Xe=Symbol("handleMany"),Oe=Symbol("callback"),Lr=class extends $h{constructor(e,r,n,i){super(e,r),this[ue]=n,this[Jt]=i,this[yt]=this[yt].bind(this),this[Xe]=this[Xe].bind(this),this[Oe]=null}[yt](e,r,n){let i=this[Oe];if(e)return i(e);r!==void 0&&(r=this[Jt](r)),i(e,r,n)}[Xe](e,r){let n=this[Oe];if(e)return n(e);for(let i of r){let o=i[0];o!==void 0&&(i[0]=this[Jt](o))}n(e,r)}},Br=class extends Wh{constructor(e,r,n,i){super(e,r),this[ue]=n,this[Jt]=i,this[yt]=this[yt].bind(this),this[Xe]=this[Xe].bind(this),this[Oe]=null}[yt](e,r){let n=this[Oe];if(e)return n(e);r!==void 0&&(r=this[Jt](r)),n(e,r)}[Xe](e,r){let n=this[Oe];if(e)return n(e);for(let i=0;i<r.length;i++){let o=r[i];o!==void 0&&(r[i]=this[Jt](o))}n(e,r)}},Or=class extends jh{constructor(e,r,n){super(e,r),this[ue]=n}};for(let t of[Lr,Br])t.prototype._next=function(e){this[Oe]=e,this[ue].next(this[yt])},t.prototype._nextv=function(e,r,n){this[Oe]=n,this[ue].nextv(e,r,this[Xe])},t.prototype._all=function(e,r){this[Oe]=r,this[ue].all(e,this[Xe])};for(let t of[Or])t.prototype._next=function(e){this[ue].next(e)},t.prototype._nextv=function(e,r,n){this[ue].nextv(e,r,n)},t.prototype._all=function(e,r){this[ue].all(e,r)};for(let t of[Lr,Br,Or])t.prototype._seek=function(e,r){this[ue].seek(e,r)},t.prototype._close=function(e){this[ue].close(e)};Rn.AbstractSublevelIterator=Lr;Rn.AbstractSublevelKeyIterator=Br;Rn.AbstractSublevelValueIterator=Or});var Su=w((r0,xu)=>{"use strict";var co=ae(),{Buffer:yo}=te()||{},{AbstractSublevelIterator:Vh,AbstractSublevelKeyIterator:Kh,AbstractSublevelValueIterator:Gh}=mu(),Ce=Symbol("prefix"),Eu=Symbol("upperBound"),Cr=Symbol("prefixRange"),Z=Symbol("parent"),ho=Symbol("unfix"),_u=new TextEncoder,Hh={separator:"!"};xu.exports=function({AbstractLevel:t}){class e extends t{static defaults(n){if(typeof n=="string")throw new co("The subleveldown string shorthand for { separator } has been removed",{code:"LEVEL_LEGACY"});if(n&&n.open)throw new co("The subleveldown open option has been removed",{code:"LEVEL_LEGACY"});return n==null?Hh:n.separator?n:{...n,separator:"!"}}constructor(n,i,o){let{separator:s,manifest:a,...f}=e.defaults(o);i=Yh(i,s);let u=s.charCodeAt(0)+1,l=n[Z]||n;if(!_u.encode(i).every(h=>h>u&&h<127))throw new co(`Prefix must use bytes > ${u} < 127`,{code:"LEVEL_INVALID_PREFIX"});super(zh(l,a),f);let c=(n.prefix||"")+s+i+s,y=c.slice(0,-1)+String.fromCharCode(u);this[Z]=l,this[Ce]=new In(c),this[Eu]=new In(y),this[ho]=new bo,this.nextTick=l.nextTick}prefixKey(n,i){if(i==="utf8")return this[Ce].utf8+n;if(n.byteLength===0)return this[Ce][i];if(i==="view"){let o=this[Ce].view,s=new Uint8Array(o.byteLength+n.byteLength);return s.set(o,0),s.set(n,o.byteLength),s}else{let o=this[Ce].buffer;return yo.concat([o,n],o.byteLength+n.byteLength)}}[Cr](n,i){n.gte!==void 0?n.gte=this.prefixKey(n.gte,i):n.gt!==void 0?n.gt=this.prefixKey(n.gt,i):n.gte=this[Ce][i],n.lte!==void 0?n.lte=this.prefixKey(n.lte,i):n.lt!==void 0?n.lt=this.prefixKey(n.lt,i):n.lte=this[Eu][i]}get prefix(){return this[Ce].utf8}get db(){return this[Z]}_open(n,i){this[Z].open({passive:!0},i)}_put(n,i,o,s){this[Z].put(n,i,o,s)}_get(n,i,o){this[Z].get(n,i,o)}_getMany(n,i,o){this[Z].getMany(n,i,o)}_del(n,i,o){this[Z].del(n,i,o)}_batch(n,i,o){this[Z].batch(n,i,o)}_clear(n,i){this[Cr](n,n.keyEncoding),this[Z].clear(n,i)}_iterator(n){this[Cr](n,n.keyEncoding);let i=this[Z].iterator(n),o=this[ho].get(this[Ce].utf8.length,n.keyEncoding);return new Vh(this,n,i,o)}_keys(n){this[Cr](n,n.keyEncoding);let i=this[Z].keys(n),o=this[ho].get(this[Ce].utf8.length,n.keyEncoding);return new Kh(this,n,i,o)}_values(n){this[Cr](n,n.keyEncoding);let i=this[Z].values(n);return new Gh(this,n,i)}}return{AbstractSublevel:e}};var zh=function(t,e){return{...t.supports,createIfMissing:!1,errorIfExists:!1,events:{},additionalMethods:{},...e,encodings:{utf8:po(t,"utf8"),buffer:po(t,"buffer"),view:po(t,"view")}}},po=function(t,e){return t.supports.encodings[e]?t.keyEncoding(e).name===e:!1},In=class{constructor(e){this.utf8=e,this.view=_u.encode(e),this.buffer=yo?yo.from(this.view.buffer,0,this.view.byteLength):{}}},bo=class{constructor(){this.cache=new Map}get(e,r){let n=this.cache.get(r);return n===void 0&&(r==="view"?n=(function(i,o){return o.subarray(i)}).bind(null,e):n=(function(i,o){return o.slice(i)}).bind(null,e),this.cache.set(r,n)),n}},Yh=function(t,e){let r=0,n=t.length;for(;r<n&&t[r]===e;)r++;for(;n>r&&t[n-1]===e;)n--;return t.slice(r,n)}});var _o=w(Eo=>{"use strict";var{supports:Jh}=ha(),{Transcoder:Xh}=ja(),{EventEmitter:Zh}=jt(),{fromCallback:Ze}=xr(),fe=ae(),{AbstractIterator:bt}=Je(),{DefaultKeyIterator:Qh,DefaultValueIterator:ep}=ou(),{DeferredIterator:tp,DeferredKeyIterator:rp,DeferredValueIterator:np}=su(),{DefaultChainedBatch:Au}=lu(),{getCallback:wt,getOptions:Qe}=dn(),vn=hu(),E=Symbol("promise"),Ne=Symbol("landed"),gt=Symbol("resources"),wo=Symbol("closeResources"),Nr=Symbol("operations"),kr=Symbol("undefer"),Ln=Symbol("deferOpen"),Tu=Symbol("options"),S=Symbol("status"),mt=Symbol("defaultOptions"),Xt=Symbol("transcoder"),Bn=Symbol("keyEncoding"),go=Symbol("valueEncoding"),ip=()=>{},Mr=class extends Zh{constructor(e,r){if(super(),typeof e!="object"||e===null)throw new TypeError("The first argument 'manifest' must be an object");r=Qe(r);let{keyEncoding:n,valueEncoding:i,passive:o,...s}=r;this[gt]=new Set,this[Nr]=[],this[Ln]=!0,this[Tu]=s,this[S]="opening",this.supports=Jh(e,{status:!0,promises:!0,clear:!0,getMany:!0,deferredOpen:!0,snapshots:e.snapshots!==!1,permanence:e.permanence!==!1,keyIterator:!0,valueIterator:!0,iteratorNextv:!0,iteratorAll:!0,encodings:e.encodings||{},events:Object.assign({},e.events,{opening:!0,open:!0,closing:!0,closed:!0,put:!0,del:!0,batch:!0,clear:!0})}),this[Xt]=new Xh(op(this)),this[Bn]=this[Xt].encoding(n||"utf8"),this[go]=this[Xt].encoding(i||"utf8");for(let a of this[Xt].encodings())this.supports.encodings[a.commonName]||(this.supports.encodings[a.commonName]=!0);this[mt]={empty:Object.freeze({}),entry:Object.freeze({keyEncoding:this[Bn].commonName,valueEncoding:this[go].commonName}),key:Object.freeze({keyEncoding:this[Bn].commonName})},this.nextTick(()=>{this[Ln]&&this.open({passive:!1},ip)})}get status(){return this[S]}keyEncoding(e){return this[Xt].encoding(e??this[Bn])}valueEncoding(e){return this[Xt].encoding(e??this[go])}open(e,r){r=wt(e,r),r=Ze(r,E),e={...this[Tu],...Qe(e)},e.createIfMissing=e.createIfMissing!==!1,e.errorIfExists=!!e.errorIfExists;let n=i=>{this[S]==="closing"||this[S]==="opening"?this.once(Ne,i?()=>n(i):n):this[S]!=="open"?r(new fe("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN",cause:i})):r()};return e.passive?this[S]==="opening"?this.once(Ne,n):this.nextTick(n):this[S]==="closed"||this[Ln]?(this[Ln]=!1,this[S]="opening",this.emit("opening"),this._open(e,i=>{if(i){this[S]="closed",this[wo](()=>{this.emit(Ne),n(i)}),this[kr]();return}this[S]="open",this[kr](),this.emit(Ne),this[S]==="open"&&this.emit("open"),this[S]==="open"&&this.emit("ready"),n()})):this[S]==="open"?this.nextTick(n):this.once(Ne,()=>this.open(e,r)),r[E]}_open(e,r){this.nextTick(r)}close(e){e=Ze(e,E);let r=n=>{this[S]==="opening"||this[S]==="closing"?this.once(Ne,n?r(n):r):this[S]!=="closed"?e(new fe("Database is not closed",{code:"LEVEL_DATABASE_NOT_CLOSED",cause:n})):e()};if(this[S]==="open"){this[S]="closing",this.emit("closing");let n=i=>{this[S]="open",this[kr](),this.emit(Ne),r(i)};this[wo](()=>{this._close(i=>{if(i)return n(i);this[S]="closed",this[kr](),this.emit(Ne),this[S]==="closed"&&this.emit("closed"),r()})})}else this[S]==="closed"?this.nextTick(r):this.once(Ne,()=>this.close(e));return e[E]}[wo](e){if(this[gt].size===0)return this.nextTick(e);let r=this[gt].size,n=!0,i=()=>{--r===0&&(n?this.nextTick(e):e())};for(let o of this[gt])o.close(i);n=!1,this[gt].clear()}_close(e){this.nextTick(e)}get(e,r,n){if(n=wt(r,n),n=Ze(n,E),r=Qe(r,this[mt].entry),this[S]==="opening")return this.defer(()=>this.get(e,r,n)),n[E];if(Zt(this,n))return n[E];let i=this._checkKey(e);if(i)return this.nextTick(n,i),n[E];let o=this.keyEncoding(r.keyEncoding),s=this.valueEncoding(r.valueEncoding),a=o.format,f=s.format;return(r.keyEncoding!==a||r.valueEncoding!==f)&&(r=Object.assign({},r,{keyEncoding:a,valueEncoding:f})),this._get(this.prefixKey(o.encode(e),a),r,(u,l)=>{if(u)return(u.code==="LEVEL_NOT_FOUND"||u.notFound||/NotFound/i.test(u))&&(u.code||(u.code="LEVEL_NOT_FOUND"),u.notFound||(u.notFound=!0),u.status||(u.status=404)),n(u);try{l=s.decode(l)}catch(c){return n(new fe("Could not decode value",{code:"LEVEL_DECODE_ERROR",cause:c}))}n(null,l)}),n[E]}_get(e,r,n){this.nextTick(n,new Error("NotFound"))}getMany(e,r,n){if(n=wt(r,n),n=Ze(n,E),r=Qe(r,this[mt].entry),this[S]==="opening")return this.defer(()=>this.getMany(e,r,n)),n[E];if(Zt(this,n))return n[E];if(!Array.isArray(e))return this.nextTick(n,new TypeError("The first argument 'keys' must be an array")),n[E];if(e.length===0)return this.nextTick(n,null,[]),n[E];let i=this.keyEncoding(r.keyEncoding),o=this.valueEncoding(r.valueEncoding),s=i.format,a=o.format;(r.keyEncoding!==s||r.valueEncoding!==a)&&(r=Object.assign({},r,{keyEncoding:s,valueEncoding:a}));let f=new Array(e.length);for(let u=0;u<e.length;u++){let l=e[u],c=this._checkKey(l);if(c)return this.nextTick(n,c),n[E];f[u]=this.prefixKey(i.encode(l),s)}return this._getMany(f,r,(u,l)=>{if(u)return n(u);try{for(let c=0;c<l.length;c++)l[c]!==void 0&&(l[c]=o.decode(l[c]))}catch(c){return n(new fe(`Could not decode one or more of ${l.length} value(s)`,{code:"LEVEL_DECODE_ERROR",cause:c}))}n(null,l)}),n[E]}_getMany(e,r,n){this.nextTick(n,null,new Array(e.length).fill(void 0))}put(e,r,n,i){if(i=wt(n,i),i=Ze(i,E),n=Qe(n,this[mt].entry),this[S]==="opening")return this.defer(()=>this.put(e,r,n,i)),i[E];if(Zt(this,i))return i[E];let o=this._checkKey(e)||this._checkValue(r);if(o)return this.nextTick(i,o),i[E];let s=this.keyEncoding(n.keyEncoding),a=this.valueEncoding(n.valueEncoding),f=s.format,u=a.format;(n.keyEncoding!==f||n.valueEncoding!==u)&&(n=Object.assign({},n,{keyEncoding:f,valueEncoding:u}));let l=this.prefixKey(s.encode(e),f),c=a.encode(r);return this._put(l,c,n,y=>{if(y)return i(y);this.emit("put",e,r),i()}),i[E]}_put(e,r,n,i){this.nextTick(i)}del(e,r,n){if(n=wt(r,n),n=Ze(n,E),r=Qe(r,this[mt].key),this[S]==="opening")return this.defer(()=>this.del(e,r,n)),n[E];if(Zt(this,n))return n[E];let i=this._checkKey(e);if(i)return this.nextTick(n,i),n[E];let o=this.keyEncoding(r.keyEncoding),s=o.format;return r.keyEncoding!==s&&(r=Object.assign({},r,{keyEncoding:s})),this._del(this.prefixKey(o.encode(e),s),r,a=>{if(a)return n(a);this.emit("del",e),n()}),n[E]}_del(e,r,n){this.nextTick(n)}batch(e,r,n){if(!arguments.length){if(this[S]==="opening")return new Au(this);if(this[S]!=="open")throw new fe("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._chainedBatch()}if(typeof e=="function"?n=e:n=wt(r,n),n=Ze(n,E),r=Qe(r,this[mt].empty),this[S]==="opening")return this.defer(()=>this.batch(e,r,n)),n[E];if(Zt(this,n))return n[E];if(!Array.isArray(e))return this.nextTick(n,new TypeError("The first argument 'operations' must be an array")),n[E];if(e.length===0)return this.nextTick(n),n[E];let i=new Array(e.length),{keyEncoding:o,valueEncoding:s,...a}=r;for(let f=0;f<e.length;f++){if(typeof e[f]!="object"||e[f]===null)return this.nextTick(n,new TypeError("A batch operation must be an object")),n[E];let u=Object.assign({},e[f]);if(u.type!=="put"&&u.type!=="del")return this.nextTick(n,new TypeError("A batch operation must have a type property that is 'put' or 'del'")),n[E];let l=this._checkKey(u.key);if(l)return this.nextTick(n,l),n[E];let c=u.sublevel!=null?u.sublevel:this,y=c.keyEncoding(u.keyEncoding||o),h=y.format;if(u.key=c.prefixKey(y.encode(u.key),h),u.keyEncoding=h,u.type==="put"){let b=this._checkValue(u.value);if(b)return this.nextTick(n,b),n[E];let p=c.valueEncoding(u.valueEncoding||s);u.value=p.encode(u.value),u.valueEncoding=p.format}c!==this&&(u.sublevel=null),i[f]=u}return this._batch(i,a,f=>{if(f)return n(f);this.emit("batch",e),n()}),n[E]}_batch(e,r,n){this.nextTick(n)}sublevel(e,r){return this._sublevel(e,mo.defaults(r))}_sublevel(e,r){return new mo(this,e,r)}prefixKey(e,r){return e}clear(e,r){if(r=wt(e,r),r=Ze(r,E),e=Qe(e,this[mt].empty),this[S]==="opening")return this.defer(()=>this.clear(e,r)),r[E];if(Zt(this,r))return r[E];let n=e,i=this.keyEncoding(e.keyEncoding);return e=vn(e,i),e.keyEncoding=i.format,e.limit===0?this.nextTick(r):this._clear(e,o=>{if(o)return r(o);this.emit("clear",n),r()}),r[E]}_clear(e,r){this.nextTick(r)}iterator(e){let r=this.keyEncoding(e&&e.keyEncoding),n=this.valueEncoding(e&&e.valueEncoding);if(e=vn(e,r),e.keys=e.keys!==!1,e.values=e.values!==!1,e[bt.keyEncoding]=r,e[bt.valueEncoding]=n,e.keyEncoding=r.format,e.valueEncoding=n.format,this[S]==="opening")return new tp(this,e);if(this[S]!=="open")throw new fe("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._iterator(e)}_iterator(e){return new bt(this,e)}keys(e){let r=this.keyEncoding(e&&e.keyEncoding),n=this.valueEncoding(e&&e.valueEncoding);if(e=vn(e,r),e[bt.keyEncoding]=r,e[bt.valueEncoding]=n,e.keyEncoding=r.format,e.valueEncoding=n.format,this[S]==="opening")return new rp(this,e);if(this[S]!=="open")throw new fe("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._keys(e)}_keys(e){return new Qh(this,e)}values(e){let r=this.keyEncoding(e&&e.keyEncoding),n=this.valueEncoding(e&&e.valueEncoding);if(e=vn(e,r),e[bt.keyEncoding]=r,e[bt.valueEncoding]=n,e.keyEncoding=r.format,e.valueEncoding=n.format,this[S]==="opening")return new np(this,e);if(this[S]!=="open")throw new fe("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"});return this._values(e)}_values(e){return new ep(this,e)}defer(e){if(typeof e!="function")throw new TypeError("The first argument must be a function");this[Nr].push(e)}[kr](){if(this[Nr].length===0)return;let e=this[Nr];this[Nr]=[];for(let r of e)r()}attachResource(e){if(typeof e!="object"||e===null||typeof e.close!="function")throw new TypeError("The first argument must be a resource object");this[gt].add(e)}detachResource(e){this[gt].delete(e)}_chainedBatch(){return new Au(this)}_checkKey(e){if(e==null)return new fe("Key cannot be null or undefined",{code:"LEVEL_INVALID_KEY"})}_checkValue(e){if(e==null)return new fe("Value cannot be null or undefined",{code:"LEVEL_INVALID_VALUE"})}};Mr.prototype.nextTick=gu();var{AbstractSublevel:mo}=Su()({AbstractLevel:Mr});Eo.AbstractLevel=Mr;Eo.AbstractSublevel=mo;var Zt=function(t,e){return t[S]!=="open"?(t.nextTick(e,new fe("Database is not open",{code:"LEVEL_DATABASE_NOT_OPEN"})),!0):!1},op=function(t){return Object.keys(t.supports.encodings).filter(e=>!!t.supports.encodings[e])}});var xo=w(Et=>{"use strict";Et.AbstractLevel=_o().AbstractLevel;Et.AbstractSublevel=_o().AbstractSublevel;Et.AbstractIterator=Je().AbstractIterator;Et.AbstractKeyIterator=Je().AbstractKeyIterator;Et.AbstractValueIterator=Je().AbstractValueIterator;Et.AbstractChainedBatch=uo().AbstractChainedBatch});var Iu=w((o0,Ru)=>{Ru.exports=ap;var sp=lo();function ap(t,e,r){if(typeof e!="number")throw new Error("second argument must be a Number");let n,i,o,s,a,f=!0,u;Array.isArray(t)?(n=[],o=i=t.length):(s=Object.keys(t),n={},o=i=s.length);function l(y){function h(){r&&r(y,n),r=null}f?sp(h):h()}function c(y,h,b){if(n[y]=b,h&&(a=!0),--o===0||h)l(h);else if(!a&&u<i){let p;s?(p=s[u],u+=1,t[p](function(x,g){c(p,x,g)})):(p=u,u+=1,t[p](function(x,g){c(p,x,g)}))}}u=e,o?s?s.some(function(y,h){return t[y](function(b,p){c(y,b,p)}),h===e-1}):t.some(function(y,h){return y(function(b,p){c(h,b,p)}),h===e-1}):l(null),f=!1}});var So=w((s0,vu)=>{"use strict";vu.exports=function(e){let r=e.gte!==void 0?e.gte:e.gt!==void 0?e.gt:void 0,n=e.lte!==void 0?e.lte:e.lt!==void 0?e.lt:void 0,i=e.gte===void 0,o=e.lte===void 0;return r!==void 0&&n!==void 0?IDBKeyRange.bound(r,n,i,o):r!==void 0?IDBKeyRange.lowerBound(r,i):n!==void 0?IDBKeyRange.upperBound(n,o):null}});var Ao=w((a0,Lu)=>{"use strict";var up=new TextEncoder;Lu.exports=function(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):up.encode(t)}});var ku=w(Nu=>{"use strict";var{AbstractIterator:fp}=xo(),Bu=So(),On=Ao(),we=Symbol("cache"),ke=Symbol("finished"),Q=Symbol("options"),Me=Symbol("currentOptions"),_t=Symbol("position"),To=Symbol("location"),Qt=Symbol("first"),Ou={},Ro=class extends fp{constructor(e,r,n){super(e,n),this[we]=[],this[ke]=this.limit===0,this[Q]=n,this[Me]={...n},this[_t]=void 0,this[To]=r,this[Qt]=!0}_nextv(e,r,n){if(this[Qt]=!1,this[ke])return this.nextTick(n,null,[]);if(this[we].length>0)return e=Math.min(e,this[we].length),this.nextTick(n,null,this[we].splice(0,e));this[_t]!==void 0&&(this[Q].reverse?(this[Me].lt=this[_t],this[Me].lte=void 0):(this[Me].gt=this[_t],this[Me].gte=void 0));let i;try{i=Bu(this[Me])}catch{return this[ke]=!0,this.nextTick(n,null,[])}let o=this.db.db.transaction([this[To]],"readonly"),s=o.objectStore(this[To]),a=[];if(this[Q].reverse){let f=!this[Q].values&&s.openKeyCursor?"openKeyCursor":"openCursor";s[f](i,"prev").onsuccess=u=>{let l=u.target.result;if(l){let{key:c,value:y}=l;this[_t]=c,a.push([this[Q].keys&&c!==void 0?On(c):void 0,this[Q].values&&y!==void 0?On(y):void 0]),a.length<e?l.continue():Cu(o)}else this[ke]=!0}}else{let f,u,l=()=>{if(f===void 0||u===void 0)return;let c=Math.max(f.length,u.length);c===0||e===1/0?this[ke]=!0:this[_t]=f[c-1],a.length=c;for(let y=0;y<c;y++){let h=f[y],b=u[y];a[y]=[this[Q].keys&&h!==void 0?On(h):void 0,this[Q].values&&b!==void 0?On(b):void 0]}Cu(o)};this[Q].keys||e<1/0?s.getAllKeys(i,e<1/0?e:void 0).onsuccess=c=>{f=c.target.result,l()}:(f=[],this.nextTick(l)),this[Q].values?s.getAll(i,e<1/0?e:void 0).onsuccess=c=>{u=c.target.result,l()}:(u=[],this.nextTick(l))}o.onabort=()=>{n(o.error||new Error("aborted by user")),n=null},o.oncomplete=()=>{n(null,a),n=null}}_next(e){if(this[we].length>0){let[r,n]=this[we].shift();this.nextTick(e,null,r,n)}else if(this[ke])this.nextTick(e);else{let r=Math.min(100,this.limit-this.count);this[Qt]&&(this[Qt]=!1,r=1),this._nextv(r,Ou,(n,i)=>{if(n)return e(n);this[we]=i,this._next(e)})}}_all(e,r){this[Qt]=!1;let n=this[we].splice(0,this[we].length),i=this.limit-this.count-n.length;if(i<=0)return this.nextTick(r,null,n);this._nextv(i,Ou,(o,s)=>{if(o)return r(o);n.length>0&&(s=n.concat(s)),r(null,s)})}_seek(e,r){this[Qt]=!0,this[we]=[],this[ke]=!1,this[_t]=void 0,this[Me]={...this[Q]};let n;try{n=Bu(this[Q])}catch{this[ke]=!0;return}n!==null&&!n.includes(e)?this[ke]=!0:this[Q].reverse?this[Me].lte=e:this[Me].gte=e}};Nu.Iterator=Ro;function Cu(t){typeof t.commit=="function"&&t.commit()}});var Du=w((f0,Mu)=>{"use strict";Mu.exports=function(e,r,n,i,o){if(i.limit===0)return e.nextTick(o);let s=e.db.transaction([r],"readwrite"),a=s.objectStore(r),f=0;s.oncomplete=function(){o()},s.onabort=function(){o(s.error||new Error("aborted by user"))};let u=a.openKeyCursor?"openKeyCursor":"openCursor",l=i.reverse?"prev":"next";a[u](n,l).onsuccess=function(c){let y=c.target.result;y&&(a.delete(y.key).onsuccess=function(){(i.limit<=0||++f<i.limit)&&y.continue()})}}});var Wu=w($u=>{"use strict";var{AbstractLevel:lp}=xo(),Uu=ae(),cp=Iu(),{fromCallback:dp}=xr(),{Iterator:hp}=ku(),Pu=Ao(),pp=Du(),yp=So(),qu="level-js-",Dr=Symbol("idb"),Io=Symbol("namePrefix"),De=Symbol("location"),vo=Symbol("version"),xt=Symbol("store"),Ur=Symbol("onComplete"),Fu=Symbol("promise"),Cn=class extends lp{constructor(e,r,n){if(typeof r=="function"||typeof n=="function")throw new Uu("The levelup-style callback argument has been removed",{code:"LEVEL_LEGACY"});let{prefix:i,version:o,...s}=r||{};if(super({encodings:{view:!0},snapshots:!1,createIfMissing:!1,errorIfExists:!1,seek:!0},s),typeof e!="string")throw new Error("constructor requires a location string argument");this[De]=e,this[Io]=i??qu,this[vo]=parseInt(o||1,10),this[Dr]=null}get location(){return this[De]}get namePrefix(){return this[Io]}get version(){return this[vo]}get db(){return this[Dr]}get type(){return"browser-level"}_open(e,r){let n=indexedDB.open(this[Io]+this[De],this[vo]);n.onerror=function(){r(n.error||new Error("unknown error"))},n.onsuccess=()=>{this[Dr]=n.result,r()},n.onupgradeneeded=i=>{let o=i.target.result;o.objectStoreNames.contains(this[De])||o.createObjectStore(this[De])}}[xt](e){return this[Dr].transaction([this[De]],e).objectStore(this[De])}[Ur](e,r){let n=e.transaction;n.onabort=function(){r(n.error||new Error("aborted by user"))},n.oncomplete=function(){r(null,e.result)}}_get(e,r,n){let i=this[xt]("readonly"),o;try{o=i.get(e)}catch(s){return this.nextTick(n,s)}this[Ur](o,function(s,a){if(s)return n(s);if(a===void 0)return n(new Uu("Entry not found",{code:"LEVEL_NOT_FOUND"}));n(null,Pu(a))})}_getMany(e,r,n){let i=this[xt]("readonly"),o=e.map(s=>a=>{let f;try{f=i.get(s)}catch(u){return a(u)}f.onsuccess=()=>{let u=f.result;a(null,u===void 0?u:Pu(u))},f.onerror=u=>{u.stopPropagation(),a(f.error)}});cp(o,16,n)}_del(e,r,n){let i=this[xt]("readwrite"),o;try{o=i.delete(e)}catch(s){return this.nextTick(n,s)}this[Ur](o,n)}_put(e,r,n,i){let o=this[xt]("readwrite"),s;try{s=o.put(r,e)}catch(a){return this.nextTick(i,a)}this[Ur](s,i)}_iterator(e){return new hp(this,this[De],e)}_batch(e,r,n){let i=this[xt]("readwrite"),o=i.transaction,s=0,a;o.onabort=function(){n(a||o.error||new Error("aborted by user"))},o.oncomplete=function(){n()};function f(){let u=e[s++],l=u.key,c;try{c=u.type==="del"?i.delete(l):i.put(u.value,l)}catch(y){a=y,o.abort();return}s<e.length?c.onsuccess=f:typeof o.commit=="function"&&o.commit()}f()}_clear(e,r){let n,i;try{n=yp(e)}catch{return this.nextTick(r)}if(e.limit>=0)return pp(this,this[De],n,e,r);try{let o=this[xt]("readwrite");i=n?o.delete(n):o.clear()}catch(o){return this.nextTick(r,o)}this[Ur](i,r)}_close(e){this[Dr].close(),this.nextTick(e)}};Cn.destroy=function(t,e,r){typeof e=="function"&&(r=e,e=qu),r=dp(r,Fu);let n=indexedDB.deleteDatabase(e+t);return n.onsuccess=function(){r()},n.onerror=function(i){r(i)},r[Fu]};$u.BrowserLevel=Cn});var Vu=w(ju=>{ju.Level=Wu().BrowserLevel});var O=w((y0,Gu)=>{"use strict";Gu.exports={ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,e){return t.includes(e)},ArrayPrototypeIndexOf(t,e){return t.indexOf(e)},ArrayPrototypeJoin(t,e){return t.join(e)},ArrayPrototypeMap(t,e){return t.map(e)},ArrayPrototypePop(t,e){return t.pop(e)},ArrayPrototypePush(t,e){return t.push(e)},ArrayPrototypeSlice(t,e,r){return t.slice(e,r)},Error,FunctionPrototypeCall(t,e,...r){return t.call(e,...r)},FunctionPrototypeSymbolHasInstance(t,e){return Function.prototype[Symbol.hasInstance].call(t,e)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,e){return Object.defineProperties(t,e)},ObjectDefineProperty(t,e,r){return Object.defineProperty(t,e,r)},ObjectGetOwnPropertyDescriptor(t,e){return Object.getOwnPropertyDescriptor(t,e)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,e){return Object.setPrototypeOf(t,e)},Promise,PromisePrototypeCatch(t,e){return t.catch(e)},PromisePrototypeThen(t,e,r){return t.then(e,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,e){return t.test(e)},SafeSet:Set,String,StringPrototypeSlice(t,e,r){return t.slice(e,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,e,r){return t.set(e,r)},Boolean,Uint8Array}});var er=w((b0,Nn)=>{"use strict";var{AbortController:Hu,AbortSignal:bp}=typeof self<"u"?self:typeof window<"u"?window:void 0;Nn.exports=Hu;Nn.exports.AbortSignal=bp;Nn.exports.default=Hu});var j=w((w0,Co)=>{"use strict";var wp=te(),{kResistStopPropagation:gp,SymbolDispose:mp}=O(),Ep=globalThis.AbortSignal||er().AbortSignal,_p=globalThis.AbortController||er().AbortController,xp=Object.getPrototypeOf(async function(){}).constructor,zu=globalThis.Blob||wp.Blob,Sp=typeof zu<"u"?function(e){return e instanceof zu}:function(e){return!1},Yu=(t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new ERR_INVALID_ARG_TYPE(e,"AbortSignal",t)},Ap=(t,e)=>{if(typeof t!="function")throw new ERR_INVALID_ARG_TYPE(e,"Function",t)},Oo=class extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError(`Expected input to be an Array, got ${typeof e}`);let r="";for(let n=0;n<e.length;n++)r+=`    ${e[n].stack}
`;super(r),this.name="AggregateError",this.errors=e}};Co.exports={AggregateError:Oo,kEmptyObject:Object.freeze({}),once(t){let e=!1;return function(...r){e||(e=!0,t.apply(this,r))}},createDeferredPromise:function(){let t,e;return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}},promisify(t){return new Promise((e,r)=>{t((n,...i)=>n?r(n):e(...i))})},debuglog(){return function(){}},format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){let i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}},types:{isAsyncFunction(t){return t instanceof xp},isArrayBufferView(t){return ArrayBuffer.isView(t)}},isBlob:Sp,deprecate(t,e){return t},addAbortListener:jt().addAbortListener||function(e,r){if(e===void 0)throw new ERR_INVALID_ARG_TYPE("signal","AbortSignal",e);Yu(e,"signal"),Ap(r,"listener");let n;return e.aborted?queueMicrotask(()=>r()):(e.addEventListener("abort",r,{__proto__:null,once:!0,[gp]:!0}),n=()=>{e.removeEventListener("abort",r)}),{__proto__:null,[mp](){var i;(i=n)===null||i===void 0||i()}}},AbortSignalAny:Ep.any||function(e){if(e.length===1)return e[0];let r=new _p,n=()=>r.abort();return e.forEach(i=>{Yu(i,"signals"),i.addEventListener("abort",n,{once:!0})}),r.signal.addEventListener("abort",()=>{e.forEach(i=>i.removeEventListener("abort",n))},{once:!0}),r.signal}};Co.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")});var H=w((g0,Zu)=>{"use strict";var{format:Tp,inspect:kn,AggregateError:Rp}=j(),Ip=globalThis.AggregateError||Rp,vp=Symbol("kIsNodeError"),Lp=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Bp=/^([A-Z][a-z0-9]*)+$/,Op="__node_internal_",Mn={};function St(t,e){if(!t)throw new Mn.ERR_INTERNAL_ASSERTION(e)}function Ju(t){let e="",r=t.length,n=t[0]==="-"?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function Cp(t,e,r){if(typeof e=="function")return St(e.length<=r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${e.length}).`),e(...r);let n=(e.match(/%[dfijoOs]/g)||[]).length;return St(n===r.length,`Code: ${t}; The provided arguments length (${r.length}) does not match the required ones (${n}).`),r.length===0?e:Tp(e,...r)}function F(t,e,r){r||(r=Error);class n extends r{constructor(...o){super(Cp(t,e,o))}toString(){return`${this.name} [${t}]: ${this.message}`}}Object.defineProperties(n.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${t}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),n.prototype.code=t,n.prototype[vp]=!0,Mn[t]=n}function Xu(t){let e=Op+t.name;return Object.defineProperty(t,"name",{value:e}),t}function Np(t,e){if(t&&e&&t!==e){if(Array.isArray(e.errors))return e.errors.push(t),e;let r=new Ip([e,t],e.message);return r.code=e.code,r}return t||e}var No=class extends Error{constructor(e="The operation was aborted",r=void 0){if(r!==void 0&&typeof r!="object")throw new Mn.ERR_INVALID_ARG_TYPE("options","Object",r);super(e,r),this.code="ABORT_ERR",this.name="AbortError"}};F("ERR_ASSERTION","%s",Error);F("ERR_INVALID_ARG_TYPE",(t,e,r)=>{St(typeof t=="string","'name' must be a string"),Array.isArray(e)||(e=[e]);let n="The ";t.endsWith(" argument")?n+=`${t} `:n+=`"${t}" ${t.includes(".")?"property":"argument"} `,n+="must be ";let i=[],o=[],s=[];for(let f of e)St(typeof f=="string","All expected entries have to be of type string"),Lp.includes(f)?i.push(f.toLowerCase()):Bp.test(f)?o.push(f):(St(f!=="object",'The value "object" should be written as "Object"'),s.push(f));if(o.length>0){let f=i.indexOf("object");f!==-1&&(i.splice(i,f,1),o.push("Object"))}if(i.length>0){switch(i.length){case 1:n+=`of type ${i[0]}`;break;case 2:n+=`one of type ${i[0]} or ${i[1]}`;break;default:{let f=i.pop();n+=`one of type ${i.join(", ")}, or ${f}`}}(o.length>0||s.length>0)&&(n+=" or ")}if(o.length>0){switch(o.length){case 1:n+=`an instance of ${o[0]}`;break;case 2:n+=`an instance of ${o[0]} or ${o[1]}`;break;default:{let f=o.pop();n+=`an instance of ${o.join(", ")}, or ${f}`}}s.length>0&&(n+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(n+="an "),n+=`${s[0]}`;break;case 2:n+=`one of ${s[0]} or ${s[1]}`;break;default:{let f=s.pop();n+=`one of ${s.join(", ")}, or ${f}`}}if(r==null)n+=`. Received ${r}`;else if(typeof r=="function"&&r.name)n+=`. Received function ${r.name}`;else if(typeof r=="object"){var a;if((a=r.constructor)!==null&&a!==void 0&&a.name)n+=`. Received an instance of ${r.constructor.name}`;else{let f=kn(r,{depth:-1});n+=`. Received ${f}`}}else{let f=kn(r,{colors:!1});f.length>25&&(f=`${f.slice(0,25)}...`),n+=`. Received type ${typeof r} (${f})`}return n},TypeError);F("ERR_INVALID_ARG_VALUE",(t,e,r="is invalid")=>{let n=kn(e);return n.length>128&&(n=n.slice(0,128)+"..."),`The ${t.includes(".")?"property":"argument"} '${t}' ${r}. Received ${n}`},TypeError);F("ERR_INVALID_RETURN_VALUE",(t,e,r)=>{var n;let i=r!=null&&(n=r.constructor)!==null&&n!==void 0&&n.name?`instance of ${r.constructor.name}`:`type ${typeof r}`;return`Expected ${t} to be returned from the "${e}" function but got ${i}.`},TypeError);F("ERR_MISSING_ARGS",(...t)=>{St(t.length>0,"At least one arg needs to be specified");let e,r=t.length;switch(t=(Array.isArray(t)?t:[t]).map(n=>`"${n}"`).join(" or "),r){case 1:e+=`The ${t[0]} argument`;break;case 2:e+=`The ${t[0]} and ${t[1]} arguments`;break;default:{let n=t.pop();e+=`The ${t.join(", ")}, and ${n} arguments`}break}return`${e} must be specified`},TypeError);F("ERR_OUT_OF_RANGE",(t,e,r)=>{St(e,'Missing "range" argument');let n;return Number.isInteger(r)&&Math.abs(r)>2**32?n=Ju(String(r)):typeof r=="bigint"?(n=String(r),(r>2n**32n||r<-(2n**32n))&&(n=Ju(n)),n+="n"):n=kn(r),`The value of "${t}" is out of range. It must be ${e}. Received ${n}`},RangeError);F("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error);F("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error);F("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error);F("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error);F("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error);F("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);F("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error);F("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error);F("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error);F("ERR_STREAM_WRITE_AFTER_END","write after end",Error);F("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError);Zu.exports={AbortError:No,aggregateTwoErrors:Xu(Np),hideStackFrames:Xu,codes:Mn}});var rr=w((m0,ff)=>{"use strict";var{ArrayIsArray:Mo,ArrayPrototypeIncludes:rf,ArrayPrototypeJoin:nf,ArrayPrototypeMap:kp,NumberIsInteger:Do,NumberIsNaN:Mp,NumberMAX_SAFE_INTEGER:Dp,NumberMIN_SAFE_INTEGER:Up,NumberParseInt:Pp,ObjectPrototypeHasOwnProperty:Fp,RegExpPrototypeExec:of,String:qp,StringPrototypeToUpperCase:$p,StringPrototypeTrim:Wp}=O(),{hideStackFrames:ie,codes:{ERR_SOCKET_BAD_PORT:jp,ERR_INVALID_ARG_TYPE:V,ERR_INVALID_ARG_VALUE:tr,ERR_OUT_OF_RANGE:At,ERR_UNKNOWN_SIGNAL:Qu}}=H(),{normalizeEncoding:Vp}=j(),{isAsyncFunction:Kp,isArrayBufferView:Gp}=j().types,ef={};function Hp(t){return t===(t|0)}function zp(t){return t===t>>>0}var Yp=/^[0-7]+$/,Jp="must be a 32-bit unsigned integer or an octal string";function Xp(t,e,r){if(typeof t>"u"&&(t=r),typeof t=="string"){if(of(Yp,t)===null)throw new tr(e,t,Jp);t=Pp(t,8)}return sf(t,e),t}var Zp=ie((t,e,r=Up,n=Dp)=>{if(typeof t!="number")throw new V(e,"number",t);if(!Do(t))throw new At(e,"an integer",t);if(t<r||t>n)throw new At(e,`>= ${r} && <= ${n}`,t)}),Qp=ie((t,e,r=-2147483648,n=2147483647)=>{if(typeof t!="number")throw new V(e,"number",t);if(!Do(t))throw new At(e,"an integer",t);if(t<r||t>n)throw new At(e,`>= ${r} && <= ${n}`,t)}),sf=ie((t,e,r=!1)=>{if(typeof t!="number")throw new V(e,"number",t);if(!Do(t))throw new At(e,"an integer",t);let n=r?1:0,i=4294967295;if(t<n||t>i)throw new At(e,`>= ${n} && <= ${i}`,t)});function Uo(t,e){if(typeof t!="string")throw new V(e,"string",t)}function ey(t,e,r=void 0,n){if(typeof t!="number")throw new V(e,"number",t);if(r!=null&&t<r||n!=null&&t>n||(r!=null||n!=null)&&Mp(t))throw new At(e,`${r!=null?`>= ${r}`:""}${r!=null&&n!=null?" && ":""}${n!=null?`<= ${n}`:""}`,t)}var ty=ie((t,e,r)=>{if(!rf(r,t)){let i="must be one of: "+nf(kp(r,o=>typeof o=="string"?`'${o}'`:qp(o)),", ");throw new tr(e,t,i)}});function af(t,e){if(typeof t!="boolean")throw new V(e,"boolean",t)}function ko(t,e,r){return t==null||!Fp(t,e)?r:t[e]}var ry=ie((t,e,r=null)=>{let n=ko(r,"allowArray",!1),i=ko(r,"allowFunction",!1);if(!ko(r,"nullable",!1)&&t===null||!n&&Mo(t)||typeof t!="object"&&(!i||typeof t!="function"))throw new V(e,"Object",t)}),ny=ie((t,e)=>{if(t!=null&&typeof t!="object"&&typeof t!="function")throw new V(e,"a dictionary",t)}),Dn=ie((t,e,r=0)=>{if(!Mo(t))throw new V(e,"Array",t);if(t.length<r){let n=`must be longer than ${r}`;throw new tr(e,t,n)}});function iy(t,e){Dn(t,e);for(let r=0;r<t.length;r++)Uo(t[r],`${e}[${r}]`)}function oy(t,e){Dn(t,e);for(let r=0;r<t.length;r++)af(t[r],`${e}[${r}]`)}function sy(t,e){Dn(t,e);for(let r=0;r<t.length;r++){let n=t[r],i=`${e}[${r}]`;if(n==null)throw new V(i,"AbortSignal",n);uf(n,i)}}function ay(t,e="signal"){if(Uo(t,e),ef[t]===void 0)throw ef[$p(t)]!==void 0?new Qu(t+" (signals must use all capital letters)"):new Qu(t)}var uy=ie((t,e="buffer")=>{if(!Gp(t))throw new V(e,["Buffer","TypedArray","DataView"],t)});function fy(t,e){let r=Vp(e),n=t.length;if(r==="hex"&&n%2!==0)throw new tr("encoding",e,`is invalid for data of length ${n}`)}function ly(t,e="Port",r=!0){if(typeof t!="number"&&typeof t!="string"||typeof t=="string"&&Wp(t).length===0||+t!==+t>>>0||t>65535||t===0&&!r)throw new jp(e,t,r);return t|0}var uf=ie((t,e)=>{if(t!==void 0&&(t===null||typeof t!="object"||!("aborted"in t)))throw new V(e,"AbortSignal",t)}),cy=ie((t,e)=>{if(typeof t!="function")throw new V(e,"Function",t)}),dy=ie((t,e)=>{if(typeof t!="function"||Kp(t))throw new V(e,"Function",t)}),hy=ie((t,e)=>{if(t!==void 0)throw new V(e,"undefined",t)});function py(t,e,r){if(!rf(r,t))throw new V(e,`('${nf(r,"|")}')`,t)}var yy=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function tf(t,e){if(typeof t>"u"||!of(yy,t))throw new tr(e,t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function by(t){if(typeof t=="string")return tf(t,"hints"),t;if(Mo(t)){let e=t.length,r="";if(e===0)return r;for(let n=0;n<e;n++){let i=t[n];tf(i,"hints"),r+=i,n!==e-1&&(r+=", ")}return r}throw new tr("hints",t,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}ff.exports={isInt32:Hp,isUint32:zp,parseFileMode:Xp,validateArray:Dn,validateStringArray:iy,validateBooleanArray:oy,validateAbortSignalArray:sy,validateBoolean:af,validateBuffer:uy,validateDictionary:ny,validateEncoding:fy,validateFunction:cy,validateInt32:Qp,validateInteger:Zp,validateNumber:ey,validateObject:ry,validateOneOf:ty,validatePlainFunction:dy,validatePort:ly,validateSignalName:ay,validateString:Uo,validateUint32:sf,validateUndefined:hy,validateUnion:py,validateAbortSignal:uf,validateLinkHeaderValue:by}});var et=w((E0,hf)=>{var N=hf.exports={},ge,me;function Po(){throw new Error("setTimeout has not been defined")}function Fo(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ge=setTimeout:ge=Po}catch{ge=Po}try{typeof clearTimeout=="function"?me=clearTimeout:me=Fo}catch{me=Fo}})();function lf(t){if(ge===setTimeout)return setTimeout(t,0);if((ge===Po||!ge)&&setTimeout)return ge=setTimeout,setTimeout(t,0);try{return ge(t,0)}catch{try{return ge.call(null,t,0)}catch{return ge.call(this,t,0)}}}function wy(t){if(me===clearTimeout)return clearTimeout(t);if((me===Fo||!me)&&clearTimeout)return me=clearTimeout,clearTimeout(t);try{return me(t)}catch{try{return me.call(null,t)}catch{return me.call(this,t)}}}var Ue=[],nr=!1,Tt,Un=-1;function gy(){!nr||!Tt||(nr=!1,Tt.length?Ue=Tt.concat(Ue):Un=-1,Ue.length&&cf())}function cf(){if(!nr){var t=lf(gy);nr=!0;for(var e=Ue.length;e;){for(Tt=Ue,Ue=[];++Un<e;)Tt&&Tt[Un].run();Un=-1,e=Ue.length}Tt=null,nr=!1,wy(t)}}N.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Ue.push(new df(t,e)),Ue.length===1&&!nr&&lf(cf)};function df(t,e){this.fun=t,this.array=e}df.prototype.run=function(){this.fun.apply(null,this.array)};N.title="browser";N.browser=!0;N.env={};N.argv=[];N.version="";N.versions={};function Pe(){}N.on=Pe;N.addListener=Pe;N.once=Pe;N.off=Pe;N.removeListener=Pe;N.removeAllListeners=Pe;N.emit=Pe;N.prependListener=Pe;N.prependOnceListener=Pe;N.listeners=function(t){return[]};N.binding=function(t){throw new Error("process.binding is not supported")};N.cwd=function(){return"/"};N.chdir=function(t){throw new Error("process.chdir is not supported")};N.umask=function(){return 0}});var _e=w((_0,vf)=>{"use strict";var{SymbolAsyncIterator:pf,SymbolIterator:yf,SymbolFor:Rt}=O(),bf=Rt("nodejs.stream.destroyed"),wf=Rt("nodejs.stream.errored"),qo=Rt("nodejs.stream.readable"),$o=Rt("nodejs.stream.writable"),gf=Rt("nodejs.stream.disturbed"),my=Rt("nodejs.webstream.isClosedPromise"),Ey=Rt("nodejs.webstream.controllerErrorFunction");function Pn(t,e=!1){var r;return!!(t&&typeof t.pipe=="function"&&typeof t.on=="function"&&(!e||typeof t.pause=="function"&&typeof t.resume=="function")&&(!t._writableState||((r=t._readableState)===null||r===void 0?void 0:r.readable)!==!1)&&(!t._writableState||t._readableState))}function Fn(t){var e;return!!(t&&typeof t.write=="function"&&typeof t.on=="function"&&(!t._readableState||((e=t._writableState)===null||e===void 0?void 0:e.writable)!==!1))}function _y(t){return!!(t&&typeof t.pipe=="function"&&t._readableState&&typeof t.on=="function"&&typeof t.write=="function")}function Ee(t){return t&&(t._readableState||t._writableState||typeof t.write=="function"&&typeof t.on=="function"||typeof t.pipe=="function"&&typeof t.on=="function")}function mf(t){return!!(t&&!Ee(t)&&typeof t.pipeThrough=="function"&&typeof t.getReader=="function"&&typeof t.cancel=="function")}function Ef(t){return!!(t&&!Ee(t)&&typeof t.getWriter=="function"&&typeof t.abort=="function")}function _f(t){return!!(t&&!Ee(t)&&typeof t.readable=="object"&&typeof t.writable=="object")}function xy(t){return mf(t)||Ef(t)||_f(t)}function Sy(t,e){return t==null?!1:e===!0?typeof t[pf]=="function":e===!1?typeof t[yf]=="function":typeof t[pf]=="function"||typeof t[yf]=="function"}function qn(t){if(!Ee(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!!(t.destroyed||t[bf]||n!=null&&n.destroyed)}function xf(t){if(!Fn(t))return null;if(t.writableEnded===!0)return!0;let e=t._writableState;return e!=null&&e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function Ay(t,e){if(!Fn(t))return null;if(t.writableFinished===!0)return!0;let r=t._writableState;return r!=null&&r.errored?!1:typeof r?.finished!="boolean"?null:!!(r.finished||e===!1&&r.ended===!0&&r.length===0)}function Ty(t){if(!Pn(t))return null;if(t.readableEnded===!0)return!0;let e=t._readableState;return!e||e.errored?!1:typeof e?.ended!="boolean"?null:e.ended}function Sf(t,e){if(!Pn(t))return null;let r=t._readableState;return r!=null&&r.errored?!1:typeof r?.endEmitted!="boolean"?null:!!(r.endEmitted||e===!1&&r.ended===!0&&r.length===0)}function Af(t){return t&&t[qo]!=null?t[qo]:typeof t?.readable!="boolean"?null:qn(t)?!1:Pn(t)&&t.readable&&!Sf(t)}function Tf(t){return t&&t[$o]!=null?t[$o]:typeof t?.writable!="boolean"?null:qn(t)?!1:Fn(t)&&t.writable&&!xf(t)}function Ry(t,e){return Ee(t)?qn(t)?!0:!(e?.readable!==!1&&Af(t)||e?.writable!==!1&&Tf(t)):null}function Iy(t){var e,r;return Ee(t)?t.writableErrored?t.writableErrored:(e=(r=t._writableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function vy(t){var e,r;return Ee(t)?t.readableErrored?t.readableErrored:(e=(r=t._readableState)===null||r===void 0?void 0:r.errored)!==null&&e!==void 0?e:null:null}function Ly(t){if(!Ee(t))return null;if(typeof t.closed=="boolean")return t.closed;let e=t._writableState,r=t._readableState;return typeof e?.closed=="boolean"||typeof r?.closed=="boolean"?e?.closed||r?.closed:typeof t._closed=="boolean"&&Rf(t)?t._closed:null}function Rf(t){return typeof t._closed=="boolean"&&typeof t._defaultKeepAlive=="boolean"&&typeof t._removedConnection=="boolean"&&typeof t._removedContLen=="boolean"}function If(t){return typeof t._sent100=="boolean"&&Rf(t)}function By(t){var e;return typeof t._consuming=="boolean"&&typeof t._dumped=="boolean"&&((e=t.req)===null||e===void 0?void 0:e.upgradeOrConnect)===void 0}function Oy(t){if(!Ee(t))return null;let e=t._writableState,r=t._readableState,n=e||r;return!n&&If(t)||!!(n&&n.autoDestroy&&n.emitClose&&n.closed===!1)}function Cy(t){var e;return!!(t&&((e=t[gf])!==null&&e!==void 0?e:t.readableDidRead||t.readableAborted))}function Ny(t){var e,r,n,i,o,s,a,f,u,l;return!!(t&&((e=(r=(n=(i=(o=(s=t[wf])!==null&&s!==void 0?s:t.readableErrored)!==null&&o!==void 0?o:t.writableErrored)!==null&&i!==void 0?i:(a=t._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&n!==void 0?n:(f=t._writableState)===null||f===void 0?void 0:f.errorEmitted)!==null&&r!==void 0?r:(u=t._readableState)===null||u===void 0?void 0:u.errored)!==null&&e!==void 0?e:!((l=t._writableState)===null||l===void 0)&&l.errored))}vf.exports={isDestroyed:qn,kIsDestroyed:bf,isDisturbed:Cy,kIsDisturbed:gf,isErrored:Ny,kIsErrored:wf,isReadable:Af,kIsReadable:qo,kIsClosedPromise:my,kControllerErrorFunction:Ey,kIsWritable:$o,isClosed:Ly,isDuplexNodeStream:_y,isFinished:Ry,isIterable:Sy,isReadableNodeStream:Pn,isReadableStream:mf,isReadableEnded:Ty,isReadableFinished:Sf,isReadableErrored:vy,isNodeStream:Ee,isWebStream:xy,isWritable:Tf,isWritableNodeStream:Fn,isWritableStream:Ef,isWritableEnded:xf,isWritableFinished:Ay,isWritableErrored:Iy,isServerRequest:By,isServerResponse:If,willEmitClose:Oy,isTransformStream:_f}});var Fe=w((x0,Go)=>{var tt=et(),{AbortError:Uf,codes:ky}=H(),{ERR_INVALID_ARG_TYPE:My,ERR_STREAM_PREMATURE_CLOSE:Lf}=ky,{kEmptyObject:jo,once:Vo}=j(),{validateAbortSignal:Dy,validateFunction:Uy,validateObject:Py,validateBoolean:Fy}=rr(),{Promise:qy,PromisePrototypeThen:$y,SymbolDispose:Pf}=O(),{isClosed:Wy,isReadable:Bf,isReadableNodeStream:Wo,isReadableStream:jy,isReadableFinished:Of,isReadableErrored:Cf,isWritable:Nf,isWritableNodeStream:kf,isWritableStream:Vy,isWritableFinished:Mf,isWritableErrored:Df,isNodeStream:Ky,willEmitClose:Gy,kIsClosedPromise:Hy}=_e(),ir;function zy(t){return t.setHeader&&typeof t.abort=="function"}var Ko=()=>{};function Ff(t,e,r){var n,i;if(arguments.length===2?(r=e,e=jo):e==null?e=jo:Py(e,"options"),Uy(r,"callback"),Dy(e.signal,"options.signal"),r=Vo(r),jy(t)||Vy(t))return Yy(t,e,r);if(!Ky(t))throw new My("stream",["ReadableStream","WritableStream","Stream"],t);let o=(n=e.readable)!==null&&n!==void 0?n:Wo(t),s=(i=e.writable)!==null&&i!==void 0?i:kf(t),a=t._writableState,f=t._readableState,u=()=>{t.writable||y()},l=Gy(t)&&Wo(t)===o&&kf(t)===s,c=Mf(t,!1),y=()=>{c=!0,t.destroyed&&(l=!1),!(l&&(!t.readable||o))&&(!o||h)&&r.call(t)},h=Of(t,!1),b=()=>{h=!0,t.destroyed&&(l=!1),!(l&&(!t.writable||s))&&(!s||c)&&r.call(t)},p=R=>{r.call(t,R)},x=Wy(t),g=()=>{x=!0;let R=Df(t)||Cf(t);if(R&&typeof R!="boolean")return r.call(t,R);if(o&&!h&&Wo(t,!0)&&!Of(t,!1))return r.call(t,new Lf);if(s&&!c&&!Mf(t,!1))return r.call(t,new Lf);r.call(t)},A=()=>{x=!0;let R=Df(t)||Cf(t);if(R&&typeof R!="boolean")return r.call(t,R);r.call(t)},I=()=>{t.req.on("finish",y)};zy(t)?(t.on("complete",y),l||t.on("abort",g),t.req?I():t.on("request",I)):s&&!a&&(t.on("end",u),t.on("close",u)),!l&&typeof t.aborted=="boolean"&&t.on("aborted",g),t.on("end",b),t.on("finish",y),e.error!==!1&&t.on("error",p),t.on("close",g),x?tt.nextTick(g):a!=null&&a.errorEmitted||f!=null&&f.errorEmitted?l||tt.nextTick(A):(!o&&(!l||Bf(t))&&(c||Nf(t)===!1)||!s&&(!l||Nf(t))&&(h||Bf(t)===!1)||f&&t.req&&t.aborted)&&tt.nextTick(A);let m=()=>{r=Ko,t.removeListener("aborted",g),t.removeListener("complete",y),t.removeListener("abort",g),t.removeListener("request",I),t.req&&t.req.removeListener("finish",y),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",y),t.removeListener("end",b),t.removeListener("error",p),t.removeListener("close",g)};if(e.signal&&!x){let R=()=>{let q=r;m(),q.call(t,new Uf(void 0,{cause:e.signal.reason}))};if(e.signal.aborted)tt.nextTick(R);else{ir=ir||j().addAbortListener;let q=ir(e.signal,R),B=r;r=Vo((...$)=>{q[Pf](),B.apply(t,$)})}}return m}function Yy(t,e,r){let n=!1,i=Ko;if(e.signal)if(i=()=>{n=!0,r.call(t,new Uf(void 0,{cause:e.signal.reason}))},e.signal.aborted)tt.nextTick(i);else{ir=ir||j().addAbortListener;let s=ir(e.signal,i),a=r;r=Vo((...f)=>{s[Pf](),a.apply(t,f)})}let o=(...s)=>{n||tt.nextTick(()=>r.apply(t,s))};return $y(t[Hy].promise,o,o),Ko}function Jy(t,e){var r;let n=!1;return e===null&&(e=jo),(r=e)!==null&&r!==void 0&&r.cleanup&&(Fy(e.cleanup,"cleanup"),n=e.cleanup),new qy((i,o)=>{let s=Ff(t,e,a=>{n&&s(),a?o(a):i()})})}Go.exports=Ff;Go.exports.finished=Jy});var It=w((S0,Hf)=>{"use strict";var xe=et(),{aggregateTwoErrors:Xy,codes:{ERR_MULTIPLE_CALLBACK:Zy},AbortError:Qy}=H(),{Symbol:Wf}=O(),{kIsDestroyed:eb,isDestroyed:tb,isFinished:rb,isServerRequest:nb}=_e(),jf=Wf("kDestroy"),Ho=Wf("kConstruct");function Vf(t,e,r){t&&(t.stack,e&&!e.errored&&(e.errored=t),r&&!r.errored&&(r.errored=t))}function ib(t,e){let r=this._readableState,n=this._writableState,i=n||r;return n!=null&&n.destroyed||r!=null&&r.destroyed?(typeof e=="function"&&e(),this):(Vf(t,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),i.constructed?qf(this,t,e):this.once(jf,function(o){qf(this,Xy(o,t),e)}),this)}function qf(t,e,r){let n=!1;function i(o){if(n)return;n=!0;let s=t._readableState,a=t._writableState;Vf(o,a,s),a&&(a.closed=!0),s&&(s.closed=!0),typeof r=="function"&&r(o),o?xe.nextTick(ob,t,o):xe.nextTick(Kf,t)}try{t._destroy(e||null,i)}catch(o){i(o)}}function ob(t,e){zo(t,e),Kf(t)}function Kf(t){let e=t._readableState,r=t._writableState;r&&(r.closeEmitted=!0),e&&(e.closeEmitted=!0),(r!=null&&r.emitClose||e!=null&&e.emitClose)&&t.emit("close")}function zo(t,e){let r=t._readableState,n=t._writableState;n!=null&&n.errorEmitted||r!=null&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),t.emit("error",e))}function sb(){let t=this._readableState,e=this._writableState;t&&(t.constructed=!0,t.closed=!1,t.closeEmitted=!1,t.destroyed=!1,t.errored=null,t.errorEmitted=!1,t.reading=!1,t.ended=t.readable===!1,t.endEmitted=t.readable===!1),e&&(e.constructed=!0,e.destroyed=!1,e.closed=!1,e.closeEmitted=!1,e.errored=null,e.errorEmitted=!1,e.finalCalled=!1,e.prefinished=!1,e.ended=e.writable===!1,e.ending=e.writable===!1,e.finished=e.writable===!1)}function Yo(t,e,r){let n=t._readableState,i=t._writableState;if(i!=null&&i.destroyed||n!=null&&n.destroyed)return this;n!=null&&n.autoDestroy||i!=null&&i.autoDestroy?t.destroy(e):e&&(e.stack,i&&!i.errored&&(i.errored=e),n&&!n.errored&&(n.errored=e),r?xe.nextTick(zo,t,e):zo(t,e))}function ab(t,e){if(typeof t._construct!="function")return;let r=t._readableState,n=t._writableState;r&&(r.constructed=!1),n&&(n.constructed=!1),t.once(Ho,e),!(t.listenerCount(Ho)>1)&&xe.nextTick(ub,t)}function ub(t){let e=!1;function r(n){if(e){Yo(t,n??new Zy);return}e=!0;let i=t._readableState,o=t._writableState,s=o||i;i&&(i.constructed=!0),o&&(o.constructed=!0),s.destroyed?t.emit(jf,n):n?Yo(t,n,!0):xe.nextTick(fb,t)}try{t._construct(n=>{xe.nextTick(r,n)})}catch(n){xe.nextTick(r,n)}}function fb(t){t.emit(Ho)}function $f(t){return t?.setHeader&&typeof t.abort=="function"}function Gf(t){t.emit("close")}function lb(t,e){t.emit("error",e),xe.nextTick(Gf,t)}function cb(t,e){!t||tb(t)||(!e&&!rb(t)&&(e=new Qy),nb(t)?(t.socket=null,t.destroy(e)):$f(t)?t.abort():$f(t.req)?t.req.abort():typeof t.destroy=="function"?t.destroy(e):typeof t.close=="function"?t.close():e?xe.nextTick(lb,t,e):xe.nextTick(Gf,t),t.destroyed||(t[eb]=!0))}Hf.exports={construct:ab,destroyer:cb,destroy:ib,undestroy:sb,errorOrDestroy:Yo}});var jn=w((A0,Yf)=>{"use strict";var{ArrayIsArray:db,ObjectSetPrototypeOf:zf}=O(),{EventEmitter:$n}=jt();function Wn(t){$n.call(this,t)}zf(Wn.prototype,$n.prototype);zf(Wn,$n);Wn.prototype.pipe=function(t,e){let r=this;function n(l){t.writable&&t.write(l)===!1&&r.pause&&r.pause()}r.on("data",n);function i(){r.readable&&r.resume&&r.resume()}t.on("drain",i),!t._isStdio&&(!e||e.end!==!1)&&(r.on("end",s),r.on("close",a));let o=!1;function s(){o||(o=!0,t.end())}function a(){o||(o=!0,typeof t.destroy=="function"&&t.destroy())}function f(l){u(),$n.listenerCount(this,"error")===0&&this.emit("error",l)}Jo(r,"error",f),Jo(t,"error",f);function u(){r.removeListener("data",n),t.removeListener("drain",i),r.removeListener("end",s),r.removeListener("close",a),r.removeListener("error",f),t.removeListener("error",f),r.removeListener("end",u),r.removeListener("close",u),t.removeListener("close",u)}return r.on("end",u),r.on("close",u),t.on("close",u),t.emit("pipe",r),t};function Jo(t,e,r){if(typeof t.prependListener=="function")return t.prependListener(e,r);!t._events||!t._events[e]?t.on(e,r):db(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]}Yf.exports={Stream:Wn,prependListener:Jo}});var Fr=w((T0,Vn)=>{"use strict";var{SymbolDispose:hb}=O(),{AbortError:Jf,codes:pb}=H(),{isNodeStream:Xf,isWebStream:yb,kControllerErrorFunction:bb}=_e(),wb=Fe(),{ERR_INVALID_ARG_TYPE:Zf}=pb,Xo,gb=(t,e)=>{if(typeof t!="object"||!("aborted"in t))throw new Zf(e,"AbortSignal",t)};Vn.exports.addAbortSignal=function(e,r){if(gb(e,"signal"),!Xf(r)&&!yb(r))throw new Zf("stream",["ReadableStream","WritableStream","Stream"],r);return Vn.exports.addAbortSignalNoValidate(e,r)};Vn.exports.addAbortSignalNoValidate=function(t,e){if(typeof t!="object"||!("aborted"in t))return e;let r=Xf(e)?()=>{e.destroy(new Jf(void 0,{cause:t.reason}))}:()=>{e[bb](new Jf(void 0,{cause:t.reason}))};if(t.aborted)r();else{Xo=Xo||j().addAbortListener;let n=Xo(t,r);wb(e,n[hb])}return e}});var tl=w((I0,el)=>{"use strict";var{StringPrototypeSlice:Qf,SymbolIterator:mb,TypedArrayPrototypeSet:Kn,Uint8Array:Eb}=O(),{Buffer:Zo}=te(),{inspect:_b}=j();el.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){let r={data:e,next:null};this.length>0?this.tail.next=r:this.head=r,this.tail=r,++this.length}unshift(e){let r={data:e,next:this.head};this.length===0&&(this.tail=r),this.head=r,++this.length}shift(){if(this.length===0)return;let e=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(this.length===0)return"";let r=this.head,n=""+r.data;for(;(r=r.next)!==null;)n+=e+r.data;return n}concat(e){if(this.length===0)return Zo.alloc(0);let r=Zo.allocUnsafe(e>>>0),n=this.head,i=0;for(;n;)Kn(r,n.data,i),i+=n.data.length,n=n.next;return r}consume(e,r){let n=this.head.data;if(e<n.length){let i=n.slice(0,e);return this.head.data=n.slice(e),i}return e===n.length?this.shift():r?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[mb](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let r="",n=this.head,i=0;do{let o=n.data;if(e>o.length)r+=o,e-=o.length;else{e===o.length?(r+=o,++i,n.next?this.head=n.next:this.head=this.tail=null):(r+=Qf(o,0,e),this.head=n,n.data=Qf(o,e));break}++i}while((n=n.next)!==null);return this.length-=i,r}_getBuffer(e){let r=Zo.allocUnsafe(e),n=e,i=this.head,o=0;do{let s=i.data;if(e>s.length)Kn(r,s,n-e),e-=s.length;else{e===s.length?(Kn(r,s,n-e),++o,i.next?this.head=i.next:this.head=this.tail=null):(Kn(r,new Eb(s.buffer,s.byteOffset,e),n-e),this.head=i,i.data=s.slice(e));break}++o}while((i=i.next)!==null);return this.length-=o,r}[Symbol.for("nodejs.util.inspect.custom")](e,r){return _b(this,{...r,depth:0,customInspect:!1})}}});var qr=w((v0,ol)=>{"use strict";var{MathFloor:xb,NumberIsInteger:Sb}=O(),{validateInteger:Ab}=rr(),{ERR_INVALID_ARG_VALUE:Tb}=H().codes,rl=16*1024,nl=16;function Rb(t,e,r){return t.highWaterMark!=null?t.highWaterMark:e?t[r]:null}function il(t){return t?nl:rl}function Ib(t,e){Ab(e,"value",0),t?nl=e:rl=e}function vb(t,e,r,n){let i=Rb(e,n,r);if(i!=null){if(!Sb(i)||i<0){let o=n?`options.${r}`:"options.highWaterMark";throw new Tb(o,i)}return xb(i)}return il(t.objectMode)}ol.exports={getHighWaterMark:vb,getDefaultHighWaterMark:il,setDefaultHighWaterMark:Ib}});var ul=w((Qo,al)=>{var Gn=te(),Se=Gn.Buffer;function sl(t,e){for(var r in t)e[r]=t[r]}Se.from&&Se.alloc&&Se.allocUnsafe&&Se.allocUnsafeSlow?al.exports=Gn:(sl(Gn,Qo),Qo.Buffer=vt);function vt(t,e,r){return Se(t,e,r)}vt.prototype=Object.create(Se.prototype);sl(Se,vt);vt.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return Se(t,e,r)};vt.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=Se(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n};vt.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Se(t)};vt.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return Gn.SlowBuffer(t)}});var cl=w(ll=>{"use strict";var ts=ul().Buffer,fl=ts.isEncoding||function(t){switch(t=""+t,t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function Lb(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function Bb(t){var e=Lb(t);if(typeof e!="string"&&(ts.isEncoding===fl||!fl(t)))throw new Error("Unknown encoding: "+t);return e||t}ll.StringDecoder=$r;function $r(t){this.encoding=Bb(t);var e;switch(this.encoding){case"utf16le":this.text=Db,this.end=Ub,e=4;break;case"utf8":this.fillLast=Nb,e=4;break;case"base64":this.text=Pb,this.end=Fb,e=3;break;default:this.write=qb,this.end=$b;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=ts.allocUnsafe(e)}$r.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if(e=this.fillLast(t),e===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""};$r.prototype.end=Mb;$r.prototype.text=kb;$r.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length};function es(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function Ob(t,e,r){var n=e.length-1;if(n<r)return 0;var i=es(e[n]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--n<r||i===-2?0:(i=es(e[n]),i>=0?(i>0&&(t.lastNeed=i-2),i):--n<r||i===-2?0:(i=es(e[n]),i>=0?(i>0&&(i===2?i=0:t.lastNeed=i-3),i):0))}function Cb(t,e,r){if((e[0]&192)!==128)return t.lastNeed=0,"\uFFFD";if(t.lastNeed>1&&e.length>1){if((e[1]&192)!==128)return t.lastNeed=1,"\uFFFD";if(t.lastNeed>2&&e.length>2&&(e[2]&192)!==128)return t.lastNeed=2,"\uFFFD"}}function Nb(t){var e=this.lastTotal-this.lastNeed,r=Cb(this,t,e);if(r!==void 0)return r;if(this.lastNeed<=t.length)return t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length}function kb(t,e){var r=Ob(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)}function Mb(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\uFFFD":e}function Db(t,e){if((t.length-e)%2===0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function Ub(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function Pb(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function Fb(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function qb(t){return t.toString(this.encoding)}function $b(t){return t&&t.length?this.write(t):""}});var rs=w((B0,yl)=>{"use strict";var dl=et(),{PromisePrototypeThen:Wb,SymbolAsyncIterator:hl,SymbolIterator:pl}=O(),{Buffer:jb}=te(),{ERR_INVALID_ARG_TYPE:Vb,ERR_STREAM_NULL_VALUES:Kb}=H().codes;function Gb(t,e,r){let n;if(typeof e=="string"||e instanceof jb)return new t({objectMode:!0,...r,read(){this.push(e),this.push(null)}});let i;if(e&&e[hl])i=!0,n=e[hl]();else if(e&&e[pl])i=!1,n=e[pl]();else throw new Vb("iterable",["Iterable"],e);let o=new t({objectMode:!0,highWaterMark:1,...r}),s=!1;o._read=function(){s||(s=!0,f())},o._destroy=function(u,l){Wb(a(u),()=>dl.nextTick(l,u),c=>dl.nextTick(l,c||u))};async function a(u){let l=u!=null,c=typeof n.throw=="function";if(l&&c){let{value:y,done:h}=await n.throw(u);if(await y,h)return}if(typeof n.return=="function"){let{value:y}=await n.return();await y}}async function f(){for(;;){try{let{value:u,done:l}=i?await n.next():n.next();if(l)o.push(null);else{let c=u&&typeof u.then=="function"?await u:u;if(c===null)throw s=!1,new Kb;if(o.push(c))continue;s=!1}}catch(u){o.destroy(u)}break}}return o}yl.exports=Gb});var jr=w((O0,Nl)=>{var le=et(),{ArrayPrototypeIndexOf:Hb,NumberIsInteger:zb,NumberIsNaN:Yb,NumberParseInt:Jb,ObjectDefineProperties:ls,ObjectKeys:Xb,ObjectSetPrototypeOf:gl,Promise:ml,SafeSet:Zb,SymbolAsyncDispose:Qb,SymbolAsyncIterator:ew,Symbol:tw}=O();Nl.exports=_;_.ReadableState=Jn;var{EventEmitter:rw}=jt(),{Stream:rt,prependListener:nw}=jn(),{Buffer:ns}=te(),{addAbortSignal:iw}=Fr(),El=Fe(),T=j().debuglog("stream",t=>{T=t}),ow=tl(),ar=It(),{getHighWaterMark:sw,getDefaultHighWaterMark:aw}=qr(),{aggregateTwoErrors:bl,codes:{ERR_INVALID_ARG_TYPE:uw,ERR_METHOD_NOT_IMPLEMENTED:fw,ERR_OUT_OF_RANGE:lw,ERR_STREAM_PUSH_AFTER_EOF:cw,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:dw},AbortError:hw}=H(),{validateObject:pw}=rr(),Lt=tw("kPaused"),{StringDecoder:_l}=cl(),yw=rs();gl(_.prototype,rt.prototype);gl(_,rt);var is=()=>{},{errorOrDestroy:or}=ar,sr=1,bw=2,xl=4,Wr=8,Sl=16,Hn=32,zn=64,Al=128,ww=256,gw=512,mw=1024,us=2048,fs=4096,Ew=8192,_w=16384,xw=32768,Tl=65536,Sw=1<<17,Aw=1<<18;function D(t){return{enumerable:!1,get(){return(this.state&t)!==0},set(e){e?this.state|=t:this.state&=~t}}}ls(Jn.prototype,{objectMode:D(sr),ended:D(bw),endEmitted:D(xl),reading:D(Wr),constructed:D(Sl),sync:D(Hn),needReadable:D(zn),emittedReadable:D(Al),readableListening:D(ww),resumeScheduled:D(gw),errorEmitted:D(mw),emitClose:D(us),autoDestroy:D(fs),destroyed:D(Ew),closed:D(_w),closeEmitted:D(xw),multiAwaitDrain:D(Tl),readingMore:D(Sw),dataEmitted:D(Aw)});function Jn(t,e,r){typeof r!="boolean"&&(r=e instanceof Ae()),this.state=us|fs|Sl|Hn,t&&t.objectMode&&(this.state|=sr),r&&t&&t.readableObjectMode&&(this.state|=sr),this.highWaterMark=t?sw(this,t,"readableHighWaterMark",r):aw(!1),this.buffer=new ow,this.length=0,this.pipes=[],this.flowing=null,this[Lt]=null,t&&t.emitClose===!1&&(this.state&=~us),t&&t.autoDestroy===!1&&(this.state&=~fs),this.errored=null,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,t&&t.encoding&&(this.decoder=new _l(t.encoding),this.encoding=t.encoding)}function _(t){if(!(this instanceof _))return new _(t);let e=this instanceof Ae();this._readableState=new Jn(t,this,e),t&&(typeof t.read=="function"&&(this._read=t.read),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&!e&&iw(t.signal,this)),rt.call(this,t),ar.construct(this,()=>{this._readableState.needReadable&&Yn(this,this._readableState)})}_.prototype.destroy=ar.destroy;_.prototype._undestroy=ar.undestroy;_.prototype._destroy=function(t,e){e(t)};_.prototype[rw.captureRejectionSymbol]=function(t){this.destroy(t)};_.prototype[Qb]=function(){let t;return this.destroyed||(t=this.readableEnded?null:new hw,this.destroy(t)),new ml((e,r)=>El(this,n=>n&&n!==t?r(n):e(null)))};_.prototype.push=function(t,e){return Rl(this,t,e,!1)};_.prototype.unshift=function(t,e){return Rl(this,t,e,!0)};function Rl(t,e,r,n){T("readableAddChunk",e);let i=t._readableState,o;if(i.state&sr||(typeof e=="string"?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?e=ns.from(e,r).toString(i.encoding):(e=ns.from(e,r),r=""))):e instanceof ns?r="":rt._isUint8Array(e)?(e=rt._uint8ArrayToBuffer(e),r=""):e!=null&&(o=new uw("chunk",["string","Buffer","Uint8Array"],e))),o)or(t,o);else if(e===null)i.state&=~Wr,Iw(t,i);else if(i.state&sr||e&&e.length>0)if(n)if(i.state&xl)or(t,new dw);else{if(i.destroyed||i.errored)return!1;os(t,i,e,!0)}else if(i.ended)or(t,new cw);else{if(i.destroyed||i.errored)return!1;i.state&=~Wr,i.decoder&&!r?(e=i.decoder.write(e),i.objectMode||e.length!==0?os(t,i,e,!1):Yn(t,i)):os(t,i,e,!1)}else n||(i.state&=~Wr,Yn(t,i));return!i.ended&&(i.length<i.highWaterMark||i.length===0)}function os(t,e,r,n){e.flowing&&e.length===0&&!e.sync&&t.listenerCount("data")>0?(e.state&Tl?e.awaitDrainWriters.clear():e.awaitDrainWriters=null,e.dataEmitted=!0,t.emit("data",r)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.state&zn&&Xn(t)),Yn(t,e)}_.prototype.isPaused=function(){let t=this._readableState;return t[Lt]===!0||t.flowing===!1};_.prototype.setEncoding=function(t){let e=new _l(t);this._readableState.decoder=e,this._readableState.encoding=this._readableState.decoder.encoding;let r=this._readableState.buffer,n="";for(let i of r)n+=e.write(i);return r.clear(),n!==""&&r.push(n),this._readableState.length=n.length,this};var Tw=1073741824;function Rw(t){if(t>Tw)throw new lw("size","<= 1GiB",t);return t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++,t}function wl(t,e){return t<=0||e.length===0&&e.ended?0:e.state&sr?1:Yb(t)?e.flowing&&e.length?e.buffer.first().length:e.length:t<=e.length?t:e.ended?e.length:0}_.prototype.read=function(t){T("read",t),t===void 0?t=NaN:zb(t)||(t=Jb(t,10));let e=this._readableState,r=t;if(t>e.highWaterMark&&(e.highWaterMark=Rw(t)),t!==0&&(e.state&=~Al),t===0&&e.needReadable&&((e.highWaterMark!==0?e.length>=e.highWaterMark:e.length>0)||e.ended))return T("read: emitReadable",e.length,e.ended),e.length===0&&e.ended?ss(this):Xn(this),null;if(t=wl(t,e),t===0&&e.ended)return e.length===0&&ss(this),null;let n=(e.state&zn)!==0;if(T("need readable",n),(e.length===0||e.length-t<e.highWaterMark)&&(n=!0,T("length less than watermark",n)),e.ended||e.reading||e.destroyed||e.errored||!e.constructed)n=!1,T("reading, ended or constructing",n);else if(n){T("do read"),e.state|=Wr|Hn,e.length===0&&(e.state|=zn);try{this._read(e.highWaterMark)}catch(o){or(this,o)}e.state&=~Hn,e.reading||(t=wl(r,e))}let i;return t>0?i=Ol(t,e):i=null,i===null?(e.needReadable=e.length<=e.highWaterMark,t=0):(e.length-=t,e.multiAwaitDrain?e.awaitDrainWriters.clear():e.awaitDrainWriters=null),e.length===0&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&ss(this)),i!==null&&!e.errorEmitted&&!e.closeEmitted&&(e.dataEmitted=!0,this.emit("data",i)),i};function Iw(t,e){if(T("onEofChunk"),!e.ended){if(e.decoder){let r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,e.sync?Xn(t):(e.needReadable=!1,e.emittedReadable=!0,Il(t))}}function Xn(t){let e=t._readableState;T("emitReadable",e.needReadable,e.emittedReadable),e.needReadable=!1,e.emittedReadable||(T("emitReadable",e.flowing),e.emittedReadable=!0,le.nextTick(Il,t))}function Il(t){let e=t._readableState;T("emitReadable_",e.destroyed,e.length,e.ended),!e.destroyed&&!e.errored&&(e.length||e.ended)&&(t.emit("readable"),e.emittedReadable=!1),e.needReadable=!e.flowing&&!e.ended&&e.length<=e.highWaterMark,Ll(t)}function Yn(t,e){!e.readingMore&&e.constructed&&(e.readingMore=!0,le.nextTick(vw,t,e))}function vw(t,e){for(;!e.reading&&!e.ended&&(e.length<e.highWaterMark||e.flowing&&e.length===0);){let r=e.length;if(T("maybeReadMore read 0"),t.read(0),r===e.length)break}e.readingMore=!1}_.prototype._read=function(t){throw new fw("_read()")};_.prototype.pipe=function(t,e){let r=this,n=this._readableState;n.pipes.length===1&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new Zb(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(t),T("pipe count=%d opts=%j",n.pipes.length,e);let o=(!e||e.end!==!1)&&t!==le.stdout&&t!==le.stderr?a:x;n.endEmitted?le.nextTick(o):r.once("end",o),t.on("unpipe",s);function s(g,A){T("onunpipe"),g===r&&A&&A.hasUnpiped===!1&&(A.hasUnpiped=!0,l())}function a(){T("onend"),t.end()}let f,u=!1;function l(){T("cleanup"),t.removeListener("close",b),t.removeListener("finish",p),f&&t.removeListener("drain",f),t.removeListener("error",h),t.removeListener("unpipe",s),r.removeListener("end",a),r.removeListener("end",x),r.removeListener("data",y),u=!0,f&&n.awaitDrainWriters&&(!t._writableState||t._writableState.needDrain)&&f()}function c(){u||(n.pipes.length===1&&n.pipes[0]===t?(T("false write response, pause",0),n.awaitDrainWriters=t,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(t)&&(T("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(t)),r.pause()),f||(f=Lw(r,t),t.on("drain",f))}r.on("data",y);function y(g){T("ondata");let A=t.write(g);T("dest.write",A),A===!1&&c()}function h(g){if(T("onerror",g),x(),t.removeListener("error",h),t.listenerCount("error")===0){let A=t._writableState||t._readableState;A&&!A.errorEmitted?or(t,g):t.emit("error",g)}}nw(t,"error",h);function b(){t.removeListener("finish",p),x()}t.once("close",b);function p(){T("onfinish"),t.removeListener("close",b),x()}t.once("finish",p);function x(){T("unpipe"),r.unpipe(t)}return t.emit("pipe",r),t.writableNeedDrain===!0?c():n.flowing||(T("pipe resume"),r.resume()),t};function Lw(t,e){return function(){let n=t._readableState;n.awaitDrainWriters===e?(T("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(T("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(e)),(!n.awaitDrainWriters||n.awaitDrainWriters.size===0)&&t.listenerCount("data")&&t.resume()}}_.prototype.unpipe=function(t){let e=this._readableState,r={hasUnpiped:!1};if(e.pipes.length===0)return this;if(!t){let i=e.pipes;e.pipes=[],this.pause();for(let o=0;o<i.length;o++)i[o].emit("unpipe",this,{hasUnpiped:!1});return this}let n=Hb(e.pipes,t);return n===-1?this:(e.pipes.splice(n,1),e.pipes.length===0&&this.pause(),t.emit("unpipe",this,r),this)};_.prototype.on=function(t,e){let r=rt.prototype.on.call(this,t,e),n=this._readableState;return t==="data"?(n.readableListening=this.listenerCount("readable")>0,n.flowing!==!1&&this.resume()):t==="readable"&&!n.endEmitted&&!n.readableListening&&(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,T("on readable",n.length,n.reading),n.length?Xn(this):n.reading||le.nextTick(Bw,this)),r};_.prototype.addListener=_.prototype.on;_.prototype.removeListener=function(t,e){let r=rt.prototype.removeListener.call(this,t,e);return t==="readable"&&le.nextTick(vl,this),r};_.prototype.off=_.prototype.removeListener;_.prototype.removeAllListeners=function(t){let e=rt.prototype.removeAllListeners.apply(this,arguments);return(t==="readable"||t===void 0)&&le.nextTick(vl,this),e};function vl(t){let e=t._readableState;e.readableListening=t.listenerCount("readable")>0,e.resumeScheduled&&e[Lt]===!1?e.flowing=!0:t.listenerCount("data")>0?t.resume():e.readableListening||(e.flowing=null)}function Bw(t){T("readable nexttick read 0"),t.read(0)}_.prototype.resume=function(){let t=this._readableState;return t.flowing||(T("resume"),t.flowing=!t.readableListening,Ow(this,t)),t[Lt]=!1,this};function Ow(t,e){e.resumeScheduled||(e.resumeScheduled=!0,le.nextTick(Cw,t,e))}function Cw(t,e){T("resume",e.reading),e.reading||t.read(0),e.resumeScheduled=!1,t.emit("resume"),Ll(t),e.flowing&&!e.reading&&t.read(0)}_.prototype.pause=function(){return T("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(T("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[Lt]=!0,this};function Ll(t){let e=t._readableState;for(T("flow",e.flowing);e.flowing&&t.read()!==null;);}_.prototype.wrap=function(t){let e=!1;t.on("data",n=>{!this.push(n)&&t.pause&&(e=!0,t.pause())}),t.on("end",()=>{this.push(null)}),t.on("error",n=>{or(this,n)}),t.on("close",()=>{this.destroy()}),t.on("destroy",()=>{this.destroy()}),this._read=()=>{e&&t.resume&&(e=!1,t.resume())};let r=Xb(t);for(let n=1;n<r.length;n++){let i=r[n];this[i]===void 0&&typeof t[i]=="function"&&(this[i]=t[i].bind(t))}return this};_.prototype[ew]=function(){return Bl(this)};_.prototype.iterator=function(t){return t!==void 0&&pw(t,"options"),Bl(this,t)};function Bl(t,e){typeof t.read!="function"&&(t=_.wrap(t,{objectMode:!0}));let r=Nw(t,e);return r.stream=t,r}async function*Nw(t,e){let r=is;function n(s){this===t?(r(),r=is):r=s}t.on("readable",n);let i,o=El(t,{writable:!1},s=>{i=s?bl(i,s):null,r(),r=is});try{for(;;){let s=t.destroyed?null:t.read();if(s!==null)yield s;else{if(i)throw i;if(i===null)return;await new ml(n)}}}catch(s){throw i=bl(i,s),i}finally{(i||e?.destroyOnReturn!==!1)&&(i===void 0||t._readableState.autoDestroy)?ar.destroyer(t,null):(t.off("readable",n),o())}}ls(_.prototype,{readable:{__proto__:null,get(){let t=this._readableState;return!!t&&t.readable!==!1&&!t.destroyed&&!t.errorEmitted&&!t.endEmitted},set(t){this._readableState&&(this._readableState.readable=!!t)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(t){this._readableState&&(this._readableState.flowing=t)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(t){this._readableState&&(this._readableState.destroyed=t)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}});ls(Jn.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[Lt]!==!1},set(t){this[Lt]=!!t}}});_._fromList=Ol;function Ol(t,e){if(e.length===0)return null;let r;return e.objectMode?r=e.buffer.shift():!t||t>=e.length?(e.decoder?r=e.buffer.join(""):e.buffer.length===1?r=e.buffer.first():r=e.buffer.concat(e.length),e.buffer.clear()):r=e.buffer.consume(t,e.decoder),r}function ss(t){let e=t._readableState;T("endReadable",e.endEmitted),e.endEmitted||(e.ended=!0,le.nextTick(kw,e,t))}function kw(t,e){if(T("endReadableNT",t.endEmitted,t.length),!t.errored&&!t.closeEmitted&&!t.endEmitted&&t.length===0){if(t.endEmitted=!0,e.emit("end"),e.writable&&e.allowHalfOpen===!1)le.nextTick(Mw,e);else if(t.autoDestroy){let r=e._writableState;(!r||r.autoDestroy&&(r.finished||r.writable===!1))&&e.destroy()}}}function Mw(t){t.writable&&!t.writableEnded&&!t.destroyed&&t.end()}_.from=function(t,e){return yw(_,t,e)};var as;function Cl(){return as===void 0&&(as={}),as}_.fromWeb=function(t,e){return Cl().newStreamReadableFromReadableStream(t,e)};_.toWeb=function(t,e){return Cl().newReadableStreamFromStreamReadable(t,e)};_.wrap=function(t,e){var r,n;return new _({objectMode:(r=(n=t.readableObjectMode)!==null&&n!==void 0?n:t.objectMode)!==null&&r!==void 0?r:!0,...e,destroy(i,o){ar.destroyer(t,i),o(i)}}).wrap(t)}});var ri=w((C0,Kl)=>{var Bt=et(),{ArrayPrototypeSlice:Dl,Error:Dw,FunctionPrototypeSymbolHasInstance:Ul,ObjectDefineProperty:Pl,ObjectDefineProperties:Uw,ObjectSetPrototypeOf:Fl,StringPrototypeToLowerCase:Pw,Symbol:Fw,SymbolHasInstance:qw}=O();Kl.exports=C;C.WritableState=Gr;var{EventEmitter:$w}=jt(),Vr=jn().Stream,{Buffer:Zn}=te(),ti=It(),{addAbortSignal:Ww}=Fr(),{getHighWaterMark:jw,getDefaultHighWaterMark:Vw}=qr(),{ERR_INVALID_ARG_TYPE:Kw,ERR_METHOD_NOT_IMPLEMENTED:Gw,ERR_MULTIPLE_CALLBACK:ql,ERR_STREAM_CANNOT_PIPE:Hw,ERR_STREAM_DESTROYED:Kr,ERR_STREAM_ALREADY_FINISHED:zw,ERR_STREAM_NULL_VALUES:Yw,ERR_STREAM_WRITE_AFTER_END:Jw,ERR_UNKNOWN_ENCODING:$l}=H().codes,{errorOrDestroy:ur}=ti;Fl(C.prototype,Vr.prototype);Fl(C,Vr);function hs(){}var fr=Fw("kOnFinished");function Gr(t,e,r){typeof r!="boolean"&&(r=e instanceof Ae()),this.objectMode=!!(t&&t.objectMode),r&&(this.objectMode=this.objectMode||!!(t&&t.writableObjectMode)),this.highWaterMark=t?jw(this,t,"writableHighWaterMark",r):Vw(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let n=!!(t&&t.decodeStrings===!1);this.decodeStrings=!n,this.defaultEncoding=t&&t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=Zw.bind(void 0,e),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,ei(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!t||t.emitClose!==!1,this.autoDestroy=!t||t.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[fr]=[]}function ei(t){t.buffered=[],t.bufferedIndex=0,t.allBuffers=!0,t.allNoop=!0}Gr.prototype.getBuffer=function(){return Dl(this.buffered,this.bufferedIndex)};Pl(Gr.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function C(t){let e=this instanceof Ae();if(!e&&!Ul(C,this))return new C(t);this._writableState=new Gr(t,this,e),t&&(typeof t.write=="function"&&(this._write=t.write),typeof t.writev=="function"&&(this._writev=t.writev),typeof t.destroy=="function"&&(this._destroy=t.destroy),typeof t.final=="function"&&(this._final=t.final),typeof t.construct=="function"&&(this._construct=t.construct),t.signal&&Ww(t.signal,this)),Vr.call(this,t),ti.construct(this,()=>{let r=this._writableState;r.writing||ys(this,r),bs(this,r)})}Pl(C,qw,{__proto__:null,value:function(t){return Ul(this,t)?!0:this!==C?!1:t&&t._writableState instanceof Gr}});C.prototype.pipe=function(){ur(this,new Hw)};function Wl(t,e,r,n){let i=t._writableState;if(typeof r=="function")n=r,r=i.defaultEncoding;else{if(!r)r=i.defaultEncoding;else if(r!=="buffer"&&!Zn.isEncoding(r))throw new $l(r);typeof n!="function"&&(n=hs)}if(e===null)throw new Yw;if(!i.objectMode)if(typeof e=="string")i.decodeStrings!==!1&&(e=Zn.from(e,r),r="buffer");else if(e instanceof Zn)r="buffer";else if(Vr._isUint8Array(e))e=Vr._uint8ArrayToBuffer(e),r="buffer";else throw new Kw("chunk",["string","Buffer","Uint8Array"],e);let o;return i.ending?o=new Jw:i.destroyed&&(o=new Kr("write")),o?(Bt.nextTick(n,o),ur(t,o,!0),o):(i.pendingcb++,Xw(t,i,e,r,n))}C.prototype.write=function(t,e,r){return Wl(this,t,e,r)===!0};C.prototype.cork=function(){this._writableState.corked++};C.prototype.uncork=function(){let t=this._writableState;t.corked&&(t.corked--,t.writing||ys(this,t))};C.prototype.setDefaultEncoding=function(e){if(typeof e=="string"&&(e=Pw(e)),!Zn.isEncoding(e))throw new $l(e);return this._writableState.defaultEncoding=e,this};function Xw(t,e,r,n,i){let o=e.objectMode?1:r.length;e.length+=o;let s=e.length<e.highWaterMark;return s||(e.needDrain=!0),e.writing||e.corked||e.errored||!e.constructed?(e.buffered.push({chunk:r,encoding:n,callback:i}),e.allBuffers&&n!=="buffer"&&(e.allBuffers=!1),e.allNoop&&i!==hs&&(e.allNoop=!1)):(e.writelen=o,e.writecb=i,e.writing=!0,e.sync=!0,t._write(r,n,e.onwrite),e.sync=!1),s&&!e.errored&&!e.destroyed}function kl(t,e,r,n,i,o,s){e.writelen=n,e.writecb=s,e.writing=!0,e.sync=!0,e.destroyed?e.onwrite(new Kr("write")):r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function Ml(t,e,r,n){--e.pendingcb,n(r),ps(e),ur(t,r)}function Zw(t,e){let r=t._writableState,n=r.sync,i=r.writecb;if(typeof i!="function"){ur(t,new ql);return}r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,e?(e.stack,r.errored||(r.errored=e),t._readableState&&!t._readableState.errored&&(t._readableState.errored=e),n?Bt.nextTick(Ml,t,r,e,i):Ml(t,r,e,i)):(r.buffered.length>r.bufferedIndex&&ys(t,r),n?r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===i?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:i,stream:t,state:r},Bt.nextTick(Qw,r.afterWriteTickInfo)):jl(t,r,1,i))}function Qw({stream:t,state:e,count:r,cb:n}){return e.afterWriteTickInfo=null,jl(t,e,r,n)}function jl(t,e,r,n){for(!e.ending&&!t.destroyed&&e.length===0&&e.needDrain&&(e.needDrain=!1,t.emit("drain"));r-- >0;)e.pendingcb--,n();e.destroyed&&ps(e),bs(t,e)}function ps(t){if(t.writing)return;for(let i=t.bufferedIndex;i<t.buffered.length;++i){var e;let{chunk:o,callback:s}=t.buffered[i],a=t.objectMode?1:o.length;t.length-=a,s((e=t.errored)!==null&&e!==void 0?e:new Kr("write"))}let r=t[fr].splice(0);for(let i=0;i<r.length;i++){var n;r[i]((n=t.errored)!==null&&n!==void 0?n:new Kr("end"))}ei(t)}function ys(t,e){if(e.corked||e.bufferProcessing||e.destroyed||!e.constructed)return;let{buffered:r,bufferedIndex:n,objectMode:i}=e,o=r.length-n;if(!o)return;let s=n;if(e.bufferProcessing=!0,o>1&&t._writev){e.pendingcb-=o-1;let a=e.allNoop?hs:u=>{for(let l=s;l<r.length;++l)r[l].callback(u)},f=e.allNoop&&s===0?r:Dl(r,s);f.allBuffers=e.allBuffers,kl(t,e,!0,e.length,f,"",a),ei(e)}else{do{let{chunk:a,encoding:f,callback:u}=r[s];r[s++]=null;let l=i?1:a.length;kl(t,e,!1,l,a,f,u)}while(s<r.length&&!e.writing);s===r.length?ei(e):s>256?(r.splice(0,s),e.bufferedIndex=0):e.bufferedIndex=s}e.bufferProcessing=!1}C.prototype._write=function(t,e,r){if(this._writev)this._writev([{chunk:t,encoding:e}],r);else throw new Gw("_write()")};C.prototype._writev=null;C.prototype.end=function(t,e,r){let n=this._writableState;typeof t=="function"?(r=t,t=null,e=null):typeof e=="function"&&(r=e,e=null);let i;if(t!=null){let o=Wl(this,t,e);o instanceof Dw&&(i=o)}return n.corked&&(n.corked=1,this.uncork()),i||(!n.errored&&!n.ending?(n.ending=!0,bs(this,n,!0),n.ended=!0):n.finished?i=new zw("end"):n.destroyed&&(i=new Kr("end"))),typeof r=="function"&&(i||n.finished?Bt.nextTick(r,i):n[fr].push(r)),this};function Qn(t){return t.ending&&!t.destroyed&&t.constructed&&t.length===0&&!t.errored&&t.buffered.length===0&&!t.finished&&!t.writing&&!t.errorEmitted&&!t.closeEmitted}function eg(t,e){let r=!1;function n(i){if(r){ur(t,i??ql());return}if(r=!0,e.pendingcb--,i){let o=e[fr].splice(0);for(let s=0;s<o.length;s++)o[s](i);ur(t,i,e.sync)}else Qn(e)&&(e.prefinished=!0,t.emit("prefinish"),e.pendingcb++,Bt.nextTick(ds,t,e))}e.sync=!0,e.pendingcb++;try{t._final(n)}catch(i){n(i)}e.sync=!1}function tg(t,e){!e.prefinished&&!e.finalCalled&&(typeof t._final=="function"&&!e.destroyed?(e.finalCalled=!0,eg(t,e)):(e.prefinished=!0,t.emit("prefinish")))}function bs(t,e,r){Qn(e)&&(tg(t,e),e.pendingcb===0&&(r?(e.pendingcb++,Bt.nextTick((n,i)=>{Qn(i)?ds(n,i):i.pendingcb--},t,e)):Qn(e)&&(e.pendingcb++,ds(t,e))))}function ds(t,e){e.pendingcb--,e.finished=!0;let r=e[fr].splice(0);for(let n=0;n<r.length;n++)r[n]();if(t.emit("finish"),e.autoDestroy){let n=t._readableState;(!n||n.autoDestroy&&(n.endEmitted||n.readable===!1))&&t.destroy()}}Uw(C.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(t){this._writableState&&(this._writableState.destroyed=t)}},writable:{__proto__:null,get(){let t=this._writableState;return!!t&&t.writable!==!1&&!t.destroyed&&!t.errored&&!t.ending&&!t.ended},set(t){this._writableState&&(this._writableState.writable=!!t)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let t=this._writableState;return t?!t.destroyed&&!t.ending&&t.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var rg=ti.destroy;C.prototype.destroy=function(t,e){let r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[fr].length)&&Bt.nextTick(ps,r),rg.call(this,t,e),this};C.prototype._undestroy=ti.undestroy;C.prototype._destroy=function(t,e){e(t)};C.prototype[$w.captureRejectionSymbol]=function(t){this.destroy(t)};var cs;function Vl(){return cs===void 0&&(cs={}),cs}C.fromWeb=function(t,e){return Vl().newStreamWritableFromWritableStream(t,e)};C.toWeb=function(t){return Vl().newWritableStreamFromStreamWritable(t)}});var sc=w((N0,oc)=>{var ws=et(),ng=te(),{isReadable:ig,isWritable:og,isIterable:Gl,isNodeStream:sg,isReadableNodeStream:Hl,isWritableNodeStream:zl,isDuplexNodeStream:ag,isReadableStream:Yl,isWritableStream:Jl}=_e(),Xl=Fe(),{AbortError:nc,codes:{ERR_INVALID_ARG_TYPE:ug,ERR_INVALID_RETURN_VALUE:Zl}}=H(),{destroyer:cr}=It(),fg=Ae(),ic=jr(),lg=ri(),{createDeferredPromise:Ql}=j(),ec=rs(),tc=globalThis.Blob||ng.Blob,cg=typeof tc<"u"?function(e){return e instanceof tc}:function(e){return!1},dg=globalThis.AbortController||er().AbortController,{FunctionPrototypeCall:rc}=O(),nt=class extends fg{constructor(e){super(e),e?.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),e?.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};oc.exports=function t(e,r){if(ag(e))return e;if(Hl(e))return lr({readable:e});if(zl(e))return lr({writable:e});if(sg(e))return lr({writable:!1,readable:!1});if(Yl(e))return lr({readable:ic.fromWeb(e)});if(Jl(e))return lr({writable:lg.fromWeb(e)});if(typeof e=="function"){let{value:i,write:o,final:s,destroy:a}=hg(e);if(Gl(i))return ec(nt,i,{objectMode:!0,write:o,final:s,destroy:a});let f=i?.then;if(typeof f=="function"){let u,l=rc(f,i,c=>{if(c!=null)throw new Zl("nully","body",c)},c=>{cr(u,c)});return u=new nt({objectMode:!0,readable:!1,write:o,final(c){s(async()=>{try{await l,ws.nextTick(c,null)}catch(y){ws.nextTick(c,y)}})},destroy:a})}throw new Zl("Iterable, AsyncIterable or AsyncFunction",r,i)}if(cg(e))return t(e.arrayBuffer());if(Gl(e))return ec(nt,e,{objectMode:!0,writable:!1});if(Yl(e?.readable)&&Jl(e?.writable))return nt.fromWeb(e);if(typeof e?.writable=="object"||typeof e?.readable=="object"){let i=e!=null&&e.readable?Hl(e?.readable)?e?.readable:t(e.readable):void 0,o=e!=null&&e.writable?zl(e?.writable)?e?.writable:t(e.writable):void 0;return lr({readable:i,writable:o})}let n=e?.then;if(typeof n=="function"){let i;return rc(n,e,o=>{o!=null&&i.push(o),i.push(null)},o=>{cr(i,o)}),i=new nt({objectMode:!0,writable:!1,read(){}})}throw new ug(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],e)};function hg(t){let{promise:e,resolve:r}=Ql(),n=new dg,i=n.signal;return{value:t(async function*(){for(;;){let s=e;e=null;let{chunk:a,done:f,cb:u}=await s;if(ws.nextTick(u),f)return;if(i.aborted)throw new nc(void 0,{cause:i.reason});({promise:e,resolve:r}=Ql()),yield a}}(),{signal:i}),write(s,a,f){let u=r;r=null,u({chunk:s,done:!1,cb:f})},final(s){let a=r;r=null,a({done:!0,cb:s})},destroy(s,a){n.abort(),a(s)}}}function lr(t){let e=t.readable&&typeof t.readable.read!="function"?ic.wrap(t.readable):t.readable,r=t.writable,n=!!ig(e),i=!!og(r),o,s,a,f,u;function l(c){let y=f;f=null,y?y(c):c&&u.destroy(c)}return u=new nt({readableObjectMode:!!(e!=null&&e.readableObjectMode),writableObjectMode:!!(r!=null&&r.writableObjectMode),readable:n,writable:i}),i&&(Xl(r,c=>{i=!1,c&&cr(e,c),l(c)}),u._write=function(c,y,h){r.write(c,y)?h():o=h},u._final=function(c){r.end(),s=c},r.on("drain",function(){if(o){let c=o;o=null,c()}}),r.on("finish",function(){if(s){let c=s;s=null,c()}})),n&&(Xl(e,c=>{n=!1,c&&cr(e,c),l(c)}),e.on("readable",function(){if(a){let c=a;a=null,c()}}),e.on("end",function(){u.push(null)}),u._read=function(){for(;;){let c=e.read();if(c===null){a=u._read;return}if(!u.push(c))return}}),u._destroy=function(c,y){!c&&f!==null&&(c=new nc),a=null,o=null,s=null,f===null?y(c):(f=y,cr(r,c),cr(e,c))},u}});var Ae=w((k0,fc)=>{"use strict";var{ObjectDefineProperties:pg,ObjectGetOwnPropertyDescriptor:qe,ObjectKeys:yg,ObjectSetPrototypeOf:ac}=O();fc.exports=ce;var Es=jr(),oe=ri();ac(ce.prototype,Es.prototype);ac(ce,Es);{let t=yg(oe.prototype);for(let e=0;e<t.length;e++){let r=t[e];ce.prototype[r]||(ce.prototype[r]=oe.prototype[r])}}function ce(t){if(!(this instanceof ce))return new ce(t);Es.call(this,t),oe.call(this,t),t?(this.allowHalfOpen=t.allowHalfOpen!==!1,t.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),t.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}pg(ce.prototype,{writable:{__proto__:null,...qe(oe.prototype,"writable")},writableHighWaterMark:{__proto__:null,...qe(oe.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...qe(oe.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...qe(oe.prototype,"writableBuffer")},writableLength:{__proto__:null,...qe(oe.prototype,"writableLength")},writableFinished:{__proto__:null,...qe(oe.prototype,"writableFinished")},writableCorked:{__proto__:null,...qe(oe.prototype,"writableCorked")},writableEnded:{__proto__:null,...qe(oe.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...qe(oe.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(t){this._readableState&&this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}});var gs;function uc(){return gs===void 0&&(gs={}),gs}ce.fromWeb=function(t,e){return uc().newStreamDuplexFromReadableWritablePair(t,e)};ce.toWeb=function(t){return uc().newReadableWritablePairFromDuplex(t)};var ms;ce.from=function(t){return ms||(ms=sc()),ms(t,"body")}});var Ss=w((M0,cc)=>{"use strict";var{ObjectSetPrototypeOf:lc,Symbol:bg}=O();cc.exports=$e;var{ERR_METHOD_NOT_IMPLEMENTED:wg}=H().codes,xs=Ae(),{getHighWaterMark:gg}=qr();lc($e.prototype,xs.prototype);lc($e,xs);var Hr=bg("kCallback");function $e(t){if(!(this instanceof $e))return new $e(t);let e=t?gg(this,t,"readableHighWaterMark",!0):null;e===0&&(t={...t,highWaterMark:null,readableHighWaterMark:e,writableHighWaterMark:t.writableHighWaterMark||0}),xs.call(this,t),this._readableState.sync=!1,this[Hr]=null,t&&(typeof t.transform=="function"&&(this._transform=t.transform),typeof t.flush=="function"&&(this._flush=t.flush)),this.on("prefinish",mg)}function _s(t){typeof this._flush=="function"&&!this.destroyed?this._flush((e,r)=>{if(e){t?t(e):this.destroy(e);return}r!=null&&this.push(r),this.push(null),t&&t()}):(this.push(null),t&&t())}function mg(){this._final!==_s&&_s.call(this)}$e.prototype._final=_s;$e.prototype._transform=function(t,e,r){throw new wg("_transform()")};$e.prototype._write=function(t,e,r){let n=this._readableState,i=this._writableState,o=n.length;this._transform(t,e,(s,a)=>{if(s){r(s);return}a!=null&&this.push(a),i.ended||o===n.length||n.length<n.highWaterMark?r():this[Hr]=r})};$e.prototype._read=function(){if(this[Hr]){let t=this[Hr];this[Hr]=null,t()}}});var Ts=w((D0,hc)=>{"use strict";var{ObjectSetPrototypeOf:dc}=O();hc.exports=dr;var As=Ss();dc(dr.prototype,As.prototype);dc(dr,As);function dr(t){if(!(this instanceof dr))return new dr(t);As.call(this,t)}dr.prototype._transform=function(t,e,r){r(null,t)}});var si=w((U0,gc)=>{var zr=et(),{ArrayIsArray:Eg,Promise:_g,SymbolAsyncIterator:xg,SymbolDispose:Sg}=O(),oi=Fe(),{once:Ag}=j(),Tg=It(),pc=Ae(),{aggregateTwoErrors:Rg,codes:{ERR_INVALID_ARG_TYPE:ks,ERR_INVALID_RETURN_VALUE:Rs,ERR_MISSING_ARGS:Ig,ERR_STREAM_DESTROYED:vg,ERR_STREAM_PREMATURE_CLOSE:Lg},AbortError:Bg}=H(),{validateFunction:Og,validateAbortSignal:Cg}=rr(),{isIterable:Ot,isReadable:Is,isReadableNodeStream:ii,isNodeStream:yc,isTransformStream:hr,isWebStream:Ng,isReadableStream:vs,isReadableFinished:kg}=_e(),Mg=globalThis.AbortController||er().AbortController,Ls,Bs,Os;function bc(t,e,r){let n=!1;t.on("close",()=>{n=!0});let i=oi(t,{readable:e,writable:r},o=>{n=!o});return{destroy:o=>{n||(n=!0,Tg.destroyer(t,o||new vg("pipe")))},cleanup:i}}function Dg(t){return Og(t[t.length-1],"streams[stream.length - 1]"),t.pop()}function Cs(t){if(Ot(t))return t;if(ii(t))return Ug(t);throw new ks("val",["Readable","Iterable","AsyncIterable"],t)}async function*Ug(t){Bs||(Bs=jr()),yield*Bs.prototype[xg].call(t)}async function ni(t,e,r,{end:n}){let i,o=null,s=u=>{if(u&&(i=u),o){let l=o;o=null,l()}},a=()=>new _g((u,l)=>{i?l(i):o=()=>{i?l(i):u()}});e.on("drain",s);let f=oi(e,{readable:!1},s);try{e.writableNeedDrain&&await a();for await(let u of t)e.write(u)||await a();n&&(e.end(),await a()),r()}catch(u){r(i!==u?Rg(i,u):u)}finally{f(),e.off("drain",s)}}async function Ns(t,e,r,{end:n}){hr(e)&&(e=e.writable);let i=e.getWriter();try{for await(let o of t)await i.ready,i.write(o).catch(()=>{});await i.ready,n&&await i.close(),r()}catch(o){try{await i.abort(o),r(o)}catch(s){r(s)}}}function Pg(...t){return wc(t,Ag(Dg(t)))}function wc(t,e,r){if(t.length===1&&Eg(t[0])&&(t=t[0]),t.length<2)throw new Ig("streams");let n=new Mg,i=n.signal,o=r?.signal,s=[];Cg(o,"options.signal");function a(){b(new Bg)}Os=Os||j().addAbortListener;let f;o&&(f=Os(o,a));let u,l,c=[],y=0;function h(I){b(I,--y===0)}function b(I,m){var R;if(I&&(!u||u.code==="ERR_STREAM_PREMATURE_CLOSE")&&(u=I),!(!u&&!m)){for(;c.length;)c.shift()(u);(R=f)===null||R===void 0||R[Sg](),n.abort(),m&&(u||s.forEach(q=>q()),zr.nextTick(e,u,l))}}let p;for(let I=0;I<t.length;I++){let m=t[I],R=I<t.length-1,q=I>0,B=R||r?.end!==!1,$=I===t.length-1;if(yc(m)){let M=function(Re){Re&&Re.name!=="AbortError"&&Re.code!=="ERR_STREAM_PREMATURE_CLOSE"&&h(Re)};var A=M;if(B){let{destroy:Re,cleanup:ci}=bc(m,R,q);c.push(Re),Is(m)&&$&&s.push(ci)}m.on("error",M),Is(m)&&$&&s.push(()=>{m.removeListener("error",M)})}if(I===0)if(typeof m=="function"){if(p=m({signal:i}),!Ot(p))throw new Rs("Iterable, AsyncIterable or Stream","source",p)}else Ot(m)||ii(m)||hr(m)?p=m:p=pc.from(m);else if(typeof m=="function"){if(hr(p)){var x;p=Cs((x=p)===null||x===void 0?void 0:x.readable)}else p=Cs(p);if(p=m(p,{signal:i}),R){if(!Ot(p,!0))throw new Rs("AsyncIterable",`transform[${I-1}]`,p)}else{var g;Ls||(Ls=Ts());let M=new Ls({objectMode:!0}),Re=(g=p)===null||g===void 0?void 0:g.then;if(typeof Re=="function")y++,Re.call(p,je=>{l=je,je!=null&&M.write(je),B&&M.end(),zr.nextTick(h)},je=>{M.destroy(je),zr.nextTick(h,je)});else if(Ot(p,!0))y++,ni(p,M,h,{end:B});else if(vs(p)||hr(p)){let je=p.readable||p;y++,ni(je,M,h,{end:B})}else throw new Rs("AsyncIterable or Promise","destination",p);p=M;let{destroy:ci,cleanup:Hc}=bc(p,!1,!0);c.push(ci),$&&s.push(Hc)}}else if(yc(m)){if(ii(p)){y+=2;let M=Fg(p,m,h,{end:B});Is(m)&&$&&s.push(M)}else if(hr(p)||vs(p)){let M=p.readable||p;y++,ni(M,m,h,{end:B})}else if(Ot(p))y++,ni(p,m,h,{end:B});else throw new ks("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=m}else if(Ng(m)){if(ii(p))y++,Ns(Cs(p),m,h,{end:B});else if(vs(p)||Ot(p))y++,Ns(p,m,h,{end:B});else if(hr(p))y++,Ns(p.readable,m,h,{end:B});else throw new ks("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],p);p=m}else p=pc.from(m)}return(i!=null&&i.aborted||o!=null&&o.aborted)&&zr.nextTick(a),p}function Fg(t,e,r,{end:n}){let i=!1;if(e.on("close",()=>{i||r(new Lg)}),t.pipe(e,{end:!1}),n){let s=function(){i=!0,e.end()};var o=s;kg(t)?zr.nextTick(s):t.once("end",s)}else r();return oi(t,{readable:!0,writable:!1},s=>{let a=t._readableState;s&&s.code==="ERR_STREAM_PREMATURE_CLOSE"&&a&&a.ended&&!a.errored&&!a.errorEmitted?t.once("end",r).once("error",r):r(s)}),oi(e,{readable:!1,writable:!0},r)}gc.exports={pipelineImpl:wc,pipeline:Pg}});var Ds=w((P0,Ac)=>{"use strict";var{pipeline:qg}=si(),ai=Ae(),{destroyer:$g}=It(),{isNodeStream:ui,isReadable:mc,isWritable:Ec,isWebStream:Ms,isTransformStream:Ct,isWritableStream:_c,isReadableStream:xc}=_e(),{AbortError:Wg,codes:{ERR_INVALID_ARG_VALUE:Sc,ERR_MISSING_ARGS:jg}}=H(),Vg=Fe();Ac.exports=function(...e){if(e.length===0)throw new jg("streams");if(e.length===1)return ai.from(e[0]);let r=[...e];if(typeof e[0]=="function"&&(e[0]=ai.from(e[0])),typeof e[e.length-1]=="function"){let h=e.length-1;e[h]=ai.from(e[h])}for(let h=0;h<e.length;++h)if(!(!ui(e[h])&&!Ms(e[h]))){if(h<e.length-1&&!(mc(e[h])||xc(e[h])||Ct(e[h])))throw new Sc(`streams[${h}]`,r[h],"must be readable");if(h>0&&!(Ec(e[h])||_c(e[h])||Ct(e[h])))throw new Sc(`streams[${h}]`,r[h],"must be writable")}let n,i,o,s,a;function f(h){let b=s;s=null,b?b(h):h?a.destroy(h):!y&&!c&&a.destroy()}let u=e[0],l=qg(e,f),c=!!(Ec(u)||_c(u)||Ct(u)),y=!!(mc(l)||xc(l)||Ct(l));if(a=new ai({writableObjectMode:!!(u!=null&&u.writableObjectMode),readableObjectMode:!!(l!=null&&l.readableObjectMode),writable:c,readable:y}),c){if(ui(u))a._write=function(b,p,x){u.write(b,p)?x():n=x},a._final=function(b){u.end(),i=b},u.on("drain",function(){if(n){let b=n;n=null,b()}});else if(Ms(u)){let p=(Ct(u)?u.writable:u).getWriter();a._write=async function(x,g,A){try{await p.ready,p.write(x).catch(()=>{}),A()}catch(I){A(I)}},a._final=async function(x){try{await p.ready,p.close().catch(()=>{}),i=x}catch(g){x(g)}}}let h=Ct(l)?l.readable:l;Vg(h,()=>{if(i){let b=i;i=null,b()}})}if(y){if(ui(l))l.on("readable",function(){if(o){let h=o;o=null,h()}}),l.on("end",function(){a.push(null)}),a._read=function(){for(;;){let h=l.read();if(h===null){o=a._read;return}if(!a.push(h))return}};else if(Ms(l)){let b=(Ct(l)?l.readable:l).getReader();a._read=async function(){for(;;)try{let{value:p,done:x}=await b.read();if(!a.push(p))return;if(x){a.push(null);return}}catch{return}}}}return a._destroy=function(h,b){!h&&s!==null&&(h=new Wg),o=null,n=null,i=null,s===null?b(h):(s=b,ui(l)&&$g(l,h))},a}});var kc=w((F0,Fs)=>{"use strict";var Kg=globalThis.AbortController||er().AbortController,{codes:{ERR_INVALID_ARG_VALUE:Gg,ERR_INVALID_ARG_TYPE:Yr,ERR_MISSING_ARGS:Hg,ERR_OUT_OF_RANGE:zg},AbortError:Te}=H(),{validateAbortSignal:Nt,validateInteger:Tc,validateObject:kt}=rr(),Yg=O().Symbol("kWeak"),Jg=O().Symbol("kResistStopPropagation"),{finished:Xg}=Fe(),Zg=Ds(),{addAbortSignalNoValidate:Qg}=Fr(),{isWritable:em,isNodeStream:tm}=_e(),{deprecate:rm}=j(),{ArrayPrototypePush:nm,Boolean:im,MathFloor:Rc,Number:om,NumberIsNaN:sm,Promise:Ic,PromiseReject:vc,PromiseResolve:am,PromisePrototypeThen:Lc,Symbol:Oc}=O(),fi=Oc("kEmpty"),Bc=Oc("kEof");function um(t,e){if(e!=null&&kt(e,"options"),e?.signal!=null&&Nt(e.signal,"options.signal"),tm(t)&&!em(t))throw new Gg("stream",t,"must be writable");let r=Zg(this,t);return e!=null&&e.signal&&Qg(e.signal,r),r}function li(t,e){if(typeof t!="function")throw new Yr("fn",["Function","AsyncFunction"],t);e!=null&&kt(e,"options"),e?.signal!=null&&Nt(e.signal,"options.signal");let r=1;e?.concurrency!=null&&(r=Rc(e.concurrency));let n=r-1;return e?.highWaterMark!=null&&(n=Rc(e.highWaterMark)),Tc(r,"options.concurrency",1),Tc(n,"options.highWaterMark",0),n+=r,(async function*(){let o=j().AbortSignalAny([e?.signal].filter(im)),s=this,a=[],f={signal:o},u,l,c=!1,y=0;function h(){c=!0,b()}function b(){y-=1,p()}function p(){l&&!c&&y<r&&a.length<n&&(l(),l=null)}async function x(){try{for await(let g of s){if(c)return;if(o.aborted)throw new Te;try{if(g=t(g,f),g===fi)continue;g=am(g)}catch(A){g=vc(A)}y+=1,Lc(g,b,h),a.push(g),u&&(u(),u=null),!c&&(a.length>=n||y>=r)&&await new Ic(A=>{l=A})}a.push(Bc)}catch(g){let A=vc(g);Lc(A,b,h),a.push(A)}finally{c=!0,u&&(u(),u=null)}}x();try{for(;;){for(;a.length>0;){let g=await a[0];if(g===Bc)return;if(o.aborted)throw new Te;g!==fi&&(yield g),a.shift(),p()}await new Ic(g=>{u=g})}}finally{c=!0,l&&(l(),l=null)}}).call(this)}function fm(t=void 0){return t!=null&&kt(t,"options"),t?.signal!=null&&Nt(t.signal,"options.signal"),(async function*(){let r=0;for await(let i of this){var n;if(t!=null&&(n=t.signal)!==null&&n!==void 0&&n.aborted)throw new Te({cause:t.signal.reason});yield[r++,i]}}).call(this)}async function Cc(t,e=void 0){for await(let r of Ps.call(this,t,e))return!0;return!1}async function lm(t,e=void 0){if(typeof t!="function")throw new Yr("fn",["Function","AsyncFunction"],t);return!await Cc.call(this,async(...r)=>!await t(...r),e)}async function cm(t,e){for await(let r of Ps.call(this,t,e))return r}async function dm(t,e){if(typeof t!="function")throw new Yr("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i),fi}for await(let n of li.call(this,r,e));}function Ps(t,e){if(typeof t!="function")throw new Yr("fn",["Function","AsyncFunction"],t);async function r(n,i){return await t(n,i)?n:fi}return li.call(this,r,e)}var Us=class extends Hg{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function hm(t,e,r){var n;if(typeof t!="function")throw new Yr("reducer",["Function","AsyncFunction"],t);r!=null&&kt(r,"options"),r?.signal!=null&&Nt(r.signal,"options.signal");let i=arguments.length>1;if(r!=null&&(n=r.signal)!==null&&n!==void 0&&n.aborted){let u=new Te(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await Xg(this.destroy(u)),u}let o=new Kg,s=o.signal;if(r!=null&&r.signal){let u={once:!0,[Yg]:this,[Jg]:!0};r.signal.addEventListener("abort",()=>o.abort(),u)}let a=!1;try{for await(let u of this){var f;if(a=!0,r!=null&&(f=r.signal)!==null&&f!==void 0&&f.aborted)throw new Te;i?e=await t(e,u,{signal:s}):(e=u,i=!0)}if(!a&&!i)throw new Us}finally{o.abort()}return e}async function pm(t){t!=null&&kt(t,"options"),t?.signal!=null&&Nt(t.signal,"options.signal");let e=[];for await(let n of this){var r;if(t!=null&&(r=t.signal)!==null&&r!==void 0&&r.aborted)throw new Te(void 0,{cause:t.signal.reason});nm(e,n)}return e}function ym(t,e){let r=li.call(this,t,e);return(async function*(){for await(let i of r)yield*i}).call(this)}function Nc(t){if(t=om(t),sm(t))return 0;if(t<0)throw new zg("number",">= 0",t);return t}function bm(t,e=void 0){return e!=null&&kt(e,"options"),e?.signal!=null&&Nt(e.signal,"options.signal"),t=Nc(t),(async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Te;for await(let o of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Te;t--<=0&&(yield o)}}).call(this)}function wm(t,e=void 0){return e!=null&&kt(e,"options"),e?.signal!=null&&Nt(e.signal,"options.signal"),t=Nc(t),(async function*(){var n;if(e!=null&&(n=e.signal)!==null&&n!==void 0&&n.aborted)throw new Te;for await(let o of this){var i;if(e!=null&&(i=e.signal)!==null&&i!==void 0&&i.aborted)throw new Te;if(t-- >0&&(yield o),t<=0)return}}).call(this)}Fs.exports.streamReturningOperators={asIndexedPairs:rm(fm,"readable.asIndexedPairs will be removed in a future version."),drop:bm,filter:Ps,flatMap:ym,map:li,take:wm,compose:um};Fs.exports.promiseReturningOperators={every:lm,forEach:dm,reduce:hm,toArray:pm,some:Cc,find:cm}});var qs=w((q0,Mc)=>{"use strict";var{ArrayPrototypePop:gm,Promise:mm}=O(),{isIterable:Em,isNodeStream:_m,isWebStream:xm}=_e(),{pipelineImpl:Sm}=si(),{finished:Am}=Fe();$s();function Tm(...t){return new mm((e,r)=>{let n,i,o=t[t.length-1];if(o&&typeof o=="object"&&!_m(o)&&!Em(o)&&!xm(o)){let s=gm(t);n=s.signal,i=s.end}Sm(t,(s,a)=>{s?r(s):e(a)},{signal:n,end:i})})}Mc.exports={finished:Am,pipeline:Tm}});var $s=w(($0,Vc)=>{var{Buffer:Rm}=te(),{ObjectDefineProperty:We,ObjectKeys:Pc,ReflectApply:Fc}=O(),{promisify:{custom:qc}}=j(),{streamReturningOperators:Dc,promiseReturningOperators:Uc}=kc(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:$c}}=H(),Im=Ds(),{setDefaultHighWaterMark:vm,getDefaultHighWaterMark:Lm}=qr(),{pipeline:Wc}=si(),{destroyer:Bm}=It(),jc=Fe(),Ws=qs(),Jr=_e(),L=Vc.exports=jn().Stream;L.isDestroyed=Jr.isDestroyed;L.isDisturbed=Jr.isDisturbed;L.isErrored=Jr.isErrored;L.isReadable=Jr.isReadable;L.isWritable=Jr.isWritable;L.Readable=jr();for(let t of Pc(Dc)){let r=function(...n){if(new.target)throw $c();return L.Readable.from(Fc(e,this,n))};js=r;let e=Dc[t];We(r,"name",{__proto__:null,value:e.name}),We(r,"length",{__proto__:null,value:e.length}),We(L.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var js;for(let t of Pc(Uc)){let r=function(...i){if(new.target)throw $c();return Fc(e,this,i)};js=r;let e=Uc[t];We(r,"name",{__proto__:null,value:e.name}),We(r,"length",{__proto__:null,value:e.length}),We(L.Readable.prototype,t,{__proto__:null,value:r,enumerable:!1,configurable:!0,writable:!0})}var js;L.Writable=ri();L.Duplex=Ae();L.Transform=Ss();L.PassThrough=Ts();L.pipeline=Wc;var{addAbortSignal:Om}=Fr();L.addAbortSignal=Om;L.finished=jc;L.destroy=Bm;L.compose=Im;L.setDefaultHighWaterMark=vm;L.getDefaultHighWaterMark=Lm;We(L,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return Ws}});We(Wc,qc,{__proto__:null,enumerable:!0,get(){return Ws.pipeline}});We(jc,qc,{__proto__:null,enumerable:!0,get(){return Ws.finished}});L.Stream=L;L._isUint8Array=function(e){return e instanceof Uint8Array};L._uint8ArrayToBuffer=function(e){return Rm.from(e.buffer,e.byteOffset,e.byteLength)}});var Vs=w((W0,k)=>{"use strict";var U=$s(),Cm=qs(),Nm=U.Readable.destroy;k.exports=U.Readable;k.exports._uint8ArrayToBuffer=U._uint8ArrayToBuffer;k.exports._isUint8Array=U._isUint8Array;k.exports.isDisturbed=U.isDisturbed;k.exports.isErrored=U.isErrored;k.exports.isReadable=U.isReadable;k.exports.Readable=U.Readable;k.exports.Writable=U.Writable;k.exports.Duplex=U.Duplex;k.exports.Transform=U.Transform;k.exports.PassThrough=U.PassThrough;k.exports.addAbortSignal=U.addAbortSignal;k.exports.finished=U.finished;k.exports.destroy=U.destroy;k.exports.destroy=Nm;k.exports.pipeline=U.pipeline;k.exports.compose=U.compose;Object.defineProperty(U,"promises",{configurable:!0,enumerable:!0,get(){return Cm}});k.exports.Stream=U.Stream;k.exports.default=k.exports});var km={};Gs(km,{Convert:()=>G,LevelStore:()=>Lo,MemoryStore:()=>Bo,Multicodec:()=>ve,NodeStream:()=>Ks,Readable:()=>Gc.Readable,Stream:()=>Pr,TtlCache:()=>Js.default,isArrayBufferSlice:()=>Ei,isAsyncIterable:()=>_i,isDefined:()=>ud,isEmptyObject:()=>fa,removeEmptyObjects:()=>la,removeUndefinedProperties:()=>ca,universalTypeOf:()=>en});var Js=Zr(Ys(),1);var Pm=new Uint8Array(0);function Xs(t,e){if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(let r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}function Mt(t){if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")}function nd(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),s=o.charCodeAt(0);if(r[s]!==255)throw new TypeError(o+" is ambiguous");r[s]=i}var a=t.length,f=t.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function c(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var p=0,x=0,g=0,A=b.length;g!==A&&b[g]===0;)g++,p++;for(var I=(A-g)*l+1>>>0,m=new Uint8Array(I);g!==A;){for(var R=b[g],q=0,B=I-1;(R!==0||q<x)&&B!==-1;B--,q++)R+=256*m[B]>>>0,m[B]=R%a>>>0,R=R/a>>>0;if(R!==0)throw new Error("Non-zero carry");x=q,g++}for(var $=I-x;$!==I&&m[$]===0;)$++;for(var M=f.repeat(p);$<I;++$)M+=t.charAt(m[$]);return M}function y(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var p=0;if(b[p]!==" "){for(var x=0,g=0;b[p]===f;)x++,p++;for(var A=(b.length-p)*u+1>>>0,I=new Uint8Array(A);b[p];){var m=r[b.charCodeAt(p)];if(m===255)return;for(var R=0,q=A-1;(m!==0||R<g)&&q!==-1;q--,R++)m+=a*I[q]>>>0,I[q]=m%256>>>0,m=m/256>>>0;if(m!==0)throw new Error("Non-zero carry");g=R,p++}if(b[p]!==" "){for(var B=A-g;B!==A&&I[B]===0;)B++;for(var $=new Uint8Array(x+(A-B)),M=x;B!==A;)$[M++]=I[B++];return $}}}function h(b){var p=y(b);if(p)return p;throw new Error(`Non-${e} character`)}return{encode:c,decodeUnsafe:y,decode:h}}var id=nd,od=id,Zs=od;var pi=class{name;prefix;baseEncode;constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},yi=class{name;prefix;baseDecode;prefixCodePoint;constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Qs(this,e)}},bi=class{decoders;constructor(e){this.decoders=e}or(e){return Qs(this,e)}decode(e){let r=e[0],n=this.decoders[r];if(n!=null)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function Qs(t,e){return new bi({...t.decoders??{[t.prefix]:t},...e.decoders??{[e.prefix]:e}})}var wi=class{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new pi(e,r,n),this.decoder=new yi(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};function ea({name:t,prefix:e,encode:r,decode:n}){return new wi(t,e,r,n)}function gi({name:t,prefix:e,alphabet:r}){let{encode:n,decode:i}=Zs(r,t);return ea({prefix:e,name:t,encode:n,decode:o=>Mt(i(o))})}function sd(t,e,r,n){let i={};for(let l=0;l<e.length;++l)i[e[l]]=l;let o=t.length;for(;t[o-1]==="=";)--o;let s=new Uint8Array(o*r/8|0),a=0,f=0,u=0;for(let l=0;l<o;++l){let c=i[t[l]];if(c===void 0)throw new SyntaxError(`Non-${n} character`);f=f<<r|c,a+=r,a>=8&&(a-=8,s[u++]=255&f>>a)}if(a>=r||255&f<<8-a)throw new SyntaxError("Unexpected end of data");return s}function ad(t,e,r){let n=e[e.length-1]==="=",i=(1<<r)-1,o="",s=0,a=0;for(let f=0;f<t.length;++f)for(a=a<<8|t[f],s+=8;s>r;)s-=r,o+=e[i&a>>s];if(s!==0&&(o+=e[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o}function K({name:t,prefix:e,bitsPerChar:r,alphabet:n}){return ea({prefix:e,name:t,encode(i){return ad(i,n,r)},decode(i){return sd(i,n,r,t)}})}var pr=K({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Vm=K({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Km=K({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Gm=K({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Hm=K({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),zm=K({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ym=K({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Jm=K({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),mi=K({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var z=gi({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Qm=gi({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var rE=K({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),nE=K({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),de=K({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),iE=K({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});function Ei(t){return t.byteOffset!==0||t.byteLength!==t.buffer.byteLength}function _i(t){return typeof t!="object"||t===null?!1:typeof t[Symbol.asyncIterator]=="function"}function ud(t){return t!==null&&typeof t<"u"}function en(t){let r=Object.prototype.toString.call(t).match(/\s([a-zA-Z0-9]+)/),[n,i]=r;return i}var tn=new TextEncoder,it=new TextDecoder,G=class t{constructor(e,r){this.data=e,this.format=r}static arrayBuffer(e){return new t(e,"ArrayBuffer")}static asyncIterable(e){if(!_i(e))throw new TypeError("Input must be of type AsyncIterable.");return new t(e,"AsyncIterable")}static base32Z(e){return new t(e,"Base32Z")}static base58Btc(e){return new t(e,"Base58Btc")}static base64Url(e){return new t(e,"Base64Url")}static bufferSource(e){return new t(e,"BufferSource")}static hex(e){if(typeof e!="string")throw new TypeError("Hex input must be a string.");if(e.length%2!==0)throw new TypeError("Hex input must have an even number of characters.");return new t(e,"Hex")}static multibase(e){return new t(e,"Multibase")}static object(e){return new t(e,"Object")}static string(e){return new t(e,"String")}static uint8Array(e){return new t(e,"Uint8Array")}toArrayBuffer(){switch(this.format){case"Base58Btc":return z.baseDecode(this.data).buffer;case"Base64Url":return de.baseDecode(this.data).buffer;case"BufferSource":{if(en(this.data)==="ArrayBuffer")return this.data;if(ArrayBuffer.isView(this.data))return Ei(this.data)?this.data.buffer.slice(this.data.byteOffset,this.data.byteOffset+this.data.byteLength):this.data.buffer;throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":return this.toUint8Array().buffer;case"String":return this.toUint8Array().buffer;case"Uint8Array":return this.data.buffer;default:throw new TypeError(`Conversion from ${this.format} to ArrayBuffer is not supported.`)}}async toArrayBufferAsync(){switch(this.format){case"AsyncIterable":return await(await this.toBlobAsync()).arrayBuffer();default:throw new TypeError(`Asynchronous conversion from ${this.format} to ArrayBuffer is not supported.`)}}toBase32Z(){switch(this.format){case"Uint8Array":return mi.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Z is not supported.`)}}toBase58Btc(){switch(this.format){case"ArrayBuffer":{let e=new Uint8Array(this.data);return z.baseEncode(e)}case"Multibase":return this.data.substring(1);case"Uint8Array":return z.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base58Btc is not supported.`)}}toBase64Url(){switch(this.format){case"ArrayBuffer":{let e=new Uint8Array(this.data);return de.baseEncode(e)}case"BufferSource":{let e=this.toUint8Array();return de.baseEncode(e)}case"Object":{let e=JSON.stringify(this.data),r=tn.encode(e);return de.baseEncode(r)}case"String":{let e=tn.encode(this.data);return de.baseEncode(e)}case"Uint8Array":return de.baseEncode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Base64Url is not supported.`)}}async toBlobAsync(){switch(this.format){case"AsyncIterable":{let e=[];for await(let n of this.data)e.push(n);return new Blob(e)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Blob is not supported.`)}}toHex(){let e=Array.from({length:256},(r,n)=>n.toString(16).padStart(2,"0"));switch(this.format){case"ArrayBuffer":{let r=this.toUint8Array();return t.uint8Array(r).toHex()}case"Base64Url":{let r=this.toUint8Array();return t.uint8Array(r).toHex()}case"Uint8Array":{let r="";for(let n=0;n<this.data.length;n++)r+=e[this.data[n]];return r}default:throw new TypeError(`Conversion from ${this.format} to Hex is not supported.`)}}toMultibase(){switch(this.format){case"Base58Btc":return`z${this.data}`;default:throw new TypeError(`Conversion from ${this.format} to Multibase is not supported.`)}}toObject(){switch(this.format){case"Base64Url":{let e=de.baseDecode(this.data),r=it.decode(e);return JSON.parse(r)}case"String":return JSON.parse(this.data);case"Uint8Array":{let e=it.decode(this.data);return JSON.parse(e)}default:throw new TypeError(`Conversion from ${this.format} to Object is not supported.`)}}async toObjectAsync(){switch(this.format){case"AsyncIterable":{let e=await this.toStringAsync();return JSON.parse(e)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Object is not supported.`)}}toString(){switch(this.format){case"ArrayBuffer":return it.decode(this.data);case"Base64Url":{let e=de.baseDecode(this.data);return it.decode(e)}case"Object":return JSON.stringify(this.data);case"Uint8Array":return it.decode(this.data);default:throw new TypeError(`Conversion from ${this.format} to String is not supported.`)}}async toStringAsync(){switch(this.format){case"AsyncIterable":{let e="";for await(let r of this.data)typeof r=="string"?e+=r:e+=it.decode(r,{stream:!0});return e+=it.decode(void 0,{stream:!1}),e}default:throw new TypeError(`Asynchronous conversion from ${this.format} to String is not supported.`)}}toUint8Array(){switch(this.format){case"ArrayBuffer":return new Uint8Array(this.data);case"Base32Z":return mi.baseDecode(this.data);case"Base58Btc":return z.baseDecode(this.data);case"Base64Url":return de.baseDecode(this.data);case"BufferSource":{let e=en(this.data);if(e==="Uint8Array")return this.data;if(e==="ArrayBuffer")return new Uint8Array(this.data);if(ArrayBuffer.isView(this.data))return new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength);throw new TypeError(`${this.format} value is not of type: ArrayBuffer, DataView, or TypedArray.`)}case"Hex":{let e=new Uint8Array(this.data.length/2);for(let r=0;r<this.data.length;r+=2){let n=parseInt(this.data.substring(r,r+2),16);if(isNaN(n))throw new TypeError("Input is not a valid hexadecimal string.");e[r/2]=n}return e}case"Object":{let e=JSON.stringify(this.data);return tn.encode(e)}case"String":return tn.encode(this.data);default:throw new TypeError(`Conversion from ${this.format} to Uint8Array is not supported.`)}}async toUint8ArrayAsync(){switch(this.format){case"AsyncIterable":{let e=await this.toArrayBufferAsync();return new Uint8Array(e)}default:throw new TypeError(`Asynchronous conversion from ${this.format} to Uint8Array is not supported.`)}}};var Ie={};Gs(Ie,{decode:()=>Dt,encodeTo:()=>ot,encodingLength:()=>st});var fd=na,ta=128,ld=127,cd=~ld,dd=Math.pow(2,31);function na(t,e,r){e=e||[],r=r||0;for(var n=r;t>=dd;)e[r++]=t&255|ta,t/=128;for(;t&cd;)e[r++]=t&255|ta,t>>>=7;return e[r]=t|0,na.bytes=r-n+1,e}var hd=xi,pd=128,ra=127;function xi(t,n){var r=0,n=n||0,i=0,o=n,s,a=t.length;do{if(o>=a)throw xi.bytes=0,new RangeError("Could not decode varint");s=t[o++],r+=i<28?(s&ra)<<i:(s&ra)*Math.pow(2,i),i+=7}while(s>=pd);return xi.bytes=o-n,r}var yd=Math.pow(2,7),bd=Math.pow(2,14),wd=Math.pow(2,21),gd=Math.pow(2,28),md=Math.pow(2,35),Ed=Math.pow(2,42),_d=Math.pow(2,49),xd=Math.pow(2,56),Sd=Math.pow(2,63),Ad=function(t){return t<yd?1:t<bd?2:t<wd?3:t<gd?4:t<md?5:t<Ed?6:t<_d?7:t<xd?8:t<Sd?9:10},Td={encode:fd,decode:hd,encodingLength:Ad},Rd=Td,yr=Rd;function Dt(t,e=0){return[yr.decode(t,e),yr.decode.bytes]}function ot(t,e,r=0){return yr.encode(t,e,r),e}function st(t){return yr.encodingLength(t)}function Si(t,e){let r=e.byteLength,n=st(t),i=n+st(r),o=new Uint8Array(i+r);return ot(t,o,0),ot(r,o,n),o.set(e,i),new Ut(t,r,e,o)}function ia(t){let e=Mt(t),[r,n]=Dt(e),[i,o]=Dt(e.subarray(n)),s=e.subarray(n+o);if(s.byteLength!==i)throw new Error("Incorrect length");return new Ut(r,i,s,e)}function oa(t,e){if(t===e)return!0;{let r=e;return t.code===r.code&&t.size===r.size&&r.bytes instanceof Uint8Array&&Xs(t.bytes,r.bytes)}}var Ut=class{code;size;digest;bytes;constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};function sa(t,e){let{bytes:r,version:n}=t;switch(n){case 0:return vd(r,Ti(t),e??z.encoder);default:return Ld(r,Ti(t),e??pr.encoder)}}var aa=new WeakMap;function Ti(t){let e=aa.get(t);if(e==null){let r=new Map;return aa.set(t,r),r}return e}var Ri=class t{code;version;multihash;bytes;"/";constructor(e,r,n,i){this.code=r,this.version=e,this.multihash=n,this.bytes=i,this["/"]=i}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:e,multihash:r}=this;if(e!==br)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==Bd)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return t.createV0(r)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:e,digest:r}=this.multihash,n=Si(e,r);return t.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(e){return t.equals(this,e)}static equals(e,r){let n=r;return n!=null&&e.code===n.code&&e.version===n.version&&oa(e.multihash,n.multihash)}toString(e){return sa(this,e)}toJSON(){return{"/":sa(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(e){if(e==null)return null;let r=e;if(r instanceof t)return r;if(r["/"]!=null&&r["/"]===r.bytes||r.asCID===r){let{version:n,code:i,multihash:o,bytes:s}=r;return new t(n,i,o,s??ua(n,i,o.bytes))}else if(r[Od]===!0){let{version:n,multihash:i,code:o}=r,s=ia(i);return t.create(n,o,s)}else return null}static create(e,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");if(!(n.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(e){case 0:{if(r!==br)throw new Error(`Version 0 CID must use dag-pb (code: ${br}) block encoding`);return new t(e,r,n,n.bytes)}case 1:{let i=ua(e,r,n.bytes);return new t(e,r,n,i)}default:throw new Error("Invalid version")}}static createV0(e){return t.create(0,br,e)}static createV1(e,r){return t.create(1,e,r)}static decode(e){let[r,n]=t.decodeFirst(e);if(n.length!==0)throw new Error("Incorrect length");return r}static decodeFirst(e){let r=t.inspectBytes(e),n=r.size-r.multihashSize,i=Mt(e.subarray(n,n+r.multihashSize));if(i.byteLength!==r.multihashSize)throw new Error("Incorrect length");let o=i.subarray(r.multihashSize-r.digestSize),s=new Ut(r.multihashCode,r.digestSize,o,i);return[r.version===0?t.createV0(s):t.createV1(r.codec,s),e.subarray(r.size)]}static inspectBytes(e){let r=0,n=()=>{let[c,y]=Dt(e.subarray(r));return r+=y,c},i=n(),o=br;if(i===18?(i=0,r=0):o=n(),i!==0&&i!==1)throw new RangeError(`Invalid CID version ${i}`);let s=r,a=n(),f=n(),u=r+f,l=u-s;return{version:i,codec:o,multihashCode:a,digestSize:f,multihashSize:l,size:u}}static parse(e,r){let[n,i]=Id(e,r),o=t.decode(i);if(o.version===0&&e[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return Ti(o).set(n,e),o}};function Id(t,e){switch(t[0]){case"Q":{let r=e??z;return[z.prefix,r.decode(`${z.prefix}${t}`)]}case z.prefix:{let r=e??z;return[z.prefix,r.decode(t)]}case pr.prefix:{let r=e??pr;return[pr.prefix,r.decode(t)]}default:{if(e==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[t[0],e.decode(t)]}}}function vd(t,e,r){let{prefix:n}=r;if(n!==z.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let i=e.get(n);if(i==null){let o=r.encode(t).slice(1);return e.set(n,o),o}else return i}function Ld(t,e,r){let{prefix:n}=r,i=e.get(n);if(i==null){let o=r.encode(t);return e.set(n,o),o}else return i}var br=112,Bd=18;function ua(t,e,r){let n=st(t),i=n+st(e),o=new Uint8Array(i+r.byteLength);return ot(t,o,0),ot(e,o,n),o.set(r,i),o}var Od=Symbol.for("@ipld/js-cid/CID");var se=class se{static addPrefix(e){let{code:r,data:n,name:i}=e;if(!(i?!r:r))throw new Error("Either 'name' or 'code' must be defined, but not both.");if(r=se.codeToName.has(r)?r:se.nameToCode.get(i),r===void 0)throw new Error(`Unsupported multicodec: ${e.name??e.code}`);let o=Ie.encodingLength(r),s=new Uint8Array(o+n.byteLength);return s.set(n,o),Ie.encodeTo(r,s),s}static getCodeFromData(e){let{prefixedData:r}=e,[n,i]=Ie.decode(r);return n}static getCodeFromName(e){let{name:r}=e,n=se.nameToCode.get(r);if(n===void 0)throw new Error(`Unsupported multicodec: ${r}`);return n}static getNameFromCode(e){let{code:r}=e,n=se.codeToName.get(r);if(n===void 0)throw new Error(`Unsupported multicodec: ${r}`);return n}static registerCodec(e){se.codeToName.set(e.code,e.name),se.nameToCode.set(e.name,e.code)}static removePrefix(e){let{prefixedData:r}=e,[n,i]=Ie.decode(r),o=se.codeToName.get(n);if(o===void 0)throw new Error(`Unsupported multicodec: ${n}`);return{code:n,data:r.slice(i),name:o}}};se.codeToName=new Map,se.nameToCode=new Map;var ve=se;ve.registerCodec({code:237,name:"ed25519-pub"});ve.registerCodec({code:4864,name:"ed25519-priv"});ve.registerCodec({code:236,name:"x25519-pub"});ve.registerCodec({code:4866,name:"x25519-priv"});ve.registerCodec({code:231,name:"secp256k1-pub"});ve.registerCodec({code:4865,name:"secp256k1-priv"});function fa(t){return typeof t!="object"||t===null||Object.getOwnPropertySymbols(t).length>0?!1:Object.keys(t).length===0}function la(t){Object.keys(t).forEach(e=>{typeof t[e]=="object"&&la(t[e]),fa(t[e])&&delete t[e]})}function ca(t){Object.keys(t).forEach(e=>{t[e]===void 0?delete t[e]:typeof t[e]=="object"&&ca(t[e])})}var Ku=Zr(Vu(),1),Lo=class{constructor({db:e,location:r="DATASTORE"}={}){this.store=e??new Ku.Level(r)}async clear(){await this.store.clear()}async close(){await this.store.close()}async delete(e){await this.store.del(e)}async get(e){try{return await this.store.get(e)}catch(r){if(r.notFound)return;throw r}}async set(e,r){await this.store.put(e,r)}},Bo=class{constructor(){this.store=new Map}async clear(){this.store.clear()}async close(){}async delete(e){return this.store.delete(e)}async get(e){return this.store.get(e)}async has(e){return this.store.has(e)}async list(){return Array.from(this.store.values())}async set(e,r){this.store.set(e,r)}};var Pr=class t{static async*asAsyncIterator(e){let r=e.getReader();try{for(;;){let{done:n,value:i}=await r.read();if(n)break;yield i}}finally{r.releaseLock()}}static async consumeToArrayBuffer({readableStream:e}){let r=t.asAsyncIterator(e);return await G.asyncIterable(r).toArrayBufferAsync()}static async consumeToBlob({readableStream:e}){let r=t.asAsyncIterator(e);return await G.asyncIterable(r).toBlobAsync()}static async consumeToBytes({readableStream:e}){let r=t.asAsyncIterator(e);return await G.asyncIterable(r).toUint8ArrayAsync()}static async consumeToJson({readableStream:e}){let r=t.asAsyncIterator(e);return await G.asyncIterable(r).toObjectAsync()}static async consumeToText({readableStream:e}){let r=t.asAsyncIterator(e);return await G.asyncIterable(r).toStringAsync()}static generateByteStream({streamLength:e,chunkLength:r,fillValue:n}){let i=e??1/0,o;function s(){let a=Math.min(i,r??1/0);i-=a;let f;if(typeof n=="number")f=new Uint8Array(a).fill(n);else if(Array.isArray(n)){f=new Uint8Array(a);let[u,l]=n,c=l-u+1;for(let y=0;y<a;y++)f[y]=Math.floor(Math.random()*c)+u}else f=new Uint8Array(a);o.enqueue(f),i<=0&&o.close()}return new ReadableStream({start(a){o=a,s()},pull(){s()}})}static isReadable({readableStream:e}){if(!t.isReadableStream(e)||e.locked)return!1;try{return e.getReader().releaseLock(),!0}catch{return!1}}static isReadableStream(e){return typeof e=="object"&&e!==null&&"getReader"in e&&typeof e.getReader=="function"}static isStream(e){return t.isReadableStream(e)||t.isWritableStream(e)||t.isTransformStream(e)}static isTransformStream(e){return typeof e=="object"&&e!==null&&"readable"in e&&typeof e.readable=="object"&&"writable"in e&&typeof e.writable=="object"}static isWritableStream(e){return typeof e=="object"&&e!==null&&"getWriter"in e&&typeof e.getWriter=="function"&&"abort"in e&&typeof e.abort=="function"}};var Kc=Zr(Vs(),1);var Gc=Zr(Vs(),1),Ks=class t{static async consumeToArrayBuffer({readable:e}){return await G.asyncIterable(e).toArrayBufferAsync()}static async consumeToBlob({readable:e}){return await G.asyncIterable(e).toBlobAsync()}static async consumeToBytes({readable:e}){return await G.asyncIterable(e).toUint8ArrayAsync()}static async consumeToJson({readable:e}){return await G.asyncIterable(e).toObjectAsync()}static async consumeToText({readable:e}){return await G.asyncIterable(e).toStringAsync()}static fromWebReadable({readableStream:e,readableOptions:r}){if(!Pr.isReadableStream(e))throw new TypeError("NodeStream.fromWebReadable: 'readableStream' is not a Web ReadableStream.");let n=e.getReader(),i=!1,o=new Kc.Readable({...r,read:function(){n.read().then(({done:s,value:a})=>{if(s)this.push(null);else if(!this.push(a))return}).catch(s=>{this.destroy(s)})},destroy:function(s,a){function f(){a(s)}if(!i){n.cancel(s).then(f).catch(f);return}f()}});return n.closed.then(()=>{i=!0}).catch(s=>{i=!0,o.destroy(s)}),o}static isDestroyed({stream:e}){if(!t.isStream(e))throw new TypeError("NodeStream.isDestroyed: 'stream' is not a Node stream.");let r="_writableState"in e?e._writableState:void 0,n=e._readableState,i=r||n;return!!(e.destroyed||i.destroyed)}static isReadable({readable:e}){return t.isReadableStream(e)?e.readable&&typeof e._readableState.ended=="boolean"&&!e._readableState.ended&&typeof e._readableState.endEmitted=="boolean"&&!e._readableState.endEmitted&&!e.destroyed&&!e.isPaused():!1}static isReadableStream(e){return typeof e=="object"&&e!==null&&"pipe"in e&&typeof e.pipe=="function"&&"on"in e&&typeof e.on=="function"&&!("_writableState"in e)&&"_readableState"in e}static isStream(e){return typeof e=="object"&&e!==null&&("_readableState"in e||"_writableState"in e)}static toWebReadable({readable:e}){if(!t.isReadableStream(e))throw new TypeError("NodeStream.toWebReadable: 'readable' is not a Node Readable stream.");if(t.isDestroyed({stream:e})){let r=new ReadableStream;return r.cancel(),r}return new ReadableStream({start(r){e.on("data",n=>{r.enqueue(n)}),e.on("end",()=>{r.close()}),e.on("error",n=>{r.error(n)})},cancel(){e.destroy()}})}};return Qc(km);})();
/*! Bundled license information:

ieee754/index.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)

buffer/index.js:
  (*!
   * The buffer module from node.js, for the browser.
   *
   * @author   Feross Aboukhadijeh <https://feross.org>
   * @license  MIT
   *)

queue-microtask/index.js:
  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

run-parallel-limit/index.js:
  (*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

safe-buffer/index.js:
  (*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/
//# sourceMappingURL=browser.js.map
