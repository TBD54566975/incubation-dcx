(function (root, factory) {(typeof module === 'object' && module.exports) ? module.exports = factory() : root.MultiformatsMurmur3 = factory()}(typeof self !== 'undefined' ? self : this, function () {
"use strict";var MultiformatsMurmur3=(()=>{var Ce=Object.create;var J=Object.defineProperty;var Ee=Object.getOwnPropertyDescriptor;var De=Object.getOwnPropertyNames;var Ue=Object.getPrototypeOf,ze=Object.prototype.hasOwnProperty;var ae=(n,r)=>()=>(r||n((r={exports:{}}).exports,r),r.exports),ie=(n,r)=>{for(var e in r)J(n,e,{get:r[e],enumerable:!0})},ce=(n,r,e,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of De(r))!ze.call(n,a)&&a!==e&&J(n,a,{get:()=>r[a],enumerable:!(i=Ee(r,a))||i.enumerable});return n};var ye=(n,r,e)=>(e=n!=null?Ce(Ue(n)):{},ce(r||!n||!n.__esModule?J(e,"default",{value:n,enumerable:!0}):e,n)),Ie=n=>ce(J({},"__esModule",{value:!0}),n);var be=ae((F,P)=>{(function(n,r){"use strict";var e={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function i(t){if(!Array.isArray(t)&&!ArrayBuffer.isView(t))return!1;for(var o=0;o<t.length;o++)if(!Number.isInteger(t[o])||t[o]<0||t[o]>255)return!1;return!0}function a(t,o){return(t&65535)*o+(((t>>>16)*o&65535)<<16)}function u(t,o){return t<<o|t>>>32-o}function x(t){return t^=t>>>16,t=a(t,2246822507),t^=t>>>13,t=a(t,3266489909),t^=t>>>16,t}function w(t,o){t=[t[0]>>>16,t[0]&65535,t[1]>>>16,t[1]&65535],o=[o[0]>>>16,o[0]&65535,o[1]>>>16,o[1]&65535];var c=[0,0,0,0];return c[3]+=t[3]+o[3],c[2]+=c[3]>>>16,c[3]&=65535,c[2]+=t[2]+o[2],c[1]+=c[2]>>>16,c[2]&=65535,c[1]+=t[1]+o[1],c[0]+=c[1]>>>16,c[1]&=65535,c[0]+=t[0]+o[0],c[0]&=65535,[c[0]<<16|c[1],c[2]<<16|c[3]]}function S(t,o){t=[t[0]>>>16,t[0]&65535,t[1]>>>16,t[1]&65535],o=[o[0]>>>16,o[0]&65535,o[1]>>>16,o[1]&65535];var c=[0,0,0,0];return c[3]+=t[3]*o[3],c[2]+=c[3]>>>16,c[3]&=65535,c[2]+=t[2]*o[3],c[1]+=c[2]>>>16,c[2]&=65535,c[2]+=t[3]*o[2],c[1]+=c[2]>>>16,c[2]&=65535,c[1]+=t[1]*o[3],c[0]+=c[1]>>>16,c[1]&=65535,c[1]+=t[2]*o[2],c[0]+=c[1]>>>16,c[1]&=65535,c[1]+=t[3]*o[1],c[0]+=c[1]>>>16,c[1]&=65535,c[0]+=t[0]*o[3]+t[1]*o[2]+t[2]*o[1]+t[3]*o[0],c[0]&=65535,[c[0]<<16|c[1],c[2]<<16|c[3]]}function C(t,o){return o%=64,o===32?[t[1],t[0]]:o<32?[t[0]<<o|t[1]>>>32-o,t[1]<<o|t[0]>>>32-o]:(o-=32,[t[1]<<o|t[0]>>>32-o,t[0]<<o|t[1]>>>32-o])}function A(t,o){return o%=64,o===0?t:o<32?[t[0]<<o|t[1]>>>32-o,t[1]<<o]:[t[1]<<o-32,0]}function m(t,o){return[t[0]^o[0],t[1]^o[1]]}function y(t){return t=m(t,[0,t[0]>>>1]),t=S(t,[4283543511,3981806797]),t=m(t,[0,t[0]>>>1]),t=S(t,[3301882366,444984403]),t=m(t,[0,t[0]>>>1]),t}e.x86.hash32=function(t,o){if(e.inputValidation&&!i(t))return r;o=o||0;for(var c=t.length%4,E=t.length-c,s=o,f=0,h=3432918353,p=461845907,l=0;l<E;l=l+4)f=t[l]|t[l+1]<<8|t[l+2]<<16|t[l+3]<<24,f=a(f,h),f=u(f,15),f=a(f,p),s^=f,s=u(s,13),s=a(s,5)+3864292196;switch(f=0,c){case 3:f^=t[l+2]<<16;case 2:f^=t[l+1]<<8;case 1:f^=t[l],f=a(f,h),f=u(f,15),f=a(f,p),s^=f}return s^=t.length,s=x(s),s>>>0},e.x86.hash128=function(t,o){if(e.inputValidation&&!i(t))return r;o=o||0;for(var c=t.length%16,E=t.length-c,s=o,f=o,h=o,p=o,l=0,v=0,d=0,b=0,U=597399067,q=2869860233,R=951274213,H=2716044179,g=0;g<E;g=g+16)l=t[g]|t[g+1]<<8|t[g+2]<<16|t[g+3]<<24,v=t[g+4]|t[g+5]<<8|t[g+6]<<16|t[g+7]<<24,d=t[g+8]|t[g+9]<<8|t[g+10]<<16|t[g+11]<<24,b=t[g+12]|t[g+13]<<8|t[g+14]<<16|t[g+15]<<24,l=a(l,U),l=u(l,15),l=a(l,q),s^=l,s=u(s,19),s+=f,s=a(s,5)+1444728091,v=a(v,q),v=u(v,16),v=a(v,R),f^=v,f=u(f,17),f+=h,f=a(f,5)+197830471,d=a(d,R),d=u(d,17),d=a(d,H),h^=d,h=u(h,15),h+=p,h=a(h,5)+2530024501,b=a(b,H),b=u(b,18),b=a(b,U),p^=b,p=u(p,13),p+=s,p=a(p,5)+850148119;switch(l=0,v=0,d=0,b=0,c){case 15:b^=t[g+14]<<16;case 14:b^=t[g+13]<<8;case 13:b^=t[g+12],b=a(b,H),b=u(b,18),b=a(b,U),p^=b;case 12:d^=t[g+11]<<24;case 11:d^=t[g+10]<<16;case 10:d^=t[g+9]<<8;case 9:d^=t[g+8],d=a(d,R),d=u(d,17),d=a(d,H),h^=d;case 8:v^=t[g+7]<<24;case 7:v^=t[g+6]<<16;case 6:v^=t[g+5]<<8;case 5:v^=t[g+4],v=a(v,q),v=u(v,16),v=a(v,R),f^=v;case 4:l^=t[g+3]<<24;case 3:l^=t[g+2]<<16;case 2:l^=t[g+1]<<8;case 1:l^=t[g],l=a(l,U),l=u(l,15),l=a(l,q),s^=l}return s^=t.length,f^=t.length,h^=t.length,p^=t.length,s+=f,s+=h,s+=p,f+=s,h+=s,p+=s,s=x(s),f=x(f),h=x(h),p=x(p),s+=f,s+=h,s+=p,f+=s,h+=s,p+=s,("00000000"+(s>>>0).toString(16)).slice(-8)+("00000000"+(f>>>0).toString(16)).slice(-8)+("00000000"+(h>>>0).toString(16)).slice(-8)+("00000000"+(p>>>0).toString(16)).slice(-8)},e.x64.hash128=function(t,o){if(e.inputValidation&&!i(t))return r;o=o||0;for(var c=t.length%16,E=t.length-c,s=[0,o],f=[0,o],h=[0,0],p=[0,0],l=[2277735313,289559509],v=[1291169091,658871167],d=0;d<E;d=d+16)h=[t[d+4]|t[d+5]<<8|t[d+6]<<16|t[d+7]<<24,t[d]|t[d+1]<<8|t[d+2]<<16|t[d+3]<<24],p=[t[d+12]|t[d+13]<<8|t[d+14]<<16|t[d+15]<<24,t[d+8]|t[d+9]<<8|t[d+10]<<16|t[d+11]<<24],h=S(h,l),h=C(h,31),h=S(h,v),s=m(s,h),s=C(s,27),s=w(s,f),s=w(S(s,[0,5]),[0,1390208809]),p=S(p,v),p=C(p,33),p=S(p,l),f=m(f,p),f=C(f,31),f=w(f,s),f=w(S(f,[0,5]),[0,944331445]);switch(h=[0,0],p=[0,0],c){case 15:p=m(p,A([0,t[d+14]],48));case 14:p=m(p,A([0,t[d+13]],40));case 13:p=m(p,A([0,t[d+12]],32));case 12:p=m(p,A([0,t[d+11]],24));case 11:p=m(p,A([0,t[d+10]],16));case 10:p=m(p,A([0,t[d+9]],8));case 9:p=m(p,[0,t[d+8]]),p=S(p,v),p=C(p,33),p=S(p,l),f=m(f,p);case 8:h=m(h,A([0,t[d+7]],56));case 7:h=m(h,A([0,t[d+6]],48));case 6:h=m(h,A([0,t[d+5]],40));case 5:h=m(h,A([0,t[d+4]],32));case 4:h=m(h,A([0,t[d+3]],24));case 3:h=m(h,A([0,t[d+2]],16));case 2:h=m(h,A([0,t[d+1]],8));case 1:h=m(h,[0,t[d]]),h=S(h,l),h=C(h,31),h=S(h,v),s=m(s,h)}return s=m(s,[0,t.length]),f=m(f,[0,t.length]),s=w(s,f),f=w(f,s),s=y(s),f=y(f),s=w(s,f),f=w(f,s),("00000000"+(s[0]>>>0).toString(16)).slice(-8)+("00000000"+(s[1]>>>0).toString(16)).slice(-8)+("00000000"+(f[0]>>>0).toString(16)).slice(-8)+("00000000"+(f[1]>>>0).toString(16)).slice(-8)},typeof F<"u"?(typeof P<"u"&&P.exports&&(F=P.exports=e),F.murmurHash3=e):typeof define=="function"&&define.amd?define([],function(){return e}):(e._murmurHash3=n.murmurHash3,e.noConflict=function(){return n.murmurHash3=e._murmurHash3,e._murmurHash3=r,e.noConflict=r,e},n.murmurHash3=e)})(F)});var Ae=ae((Gr,Se)=>{Se.exports=be()});var lr={};ie(lr,{murmur3128:()=>hr,murmur332:()=>dr,murmur364:()=>pr});var k={};ie(k,{coerce:()=>I,empty:()=>se,equals:()=>Q,fromHex:()=>Ve,fromString:()=>ke,isBinary:()=>Ne,toHex:()=>Me,toString:()=>Oe});var se=new Uint8Array(0);function Me(n){return n.reduce((r,e)=>r+e.toString(16).padStart(2,"0"),"")}function Ve(n){let r=n.match(/../g);return r!=null?new Uint8Array(r.map(e=>parseInt(e,16))):se}function Q(n,r){if(n===r)return!0;if(n.byteLength!==r.byteLength)return!1;for(let e=0;e<n.byteLength;e++)if(n[e]!==r[e])return!1;return!0}function I(n){if(n instanceof Uint8Array&&n.constructor.name==="Uint8Array")return n;if(n instanceof ArrayBuffer)return new Uint8Array(n);if(ArrayBuffer.isView(n))return new Uint8Array(n.buffer,n.byteOffset,n.byteLength);throw new Error("Unknown type, must be binary type")}function Ne(n){return n instanceof ArrayBuffer||ArrayBuffer.isView(n)}function ke(n){return new TextEncoder().encode(n)}function Oe(n){return new TextDecoder().decode(n)}function Be(n,r){if(n.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),i=0;i<e.length;i++)e[i]=255;for(var a=0;a<n.length;a++){var u=n.charAt(a),x=u.charCodeAt(0);if(e[x]!==255)throw new TypeError(u+" is ambiguous");e[x]=a}var w=n.length,S=n.charAt(0),C=Math.log(w)/Math.log(256),A=Math.log(256)/Math.log(w);function m(o){if(o instanceof Uint8Array||(ArrayBuffer.isView(o)?o=new Uint8Array(o.buffer,o.byteOffset,o.byteLength):Array.isArray(o)&&(o=Uint8Array.from(o))),!(o instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(o.length===0)return"";for(var c=0,E=0,s=0,f=o.length;s!==f&&o[s]===0;)s++,c++;for(var h=(f-s)*A+1>>>0,p=new Uint8Array(h);s!==f;){for(var l=o[s],v=0,d=h-1;(l!==0||v<E)&&d!==-1;d--,v++)l+=256*p[d]>>>0,p[d]=l%w>>>0,l=l/w>>>0;if(l!==0)throw new Error("Non-zero carry");E=v,s++}for(var b=h-E;b!==h&&p[b]===0;)b++;for(var U=S.repeat(c);b<h;++b)U+=n.charAt(p[b]);return U}function y(o){if(typeof o!="string")throw new TypeError("Expected String");if(o.length===0)return new Uint8Array;var c=0;if(o[c]!==" "){for(var E=0,s=0;o[c]===S;)E++,c++;for(var f=(o.length-c)*C+1>>>0,h=new Uint8Array(f);o[c];){var p=e[o.charCodeAt(c)];if(p===255)return;for(var l=0,v=f-1;(p!==0||l<s)&&v!==-1;v--,l++)p+=w*h[v]>>>0,h[v]=p%256>>>0,p=p/256>>>0;if(p!==0)throw new Error("Non-zero carry");s=l,c++}if(o[c]!==" "){for(var d=f-s;d!==f&&h[d]===0;)d++;for(var b=new Uint8Array(E+(f-d)),U=E;d!==f;)b[U++]=h[d++];return b}}}function t(o){var c=y(o);if(c)return c;throw new Error(`Non-${r} character`)}return{encode:m,decodeUnsafe:y,decode:t}}var Le=Be,Te=Le,fe=Te;var X=class{name;prefix;baseEncode;constructor(r,e,i){this.name=r,this.prefix=e,this.baseEncode=i}encode(r){if(r instanceof Uint8Array)return`${this.prefix}${this.baseEncode(r)}`;throw Error("Unknown type, must be binary type")}},G=class{name;prefix;baseDecode;prefixCodePoint;constructor(r,e,i){if(this.name=r,this.prefix=e,e.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=i}decode(r){if(typeof r=="string"){if(r.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(r)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(r.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(r){return ue(this,r)}},K=class{decoders;constructor(r){this.decoders=r}or(r){return ue(this,r)}decode(r){let e=r[0],i=this.decoders[e];if(i!=null)return i.decode(r);throw RangeError(`Unable to decode multibase string ${JSON.stringify(r)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};function ue(n,r){return new K({...n.decoders??{[n.prefix]:n},...r.decoders??{[r.prefix]:r}})}var W=class{name;prefix;baseEncode;baseDecode;encoder;decoder;constructor(r,e,i,a){this.name=r,this.prefix=e,this.baseEncode=i,this.baseDecode=a,this.encoder=new X(r,e,i),this.decoder=new G(r,e,a)}encode(r){return this.encoder.encode(r)}decode(r){return this.decoder.decode(r)}};function de({name:n,prefix:r,encode:e,decode:i}){return new W(n,r,e,i)}function Z({name:n,prefix:r,alphabet:e}){let{encode:i,decode:a}=fe(e,n);return de({prefix:r,name:n,encode:i,decode:u=>I(a(u))})}function $e(n,r,e,i){let a={};for(let A=0;A<r.length;++A)a[r[A]]=A;let u=n.length;for(;n[u-1]==="=";)--u;let x=new Uint8Array(u*e/8|0),w=0,S=0,C=0;for(let A=0;A<u;++A){let m=a[n[A]];if(m===void 0)throw new SyntaxError(`Non-${i} character`);S=S<<e|m,w+=e,w>=8&&(w-=8,x[C++]=255&S>>w)}if(w>=e||255&S<<8-w)throw new SyntaxError("Unexpected end of data");return x}function Fe(n,r,e){let i=r[r.length-1]==="=",a=(1<<e)-1,u="",x=0,w=0;for(let S=0;S<n.length;++S)for(w=w<<8|n[S],x+=8;x>e;)x-=e,u+=r[a&w>>x];if(x!==0&&(u+=r[a&w<<e-x]),i)for(;u.length*e&7;)u+="=";return u}function D({name:n,prefix:r,bitsPerChar:e,alphabet:i}){return de({prefix:r,name:n,encode(a){return Fe(a,i,e)},decode(a){return $e(a,i,e,n)}})}var O=D({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Sr=D({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ar=D({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Cr=D({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Er=D({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Dr=D({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Ur=D({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),zr=D({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),yr=D({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var z=Z({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Vr=Z({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var qe=le,he=128,Re=127,He=~Re,Je=Math.pow(2,31);function le(n,r,e){r=r||[],e=e||0;for(var i=e;n>=Je;)r[e++]=n&255|he,n/=128;for(;n&He;)r[e++]=n&255|he,n>>>=7;return r[e]=n|0,le.bytes=e-i+1,r}var _e=Y,Pe=128,pe=127;function Y(n,i){var e=0,i=i||0,a=0,u=i,x,w=n.length;do{if(u>=w)throw Y.bytes=0,new RangeError("Could not decode varint");x=n[u++],e+=a<28?(x&pe)<<a:(x&pe)*Math.pow(2,a),a+=7}while(x>=Pe);return Y.bytes=u-i,e}var je=Math.pow(2,7),Qe=Math.pow(2,14),Xe=Math.pow(2,21),Ge=Math.pow(2,28),Ke=Math.pow(2,35),We=Math.pow(2,42),Ze=Math.pow(2,49),Ye=Math.pow(2,56),er=Math.pow(2,63),rr=function(n){return n<je?1:n<Qe?2:n<Xe?3:n<Ge?4:n<Ke?5:n<We?6:n<Ze?7:n<Ye?8:n<er?9:10},tr={encode:qe,decode:_e,encodingLength:rr},nr=tr,B=nr;function L(n,r=0){return[B.decode(n,r),B.decode.bytes]}function M(n,r,e=0){return B.encode(n,r,e),r}function V(n){return B.encodingLength(n)}function T(n,r){let e=r.byteLength,i=V(n),a=i+V(e),u=new Uint8Array(a+e);return M(n,u,0),M(e,u,i),u.set(r,a),new N(n,e,r,u)}function xe(n){let r=I(n),[e,i]=L(r),[a,u]=L(r.subarray(i)),x=r.subarray(i+u);if(x.byteLength!==a)throw new Error("Incorrect length");return new N(e,a,x,r)}function ve(n,r){if(n===r)return!0;{let e=r;return n.code===e.code&&n.size===e.size&&e.bytes instanceof Uint8Array&&Q(n.bytes,e.bytes)}}var N=class{code;size;digest;bytes;constructor(r,e,i,a){this.code=r,this.size=e,this.digest=i,this.bytes=a}};function ge(n,r){let{bytes:e,version:i}=n;switch(i){case 0:return ar(e,te(n),r??z.encoder);default:return ir(e,te(n),r??O.encoder)}}var we=new WeakMap;function te(n){let r=we.get(n);if(r==null){let e=new Map;return we.set(n,e),e}return r}var ne=class n{code;version;multihash;bytes;"/";constructor(r,e,i,a){this.code=e,this.version=r,this.multihash=i,this.bytes=a,this["/"]=a}get asCID(){return this}get byteOffset(){return this.bytes.byteOffset}get byteLength(){return this.bytes.byteLength}toV0(){switch(this.version){case 0:return this;case 1:{let{code:r,multihash:e}=this;if(r!==$)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(e.code!==cr)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return n.createV0(e)}default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}toV1(){switch(this.version){case 0:{let{code:r,digest:e}=this.multihash,i=T(r,e);return n.createV1(this.code,i)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 1. This is a bug please report`)}}equals(r){return n.equals(this,r)}static equals(r,e){let i=e;return i!=null&&r.code===i.code&&r.version===i.version&&ve(r.multihash,i.multihash)}toString(r){return ge(this,r)}toJSON(){return{"/":ge(this)}}link(){return this}[Symbol.toStringTag]="CID";[Symbol.for("nodejs.util.inspect.custom")](){return`CID(${this.toString()})`}static asCID(r){if(r==null)return null;let e=r;if(e instanceof n)return e;if(e["/"]!=null&&e["/"]===e.bytes||e.asCID===e){let{version:i,code:a,multihash:u,bytes:x}=e;return new n(i,a,u,x??me(i,a,u.bytes))}else if(e[sr]===!0){let{version:i,multihash:a,code:u}=e,x=xe(a);return n.create(i,u,x)}else return null}static create(r,e,i){if(typeof e!="number")throw new Error("String codecs are no longer supported");if(!(i.bytes instanceof Uint8Array))throw new Error("Invalid digest");switch(r){case 0:{if(e!==$)throw new Error(`Version 0 CID must use dag-pb (code: ${$}) block encoding`);return new n(r,e,i,i.bytes)}case 1:{let a=me(r,e,i.bytes);return new n(r,e,i,a)}default:throw new Error("Invalid version")}}static createV0(r){return n.create(0,$,r)}static createV1(r,e){return n.create(1,r,e)}static decode(r){let[e,i]=n.decodeFirst(r);if(i.length!==0)throw new Error("Incorrect length");return e}static decodeFirst(r){let e=n.inspectBytes(r),i=e.size-e.multihashSize,a=I(r.subarray(i,i+e.multihashSize));if(a.byteLength!==e.multihashSize)throw new Error("Incorrect length");let u=a.subarray(e.multihashSize-e.digestSize),x=new N(e.multihashCode,e.digestSize,u,a);return[e.version===0?n.createV0(x):n.createV1(e.codec,x),r.subarray(e.size)]}static inspectBytes(r){let e=0,i=()=>{let[m,y]=L(r.subarray(e));return e+=y,m},a=i(),u=$;if(a===18?(a=0,e=0):u=i(),a!==0&&a!==1)throw new RangeError(`Invalid CID version ${a}`);let x=e,w=i(),S=i(),C=e+S,A=C-x;return{version:a,codec:u,multihashCode:w,digestSize:S,multihashSize:A,size:C}}static parse(r,e){let[i,a]=or(r,e),u=n.decode(a);if(u.version===0&&r[0]!=="Q")throw Error("Version 0 CID string must not include multibase prefix");return te(u).set(i,r),u}};function or(n,r){switch(n[0]){case"Q":{let e=r??z;return[z.prefix,e.decode(`${z.prefix}${n}`)]}case z.prefix:{let e=r??z;return[z.prefix,e.decode(n)]}case O.prefix:{let e=r??O;return[O.prefix,e.decode(n)]}default:{if(r==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[n[0],r.decode(n)]}}}function ar(n,r,e){let{prefix:i}=e;if(i!==z.prefix)throw Error(`Cannot string encode V0 in ${e.name} encoding`);let a=r.get(i);if(a==null){let u=e.encode(n).slice(1);return r.set(i,u),u}else return a}function ir(n,r,e){let{prefix:i}=e,a=r.get(i);if(a==null){let u=e.encode(n);return r.set(i,u),u}else return a}var $=112,cr=18;function me(n,r,e){let i=V(n),a=i+V(r),u=new Uint8Array(a+e.byteLength);return M(n,u,0),M(r,u,i),u.set(e,a),u}var sr=Symbol.for("@ipld/js-cid/CID");function _({name:n,code:r,encode:e}){return new oe(n,r,e)}var oe=class{name;code;encode;constructor(r,e,i){this.name=r,this.code=e,this.encode=i}digest(r){if(r instanceof Uint8Array){let e=this.encode(r);return e instanceof Uint8Array?T(this.code,e):e.then(i=>T(this.code,i))}else throw Error("Unknown type, must be binary type")}};var j=ye(Ae(),1);function ur(n){let r=new Array(4);for(let e=0;e<4;e++)r[e]=n&255,n=n>>8;return new Uint8Array(r)}var dr=_({name:"murmur3-32",code:35,encode:n=>ur(j.default.x86.hash32(n))}),hr=_({name:"murmur3-128",code:34,encode:n=>k.fromHex(j.default.x64.hash128(n))}),pr=_({name:"murmur3-x64-64",code:34,encode:n=>k.fromHex(j.default.x64.hash128(n)).subarray(0,8)});return Ie(lr);})();
return MultiformatsMurmur3}));
